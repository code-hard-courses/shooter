!function o(a,s,u){function c(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return c(a[t][1][e]||e)},i,i.exports,o,a,s,u)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.heroParams={height:50,width:30,posX:50,posY:50,spriteLayer:{top:2,left:3,right:0,bottom:1}},n.buffParams={buffTime:2e4,speedGrowth:2},n.bulletParams={speed:10,color:"black",size:5,damage:35,speedDecrease:.1,growAfterBuff:2,minDamage:6,minCreatureSize:25},n.smartEnemyParams={speed:.6,size:25,message:{x:10,y:5,font:"13px Arial"},defenseIncrease:3,speedIncrease:.1},n.dummyEnemyParams={speed:.8,size:25,spriteLayer:{top:3,left:1,right:0,bottom:2}},n.intervals={updateGameState:20,updateSprites:200,addSmartEnemy:3e3,addDummyEnemy:4e3,addBuffItem:8e3,lvlUp:1e4},n.lvlBuffs={speedIncrease:.25,sizeIncrease:2}},{}],2:[function(e,t,n){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Bullet=n.currentBullet=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.growBullet=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h.bulletParams.growAfterBuff;d.size*=e,d.damage*=e,d.speedDecrease*=e},n.shrinkBullet=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h.bulletParams.growAfterBuff;d.size/=e,d.damage/=e,d.speedDecrease/=e},n.makeBulletDefault=function(){d.size=h.bulletParams.size,d.damage=h.bulletParams.damage,d.speedDecrease=h.bulletParams.speedDecrease};var i=e("./unit"),h=e("../constants");var d=n.currentBullet={size:h.bulletParams.size,damage:h.bulletParams.damage,speedDecrease:h.bulletParams.speedDecrease};n.Bullet=function(e){function l(e,t,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:d.size,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:d.size,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:h.bulletParams.speed,u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:h.bulletParams.color;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":f(t))&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e,o,a,t-d.size/2,n-d.size/2,r,i,s));return c.color=u,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":f(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,i.Unit),r(l,[{key:"newPos",value:function(){return this.x+=this.speed*this.dir.x,this.y+=this.speed*this.dir.y,this}},{key:"update",value:function(e){return e.beginPath(),e.fillStyle=this.color,e.arc(this.x,this.y,d.size,0,2*Math.PI,!0),e.fill(),this}}]),l}()},{"../constants":1,"./unit":6}],3:[function(e,t,n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.DummyEnemy=n.BASE_DUMMY_SIZE=n.SPEED=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./unit"),o=e("../constants");var f=n.SPEED=o.dummyEnemyParams.speed,a=(n.BASE_DUMMY_SIZE=o.dummyEnemyParams.size,document.querySelector(".dummy-enemy-sprite"));n.DummyEnemy=function(e){function c(e,t,n,r,i,o,a){var s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,n,r,i,o,a,s));return u.sprite={baseX:0,baseY:0,x:0,y:16*u.getSpriteLayerValue(u.dir.x,u.dir.y),width:16,height:16,deltaX:16,deltaY:16},u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Unit),r(c,[{key:"setNextSprite",value:function(){this.sprite.x<16?this.sprite.x+=this.sprite.deltaX:this.sprite.x=this.sprite.baseX}},{key:"update",value:function(e){var t=this.sprite,n=this.x,r=this.y,i=this.width,o=this.height;return e.drawImage(a,t.x,t.y,t.width,t.height,n,r,i,o),this}},{key:"getSpriteLayerValue",value:function(e,t){var n=o.dummyEnemyParams.spriteLayer;return Math.abs(e)>Math.abs(t)?0<e?n.right:n.left:0<t?n.bottom:n.top}}]),c}()},{"../constants":1,"./unit":6}],4:[function(e,t,n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Hero=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.increaseHeroVelocityByBuff=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.buffParams.speedGrowth;h.speed*=e,h.acceleration*=e,h.maxAccelerationTime*=e},n.decreaseHeroVelocityByDebuff=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.buffParams.speedGrowth;h.speed/=e,h.acceleration/=e,h.maxAccelerationTime/=e};var i=e("./unit"),f=e("../constants");var h={speed:1,acceleration:5e-4,maxAccelerationTime:3e3},a=document.querySelector(".hero-sprite");n.Hero=function(e){function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:f.heroParams.width,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:f.heroParams.height,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:f.heroParams.posX,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:f.heroParams.posY,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:h.speed;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,n,r,i,o,a,s));return u.isImmortal=!1,u.accelerationStartTime=0,u.currentAccelerationTimer="",u.currentBuffs=[],u.sprite={baseX:9,baseY:2,x:9,y:2,width:16,height:26,deltaX:32,deltaY:32},u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Unit),r(c,[{key:"setNextSprite",value:function(){this.sprite.y<96?this.sprite.y+=this.sprite.deltaY:this.sprite.y=this.sprite.baseY}},{key:"update",value:function(e){document.querySelector(".speed").innerHTML=~~(100*this.speed)/100;var t=this.sprite,n=this.x,r=this.y,i=this.width,o=this.height;return e.drawImage(a,t.x,t.y,t.width,t.height,n,r,i,o),this}},{key:"updateSpriteDirection",value:function(e){this.sprite.x=this.sprite.baseX+f.heroParams.spriteLayer[e]*this.sprite.deltaX}},{key:"makeHeroSpeedParamsDefault",value:function(){this.currentAccelerationTimer&&clearInterval(this.currentAccelerationTimer),this.speed=h.speed,this.accelerationStartTime=0}},{key:"setNewSpeedTimer",value:function(){var e=this,t=this.speed;this.accelerationStartTime=0,this.currentAccelerationTimer=setInterval(function(){e.accelerationStartTime+=50,e.speed=t+h.acceleration*e.accelerationStartTime,e.accelerationStartTime>=h.maxAccelerationTime&&clearInterval(e.currentAccelerationTimer)},50)}},{key:"drawBuffs",value:function(n){var r=this,i=f.buffParams.buffTime/1e3;return this.currentBuffs.forEach(function(e,t){n.fillStyle=e.type,n.fillRect(r.x,r.y-10-10*t,r.width*(i-e.time)/i,7)}),this}}]),c}()},{"../constants":1,"./unit":6}],5:[function(e,t,n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.SmartEnemy=n.BASE_SMART_SIZE=void 0;var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./unit"),u=e("../utils/geometryUtils"),f=e("../constants");n.BASE_SMART_SIZE=f.smartEnemyParams.size;var a=document.querySelector(".smart-enemy-sprite");n.SmartEnemy=function(e){function c(e,t,n,r,i,o,a){var s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:f.smartEnemyParams.speed;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,n,r,i,o,a,s));return u.sprite={baseX:0,baseY:0,x:0,y:0,width:16,height:16,deltaX:16,deltaY:16},u.defense=0,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Unit),r(c,[{key:"setNextSprite",value:function(){this.sprite.x<48?this.sprite.x+=this.sprite.deltaX:this.sprite.x=this.sprite.baseX}},{key:"newPos",value:function(e){return this.updateDirection(e),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"newPos",this).call(this),this}},{key:"update",value:function(e){var t=this.sprite,n=this.x,r=this.y,i=this.width,o=this.height;return e.drawImage(a,t.x,t.y,t.width,t.height,n,r,i,o),this}},{key:"showWarningMessage",value:function(e){var t=f.smartEnemyParams.message;this.ctx.font=t.font,this.ctx.strokeText(e,this.x+t.x,this.y-t.y)}},{key:"updateDirection",value:function(e){var t=e.isImmortal?{distance:300,isFear:1,message:"You don't catch me!"}:{distance:200,isFear:-1,message:"I see you!"};if(!(0,u.isDistanceBetweenUnitsMoreThanSafe)(e,this,t.distance)){var n=(0,u.getCenterCoordinates)(e),r=s(n,2),i=r[0],o=r[1],a=Math.atan2(i-this.x-this.width/2,o-this.y-this.height/2)+Math.PI;this.dir.y=t.isFear*Math.cos(a),this.dir.x=t.isFear*Math.sin(a),this.showWarningMessage(t.message)}}},{key:"eat",value:function(e){var t=f.smartEnemyParams.defenseIncrease,n=f.smartEnemyParams.speedIncrease,r=f.smartEnemyParams.speed,i=this.width*this.height,o=e.width*e.height,a=Math.pow((i+o)/i,.5);this.width*=a,this.height*=a,this.defense=Math.max(this.defense,e.defense)+t;var s=Math.max(this.speed,e.speed);this.speed=r<s?s+=n:r,this.x=(this.x*i+e.x*o)/(i+o),this.y=(this.y*i+e.y*o)/(i+o)}}]),c}()},{"../constants":1,"../utils/geometryUtils":20,"./unit":6}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Unit=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("../utils/geometryUtils");n.Unit=function(){function u(e,t,n,r,i,o,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.ctx=e,this.width=t,this.height=n,this.speed=s,this.x=r,this.y=i,this.dir={x:o,y:a}}return r(u,[{key:"newPos",value:function(){return this.x+=this.speed*this.dir.x,this.y+=this.speed*this.dir.y,(0,i.moveToAnotherSideIfGoBeyonceCanvas)(this.ctx,this),this}}]),u}()},{"../utils/geometryUtils":20}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Game=void 0;var u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./creatures/hero"),y=e("./creatures/dummyEnemy"),s=e("./creatures/smartEnemy"),c=e("./utils/controlsUtils"),f=e("./utils/geometryUtils"),o=e("./utils/canvasUtils"),l=e("./creatures/bullet"),a=e("./items/buffs/buffGenerator"),h=e("./main"),d=e("./utils/userUtils"),m=e("./items/landscape"),p=e("./utils/effectsUtils"),v=e("./replay"),b=e("./constants");function g(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n.Game=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.canvas.width=700,this.canvas.height=700,this.ctx=this.canvas.getContext("2d"),this.startTime=Date.now(),this.currentTime=Date.now(),this.hero=new i.Hero(this.ctx),this.landscape=new m.Landscape(this.ctx,40,40),this.dummyEnemies=[],this.smartEnemies=[],this.heroBullets=[],this.timers=[],this.lvl=1,this.buffItem="",this.replay={landscape:this.landscape,units:[]},this.handleHeroPosition()}return r(t,[{key:"start",value:function(){var n=this,e=setInterval(function(){return n.updateGameState()},b.intervals.updateGameState),t=setInterval(function(){return n.updateSprites()},b.intervals.updateSprites),r=setInterval(function(){return n.addEnemy(n.smartEnemies,s.SmartEnemy,s.BASE_SMART_SIZE)},b.intervals.addSmartEnemy),i=setInterval(function(){return n.addEnemy(n.dummyEnemies,y.DummyEnemy,y.BASE_DUMMY_SIZE)},b.intervals.addDummyEnemy),o=setInterval(function(){return n.addBuffItem()},b.intervals.addBuffItem),a=setInterval(function(){return n.lvlUp()},b.intervals.lvlUp);this.timers.push(e,t,r,i,o,a),(0,c.addHeroControls)(this.hero,function(e,t){return n.addBullet(e,t)})}},{key:"updateGameState",value:function(){this.updateCanvasState(),this.currentTime=(0,d.updateScoreLabel)(this.currentTime,this.startTime),(0,v.addSnapshotToReplay)(this.replay.units,this.currentTime-this.startTime,this.hero,this.dummyEnemies,this.smartEnemies,this.heroBullets,this.buffItem,this.lvl)}},{key:"updateSprites",value:function(){[this.hero].concat(g(this.dummyEnemies),g(this.smartEnemies)).forEach(function(e){return e.setNextSprite()})}},{key:"updateCanvasState",value:function(){(0,o.clearCanvas)(this.ctx),this.handleHeroDeath(),this.handleHeroPosition(),this.handleBuffItemPosition(),this.heroBullets=(0,f.getElementsInsideCanvas)(this.ctx,this.heroBullets),this.handleDummyEnemiesPosition(),this.handleSmartEnemiesPosition(),this.handleEnemiesDeath(),this.handleBuffs()}},{key:"drawLandscape",value:function(){this.landscape.draw(this.ctx)}},{key:"handleHeroPosition",value:function(){this.hero.newPos().update(this.ctx).drawBuffs(this.ctx)}},{key:"handleBuffItemPosition",value:function(){this.buffItem&&this.buffItem.draw(this.ctx)}},{key:"handleDummyEnemiesPosition",value:function(){var t=this;this.dummyEnemies.forEach(function(e){return e.newPos().update(t.ctx)})}},{key:"handleSmartEnemiesPosition",value:function(){var r=this;this.smartEnemies=this.smartEnemies.reduce(function(e,t){if(e.some(function(e){return(0,f.ifUnitsTouchEachOther)(e,t)}))return e;var n=r.smartEnemies.find(function(e){return(0,f.ifUnitsTouchEachOther)(e,t)&&e!==t});return n&&t.eat(n),e.push(t),e},[]),this.smartEnemies.forEach(function(e){return e.newPos(r.hero).update(r.ctx)})}},{key:"handleEnemiesDeath",value:function(){var e=this,n=[],r=[],i=[],o=[].concat(g(this.smartEnemies),g(this.dummyEnemies));this.smartEnemies.forEach(function(t){e.heroBullets.some(function(e){return(0,p.shouldEnemyDieIfBulletHitsHim)(t,e)})||n.push(t)}),this.dummyEnemies.forEach(function(t){e.heroBullets.some(function(e){return(0,p.shouldEnemyDieIfBulletHitsHim)(t,e)})||r.push(t)}),this.heroBullets.forEach(function(t){o.some(function(e){return(0,p.shouldEnemyDieIfBulletHitsHim)(e,t)})||i.push(t)}),this.smartEnemies=n,this.dummyEnemies=r,this.heroBullets=i}},{key:"handleHeroDeath",value:function(){var t=this;this.hero.isImmortal||[].concat(g(this.dummyEnemies),g(this.smartEnemies)).some(function(e){return(0,f.ifUnitsTouchEachOther)(t.hero,e,10)})&&this.finishGame()}},{key:"finishGame",value:function(){var e=this;this.stopGameAndClearState(),(0,d.showReplayButton)(),(0,d.showLoseMessage)(),(0,d.subscribeToShowReplay)(function(){return(0,v.showReplay)(e.replay,e.ctx)}),document.addEventListener("keydown",h.initializeGame,{once:!0})}},{key:"stopGameAndClearState",value:function(){this.timers.map(function(e){return clearInterval(e)}),this.hero.currentBuffs.map(function(e){return clearInterval(e.timer)}),(0,l.makeBulletDefault)()}},{key:"handleBuffs",value:function(){(0,f.ifUnitsTouchEachOther)(this.hero,this.buffItem)&&(this.buffItem.activateBuff(this),this.buffItem="")}},{key:"lvlUp",value:function(){this.addEnemyStack(this.dummyEnemies,y.DummyEnemy,y.BASE_DUMMY_SIZE),this.lvl++,(0,d.updateLevelLabel)(this.lvl)}},{key:"addEnemy",value:function(e,t,n){var r=this.generateRandomPositionAndDirection(this.hero,n),i=r.size,o=r.x,a=r.y,s=r.alfaX,u=r.alfaY,c=new t(this.ctx,i,i,o,a,s,u,y.SPEED+b.lvlBuffs.speedIncrease*this.lvl);e.push(c)}},{key:"addEnemyStack",value:function(e,t,n){var r=this.generateRandomPositionAndDirection(this.hero,n),i=r.size,o=r.x,a=r.y,s=r.alfaX,u=r.alfaY,c=new t(this.ctx,i,i,o,a,s,u,y.SPEED+b.lvlBuffs.speedIncrease*this.lvl);e.push(c);for(var l=0;l<this.lvl;l++){var f=this.generateRandomPositionAndDirection(c,n,!0,100),h=f.size,d=f.x,m=f.y,p=new t(this.ctx,h,h,d,m,s,u,y.SPEED+b.lvlBuffs.speedIncrease*this.lvl);e.push(p)}}},{key:"addBullet",value:function(e,t){var n=(0,f.getCenterCoordinates)(this.hero),r=u(n,2),i=r[0],o=r[1],a=Math.atan2(i-e,o-t)+Math.PI,s=new l.Bullet(this.ctx,i,o,Math.sin(a),Math.cos(a));this.heroBullets.push(s)}},{key:"addBuffItem",value:function(){var e=this.generateRandomPositionAndDirection(this.hero,0),t=e.x,n=e.y,r=new a.RandomBuff(this.ctx,20,20,t,n);this.buffItem=r}},{key:"generateRandomPositionAndDirection",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:200,i=void 0,o=void 0,a=void 0,s=20*Math.random()+t+this.lvl*b.lvlBuffs.sizeIncrease,u=2*Math.random()-1,c=2*Math.random()-1;do{var l={x:i=Math.random()*this.ctx.canvas.clientWidth,y:o=Math.random()*this.ctx.canvas.clientHeight,width:s,height:s};a=(0,f.isDistanceBetweenUnitsMoreThanSafe)(e,l,r)}while(n?a:!a);return{x:i,y:o,alfaX:u,alfaY:c,size:s}}}]),t}()},{"./constants":1,"./creatures/bullet":2,"./creatures/dummyEnemy":3,"./creatures/hero":4,"./creatures/smartEnemy":5,"./items/buffs/buffGenerator":8,"./items/landscape":13,"./main":14,"./replay":15,"./utils/canvasUtils":17,"./utils/controlsUtils":18,"./utils/effectsUtils":19,"./utils/geometryUtils":20,"./utils/userUtils":23}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.buffTypes=void 0,n.RandomBuff=function(e,t,n,r,i){var o=a[~~(3*Math.random())];return new o.constructor(e,t,n,r,i,o.selector)};var r=e("./sword"),i=e("./shield"),o=e("./shoes"),a=n.buffTypes=[{selector:".sword",constructor:r.Sword,color:"red"},{selector:".shield",constructor:i.Shield,color:"black"},{selector:".shoes",constructor:o.Shoes,color:"blue"}]},{"./shield":10,"./shoes":11,"./sword":12}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.Item=function(){function a(e,t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.ctx=e,this.width=t,this.height=n,this.x=r,this.y=i,this.sprite={x:0,y:0,width:16,height:16},this.image=document.querySelector(o)}return r(a,[{key:"draw",value:function(e){var t=this.image,n=this.sprite,r=this.x,i=this.y,o=this.width,a=this.height;return e.drawImage(t,n.x,n.y,n.width,n.height,r,i,o,a),this}}]),a}()},{}],10:[function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Shield=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./item"),o=e("../../utils/effectsUtils"),u=e("./buffGenerator"),c=e("../../constants");n.Shield=function(e){function a(e,t,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i.Item),r(a,[{key:"activateBuff",value:function(t){(0,o.addBuffIndicator)(t.hero,u.buffTypes[1].color),t.hero.isImmortal=!0;var e=setTimeout(function(){var e=t.hero.currentBuffs.some(function(e){return e.color===u.buffTypes[1].color});t.hero.isImmortal=!e},c.buffParams.buffTime);t.timers.push(e)}}]),a}()},{"../../constants":1,"../../utils/effectsUtils":19,"./buffGenerator":8,"./item":9}],11:[function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Shoes=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./item"),o=e("../../creatures/hero"),u=e("../../utils/effectsUtils"),c=e("./buffGenerator"),l=e("../../constants");function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n.Shoes=function(e){function a(e,t,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i.Item),r(a,[{key:"activateBuff",value:function(e){(0,u.addBuffIndicator)(e.hero,c.buffTypes[2].color),(0,o.increaseHeroVelocityByBuff)();var t=[].concat(f(e.smartEnemies),f(e.dummyEnemies));t.forEach(function(e){return e.speed/=5});var n=setTimeout(function(){(0,o.decreaseHeroVelocityByDebuff)(),t.forEach(function(e){return e.speed*=5})},l.buffParams.buffTime);e.timers.push(n)}}]),a}()},{"../../constants":1,"../../creatures/hero":4,"../../utils/effectsUtils":19,"./buffGenerator":8,"./item":9}],12:[function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Sword=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./item"),o=e("../../creatures/bullet"),u=e("../../utils/effectsUtils"),c=e("./buffGenerator"),l=e("../../constants");n.Sword=function(e){function a(e,t,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i.Item),r(a,[{key:"activateBuff",value:function(e){(0,u.addBuffIndicator)(e.hero,c.buffTypes[0].color),(0,o.growBullet)();var t=setTimeout(function(){return(0,o.shrinkBullet)()},l.buffParams.buffTime);e.timers.push(t)}}]),a}()},{"../../constants":1,"../../creatures/bullet":2,"../../utils/effectsUtils":19,"./buffGenerator":8,"./item":9}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.Landscape=function(){function r(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.ctx=e,this.width=t,this.height=n,this.canvasWidth=e.canvas.clientWidth,this.canvasHeight=e.canvas.clientWidth,this.sprite={x:0,y:0,width:32,height:32},this.image=document.querySelector(".landscape")}return i(r,[{key:"draw",value:function(e){for(var t=this.image,n=this.sprite,r=this.canvasWidth,i=this.canvasHeight,o=this.width,a=this.height,s=0;s<r;s+=o)for(var u=0;u<i;u+=a)e.drawImage(t,n.x,n.y,n.width,n.height,s,u,o,a);return this}}]),r}()},{}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.game=void 0,n.initializeGame=function(){var e=document.querySelector("canvas");(0,i.hideReplayButton)(),n.game=u=new r.Game(e),document.addEventListener("keydown",c,{once:!0})},n.startGame=c;var r=e("./game"),i=e("./utils/userUtils"),o=s(e("./utils/router")),a=s(e("./routes"));function s(e){return e&&e.__esModule?e:{default:e}}var u=n.game=void 0;function c(){u.start()}new o.default(a.default)},{"./game":7,"./routes":16,"./utils/router":22,"./utils/userUtils":23}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.addSnapshotToReplay=function(e,t,n,r,i,o,a,s){e.push((u=t,c=n,l=r,f=i,h=o,d=a,m=s,{time:u,hero:{unit:c,posX:~~c.x,posY:~~c.y,spriteX:c.sprite.x,spriteY:c.sprite.y},dummyEnemies:p(l),smartEnemies:p(f),heroBullets:p(h),buffItem:d,lvl:m}));var u,c,l,f,h,d,m},n.showReplay=function(s,u){var c=0,l=setInterval(function(){var e,t,n,r,i;e=s.units[c],t=e.hero,n=e.dummyEnemies,r=e.smartEnemies,i=e.lvl,[t].concat(o(n),o(r)).forEach(function(e){return e.unit.setNextSprite()}),(0,d.updateLevelLabel)(i)},r.intervals.updateSprites),f=setInterval(function(){var e,t,n,r,i,o,a;e=u,t=s.units[c],n=t.hero,r=t.dummyEnemies,i=t.smartEnemies,o=t.heroBullets,a=t.buffItem,(0,m.clearCanvas)(e),v(n),n.unit.sprite.x=n.spriteX,n.unit.sprite.y=n.spriteY,n.unit.newPos().update(e),y(e,r),y(e,i,n.unit),y(e,o),a&&a.draw(e),++c===s.units.length-1&&(clearInterval(l),clearInterval(f),(0,d.hideReplayButton)(),(0,h.initializeGame)())},r.intervals.updateGameState)};var h=e("./main"),d=e("./utils/userUtils"),m=e("./utils/canvasUtils"),r=e("./constants");function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e){return e.map(function(e){return{unit:e,posX:~~e.x,posY:~~e.y,width:~~e.width,height:~~e.height}})}function y(t,e,n){e.forEach(function(e){v(e),e.unit.width=e.width,e.unit.height=e.height,e.unit.newPos(n).update(t)})}function v(e){e.unit.x=e.posX,e.unit.y=e.posY}},{"./constants":1,"./main":14,"./utils/canvasUtils":17,"./utils/userUtils":23}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./main"),i=e("./utils/requestUtils"),o=document.querySelector(".game-container"),a=[{match:"",onEnter:function(){window.location.hash="game"}},{match:"game",onEnter:function(){o.classList.add("arena"),s("game"),o.innerHTML='\n  <div class="level-container">\n    Level:\n    <span class="level">1</span>\n  </div>\n  <div class="score-container">\n    Score:\n    <span class="score">0</span>\n  </div>\n  <div class="speed-container">\n    Speed:\n    <span class="speed">0</span>\n  </div>\n  <div class="replay-container">\n    <button class="btn">Show replay</button>\n  </div>\n  <canvas></canvas>\n  ',(0,r.initializeGame)()},onLeave:function(){o.classList.remove("arena"),r.game.stopGameAndClearState(),u("game"),document.removeEventListener("keydown",r.initializeGame),document.removeEventListener("keydown",r.startGame)}},{match:"scores",onEnter:function(){s("scores"),o.innerHTML="<div></div>",(0,i.getScoreFromDatabase)().then(function(e){return o.innerHTML='<div class="container margin-top">\n            <h4>Best scores:</h4>\n            <ul class="list-group">\n              <li class="list-group-item d-flex justify-content-between align-items-center">\n                Username:\n                <span>Score:</span>\n              </li>\n              '+e.map(function(e,t){return'<li class="list-group-item d-flex justify-content-between align-items-center">\n      '+(t+1)+") "+e.name+'\n      <span class="badge badge-primary badge-pill">'+e.score+"</span>\n    </li>"}).join("")+"\n            </ul>\n          </div>"})},onLeave:function(){u("scores")}},{match:"rules",onEnter:function(){s("rules"),o.innerHTML='<div class="container margin-top">\n            <h3>Rules:</h3>\n            <h5>Mechanics:</h5>\n            <p>The game is about of hero and his enemies. User can manipulate the hero\n                with arrow buttons <code>🠀 🠁🠃 🠂</code> where push of each change hero direction \n                to the arrow direction. Also you can stop hero, with\n                <code>Ctrl</code> button. </p> Game finish when any of the enemies catches hero.\n            <p>\n                Hero has ability to shoot with his gun to the nearest enemies. User do it with the\n                mouse, shoot action occurs if user press\n                <code>left button</code> mouse. Hero has speed acceleration if moves to one direction. If\n                he changes it, current hero speed discard to minimum.\n            </p>\n            <h5>Enemies:</h5>\n            <p>There are several enemies: dummy enemies, who move only with start direction,\n                and smart enemy, who begin to pursue if see hero at some range. Smart\n                enemy has an ability to increase his size, speed and defense by eating\n                his tribesmen.\n            </p>\n            <h5>Buffs:</h5>\n            <p>Average buff time is <code>20</code> seconds. Hero can activate buff if catches it. \n                At the game every <code>8</code> seconds generates new buff and on the field can be only one buff\n                item. Hero can stack buffs if catches more than one. There are several\n                buffs at the game:</p>\n            <p>\n                <img src="./img/sword.png"> - improve hero\'s gun size and damage.\n            </p>\n            <p>\n                <img src="./img/shoes.png"> - improve hero\'s speed and when the buff activated decrease speed\n                of all enemies at game field.\n            </p>\n            <p>\n                <img src="./img/shield.png"> - make hero immortal. Smart enemies begin to run away from the hero\n            </p>\n            <h5>Lvl up and score:</h5>\n            <p>Every\n                <code>10</code> seconds hero reach new level. With each new level at game field\n                creates a stack of dummy enemies. Amount of creatures at the stack\n                is equalent to the new level. Also every new level the size of creatures\n                and speed of dummy enemies increases. Score is equalent to the time\n                that hero present at game field.\n            </p>\n            <p>Good luck and enjoy!</p>\n          </div>'},onLeave:function(){u("rules")}},{match:"author",onEnter:function(){s("author"),o.innerHTML='<div class="container margin-top">\n            <h3>Author page:</h3>\n            <p>Hello, my name is Evgeniy and i\'m the author of the game. If you have any\n            questions you can find me here <a href="https://www.linkedin.com/in/evgeniy-dainovich/">LinkenIn</a>\n            </p>\n            <p>Game is developed with javascript and bootstrap for styling.</p>\n          </div>'},onLeave:function(){u("author")}}];function s(e){document.querySelector('[href="#'+e+'"]').classList.add("active")}function u(e){document.querySelector('[href="#'+e+'"]').classList.remove("active")}n.default=a},{"./main":14,"./utils/requestUtils":21}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.clearCanvas=function(e){e.clearRect(0,0,e.canvas.clientWidth,e.canvas.clientHeight)}},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.addHeroControls=function(e,t){i=e,o=i.dir,a=void 0,document.addEventListener("keydown",function(e){var t,n,r;switch(t=a,n=e.keyCode,r=i,a=t!==n?(r.makeHeroSpeedParamsDefault(),r.setNewSpeedTimer(),n):t,e.keyCode){case 38:i.updateSpriteDirection("top"),o.y=-1,o.x=0;break;case 39:i.updateSpriteDirection("right"),o.y=0,o.x=1;break;case 40:i.updateSpriteDirection("bottom"),o.y=1,o.x=0;break;case 37:i.updateSpriteDirection("left"),o.x=-1,o.y=0;break;case 17:o.x=0,o.y=0}}),n=t,document.querySelector("canvas").addEventListener("click",function(e){n(e.offsetX,e.offsetY)});var n;var i,o,a}},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shouldEnemyDieIfBulletHitsHim=function(e,t){var n=(0,d.ifUnitsTouchEachOther)(e,t);n&&(r=e,i=f.currentBullet.speedDecrease,o=r.width*r.height,u=r,c=f.currentBullet.damage,l=u.defense||0,a=0<c-l?c-l:h.bulletParams.minDamage,s=(o-a)/o,r.width*=s,r.height*=s,r.speed>i&&(r.speed-=i),e=r);var r,i,o,a,s,u,c,l;return!(!n||!(e.width<h.bulletParams.minCreatureSize||e.height<h.bulletParams.minCreatureSize))},n.addBuffIndicator=function(e,t){var n=Date.now(),r={id:n,time:0,type:t};e.currentBuffs.push(r),i=e,o=n,a=i.currentBuffs.find(function(e){return o===e.id}),a.timer=setInterval(function(){a.time+=1,a.time>=h.buffParams.buffTime/1e3&&(clearInterval(a.timer),i.currentBuffs.shift())},1e3);var i,o,a};var f=e("../creatures/bullet"),h=e("../constants"),d=e("./geometryUtils")},{"../constants":1,"../creatures/bullet":2,"./geometryUtils":20}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var f=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function h(e){return[e.x+.5*e.width,e.y+.5*e.height]}function r(e,t){var n=h(e),r=f(n,2),i=r[0],o=r[1],a=h(t),s=f(a,2),u=s[0],c=s[1];return Math.pow(Math.pow(i-u,2)+Math.pow(o-c,2),.5)}n.getCenterCoordinates=h,n.getDistanceBetweenUnits=r,n.ifUnitsTouchEachOther=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=h(e),i=f(r,2),o=i[0],a=i[1],s=h(t),u=f(s,2),c=u[0],l=u[1];return Math.abs(c-o)<(e.width+t.width-d-n)/2&&Math.abs(l-a)<(e.height+t.height-d-n)/2},n.isDistanceBetweenUnitsMoreThanSafe=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:i;return r(e,t)>n},n.moveToAnotherSideIfGoBeyonceCanvas=function(e,t){var n=e.canvas.clientWidth,r=e.canvas.clientHeight;t.x>n?t.x=0:t.x<0&&(t.x=n);t.y>r?t.y=0:t.y<0&&(t.y=r)},n.getElementsInsideCanvas=function(t,e){var n=t.canvas.clientWidth,r=t.canvas.clientHeight,i=void 0;return e.filter(function(e){return(i=e.x<n&&0<e.x&&e.y<r&&0<e.y)&&e.newPos().update(t),i})};var d=2;var i=200},{}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sendResultToDatabase=function(e,t){fetch(r,{method:"POST",body:JSON.stringify({score:e,name:t})})},n.getScoreFromDatabase=function(){return fetch(r+'?orderBy="score"&limitToLast=8',{method:"GET"}).then(function(e){return e.json()}).then(function(e){return i(e)}).catch(function(){return console.log("server error")})},n.getTop8=i;var r="https://shooter-game-2a1be.firebaseio.com/statistics/.json";function i(e){return Object.values(e).sort(function(e,t){return e.score<t.score})}},{}],22:[function(e,t,n){"use strict";function r(e){var t=this;this.routes=e||[],this.currentRoute,this.previousRoute,this.currentParams,this.previousParams,window.addEventListener("hashchange",function(){t.handler(window.location.hash)}),this.handler(window.location.hash)}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=r).prototype={handler:function(e){this.previousRoute=this.currentRoute,this.previousParams=this.currentParams,this.currentRoute=this.findNewRoute(e),this.launchHandlers()},findNewRoute:function(e){e=e.slice(1);for(var t=0;t<this.routes.length;t++){var n=this.routes[t];if("string"==typeof n.match&&n.match===e)return this.currentParams="",n;if("function"==typeof n.match&&n.match(e))return this.currentParams="",n;if(n.match instanceof RegExp&&n.match.test(e))return this.currentParams=e.match(n.match)||[],this.currentParams.splice(0,1),n}},launchHandlers:function(){var e=this;Promise.resolve().then(function(){e.previousRoute&&e.previousRoute.onLeave&&e.previousRoute.onLeave(e.previousParams)}).then(function(){e.currentRoute&&e.currentRoute.onBeforeEnter&&e.currentRoute.onBeforeEnter(e.currentParams)}).then(function(){e.currentRoute&&e.currentRoute.onEnter&&e.currentRoute.onEnter(e.currentParams)})}}},{}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.updateLevelLabel=function(e){document.querySelector(".level").innerHTML=e},n.showReplayButton=function(){document.querySelector(".replay-container").style.display="block"},n.updateScoreLabel=function(e,t){var n=((e+=r.intervals.updateGameState)-t)/10;return document.querySelector(".score").innerHTML=n,e+r.intervals.updateGameState},n.showLoseMessage=function(){var e=document.querySelector(".score").innerText,t=prompt("Sorry, but you lose, your score is "+e,"User");(0,i.sendResultToDatabase)(+e,t||"User")},n.subscribeToShowReplay=function(e){document.querySelector(".replay-container").addEventListener("click",e,{once:!0})},n.hideReplayButton=function(){document.querySelector(".replay-container").style.display="none"};var r=e("../constants"),i=e("./requestUtils")},{"../constants":1,"./requestUtils":21}]},{},[14]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJmcm9udGVuZC9qcy9jb25zdGFudHMuanMiLCJmcm9udGVuZC9qcy9jcmVhdHVyZXMvYnVsbGV0LmpzIiwiZnJvbnRlbmQvanMvY3JlYXR1cmVzL2R1bW15RW5lbXkuanMiLCJmcm9udGVuZC9qcy9jcmVhdHVyZXMvaGVyby5qcyIsImZyb250ZW5kL2pzL2NyZWF0dXJlcy9zbWFydEVuZW15LmpzIiwiZnJvbnRlbmQvanMvY3JlYXR1cmVzL3VuaXQuanMiLCJmcm9udGVuZC9qcy9nYW1lLmpzIiwiZnJvbnRlbmQvanMvaXRlbXMvYnVmZnMvYnVmZkdlbmVyYXRvci5qcyIsImZyb250ZW5kL2pzL2l0ZW1zL2J1ZmZzL2l0ZW0uanMiLCJmcm9udGVuZC9qcy9pdGVtcy9idWZmcy9zaGllbGQuanMiLCJmcm9udGVuZC9qcy9pdGVtcy9idWZmcy9zaG9lcy5qcyIsImZyb250ZW5kL2pzL2l0ZW1zL2J1ZmZzL3N3b3JkLmpzIiwiZnJvbnRlbmQvanMvaXRlbXMvbGFuZHNjYXBlLmpzIiwiZnJvbnRlbmQvanMvbWFpbi5qcyIsImZyb250ZW5kL2pzL3JlcGxheS5qcyIsImZyb250ZW5kL2pzL3JvdXRlcy5qcyIsImZyb250ZW5kL2pzL3V0aWxzL2NhbnZhc1V0aWxzLmpzIiwiZnJvbnRlbmQvanMvdXRpbHMvY29udHJvbHNVdGlscy5qcyIsImZyb250ZW5kL2pzL3V0aWxzL2VmZmVjdHNVdGlscy5qcyIsImZyb250ZW5kL2pzL3V0aWxzL2dlb21ldHJ5VXRpbHMuanMiLCJmcm9udGVuZC9qcy91dGlscy9yZXF1ZXN0VXRpbHMuanMiLCJmcm9udGVuZC9qcy91dGlscy9yb3V0ZXIuanMiLCJmcm9udGVuZC9qcy91dGlscy91c2VyVXRpbHMuanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiaGVyb1BhcmFtcyIsImhlaWdodCIsIndpZHRoIiwicG9zWCIsInBvc1kiLCJzcHJpdGVMYXllciIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsImJ1ZmZQYXJhbXMiLCJidWZmVGltZSIsInNwZWVkR3Jvd3RoIiwiYnVsbGV0UGFyYW1zIiwic3BlZWQiLCJjb2xvciIsInNpemUiLCJkYW1hZ2UiLCJzcGVlZERlY3JlYXNlIiwiZ3Jvd0FmdGVyQnVmZiIsIm1pbkRhbWFnZSIsIm1pbkNyZWF0dXJlU2l6ZSIsInNtYXJ0RW5lbXlQYXJhbXMiLCJtZXNzYWdlIiwieCIsInkiLCJmb250IiwiZGVmZW5zZUluY3JlYXNlIiwic3BlZWRJbmNyZWFzZSIsImR1bW15RW5lbXlQYXJhbXMiLCJpbnRlcnZhbHMiLCJ1cGRhdGVHYW1lU3RhdGUiLCJ1cGRhdGVTcHJpdGVzIiwiYWRkU21hcnRFbmVteSIsImFkZER1bW15RW5lbXkiLCJhZGRCdWZmSXRlbSIsImx2bFVwIiwibHZsQnVmZnMiLCJzaXplSW5jcmVhc2UiLCJncm93QnVsbGV0IiwicGFyYW0iLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJfY29uc3RhbnRzIiwiY3VycmVudEJ1bGxldCIsInNocmlua0J1bGxldCIsIm1ha2VCdWxsZXREZWZhdWx0IiwiX3VuaXQiLCJCdWxsZXQiLCJjdHgiLCJhbGZhWCIsImFsZmFZIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsIlVuaXQiLCJkaXIiLCJiZWdpblBhdGgiLCJmaWxsU3R5bGUiLCJhcmMiLCJNYXRoIiwiUEkiLCJmaWxsIiwiU1BFRUQiLCJpbWciLCJCQVNFX0RVTU1ZX1NJWkUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJEdW1teUVuZW15Iiwic3ByaXRlIiwiYmFzZVgiLCJiYXNlWSIsImdldFNwcml0ZUxheWVyVmFsdWUiLCJkZWx0YVgiLCJkZWx0YVkiLCJkcmF3SW1hZ2UiLCJhYnMiLCJpbmNyZWFzZUhlcm9WZWxvY2l0eUJ5QnVmZiIsImJ1ZmYiLCJ2ZWxvY2l0eSIsImFjY2VsZXJhdGlvbiIsIm1heEFjY2VsZXJhdGlvblRpbWUiLCJkZWNyZWFzZUhlcm9WZWxvY2l0eUJ5RGVidWZmIiwiZGVCdWZmIiwiSGVybyIsImlzSW1tb3J0YWwiLCJhY2NlbGVyYXRpb25TdGFydFRpbWUiLCJjdXJyZW50QWNjZWxlcmF0aW9uVGltZXIiLCJjdXJyZW50QnVmZnMiLCJpbm5lckhUTUwiLCJkaXJlY3Rpb24iLCJjbGVhckludGVydmFsIiwiX3RoaXMyIiwic3RhcnRTcGVlZCIsInNldEludGVydmFsIiwiX3RoaXMzIiwiYWxsVGltZSIsImZvckVhY2giLCJpbmRleCIsInR5cGUiLCJmaWxsUmVjdCIsInRpbWUiLCJfZ2VvbWV0cnlVdGlscyIsIkJBU0VfU01BUlRfU0laRSIsIlNtYXJ0RW5lbXkiLCJkZWZlbnNlIiwiaGVybyIsInVwZGF0ZURpcmVjdGlvbiIsIl9nZXQiLCJwcm90b3R5cGUiLCJ0ZXh0Iiwic3Ryb2tlVGV4dCIsImZlYXJQYXJhbXMiLCJkaXN0YW5jZSIsImlzRmVhciIsImlzRGlzdGFuY2VCZXR3ZWVuVW5pdHNNb3JlVGhhblNhZmUiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXMiLCJnZXRDZW50ZXJDb29yZGluYXRlcyIsIl9nZXRDZW50ZXJDb29yZGluYXRlczIiLCJfc2xpY2VkVG9BcnJheSIsImhlcm9YIiwiaGVyb1kiLCJhbmdsZSIsImF0YW4yIiwiY29zIiwic2luIiwic2hvd1dhcm5pbmdNZXNzYWdlIiwidW5pdCIsImRlZmF1bHRTcGVlZCIsIm1hc3MxIiwibWFzczIiLCJrIiwicG93IiwibWF4IiwibWF4U3BlZWQiLCJtb3ZlVG9Bbm90aGVyU2lkZUlmR29CZXlvbmNlQ2FudmFzIiwiX2hlcm8iLCJfZHVtbXlFbmVteSIsIl9zbWFydEVuZW15IiwiX2NvbnRyb2xzVXRpbHMiLCJfY2FudmFzVXRpbHMiLCJfYnVsbGV0IiwiX2J1ZmZHZW5lcmF0b3IiLCJfbWFpbiIsIl91c2VyVXRpbHMiLCJfbGFuZHNjYXBlIiwiX2VmZmVjdHNVdGlscyIsIl9yZXBsYXkiLCJHYW1lIiwiY2FudmFzIiwiZ2V0Q29udGV4dCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJjdXJyZW50VGltZSIsImxhbmRzY2FwZSIsIkxhbmRzY2FwZSIsImR1bW15RW5lbWllcyIsInNtYXJ0RW5lbWllcyIsImhlcm9CdWxsZXRzIiwidGltZXJzIiwibHZsIiwiYnVmZkl0ZW0iLCJyZXBsYXkiLCJ1bml0cyIsImhhbmRsZUhlcm9Qb3NpdGlvbiIsInRpbWVyMSIsInRpbWVyMiIsInRpbWVyMyIsImFkZEVuZW15IiwidGltZXI0IiwidGltZXI1IiwidGltZXI2IiwicHVzaCIsImFkZEhlcm9Db250cm9scyIsImFkZEJ1bGxldCIsInVwZGF0ZUNhbnZhc1N0YXRlIiwidXBkYXRlU2NvcmVMYWJlbCIsImFkZFNuYXBzaG90VG9SZXBsYXkiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJzZXROZXh0U3ByaXRlIiwiY2xlYXJDYW52YXMiLCJoYW5kbGVIZXJvRGVhdGgiLCJoYW5kbGVCdWZmSXRlbVBvc2l0aW9uIiwiZ2V0RWxlbWVudHNJbnNpZGVDYW52YXMiLCJoYW5kbGVEdW1teUVuZW1pZXNQb3NpdGlvbiIsImhhbmRsZVNtYXJ0RW5lbWllc1Bvc2l0aW9uIiwiaGFuZGxlRW5lbWllc0RlYXRoIiwiaGFuZGxlQnVmZnMiLCJkcmF3IiwibmV3UG9zIiwidXBkYXRlIiwiZHJhd0J1ZmZzIiwiZW5lbXkiLCJyZWR1Y2UiLCJuZXdBcnJheSIsImN1cnJlbnRFbmVteSIsInNvbWUiLCJpZlVuaXRzVG91Y2hFYWNoT3RoZXIiLCJzZWNvbmRFbmVteSIsImZpbmQiLCJlYXQiLCJfdGhpczQiLCJuZXdTbWFydEVuZW1pZXMiLCJuZXdEdW1teUVuZW1pZXMiLCJuZXdCdWxsZXRzIiwiYWxsRW5lbWllcyIsImJ1bGxldCIsInNob3VsZEVuZW15RGllSWZCdWxsZXRIaXRzSGltIiwiX3RoaXM1IiwiZmluaXNoR2FtZSIsIl90aGlzNiIsInN0b3BHYW1lQW5kQ2xlYXJTdGF0ZSIsInNob3dSZXBsYXlCdXR0b24iLCJzaG93TG9zZU1lc3NhZ2UiLCJzdWJzY3JpYmVUb1Nob3dSZXBsYXkiLCJzaG93UmVwbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImluaXRpYWxpemVHYW1lIiwib25jZSIsIm1hcCIsInRpbWVyIiwiYWN0aXZhdGVCdWZmIiwiYWRkRW5lbXlTdGFjayIsInVwZGF0ZUxldmVsTGFiZWwiLCJlbmVteUFycmF5IiwiY3JlYXR1cmVDb25zdHJ1Y3RvciIsImJhc2VTaXplIiwiX2dlbmVyYXRlUmFuZG9tUG9zaXRpIiwiZ2VuZXJhdGVSYW5kb21Qb3NpdGlvbkFuZERpcmVjdGlvbiIsIl9nZW5lcmF0ZVJhbmRvbVBvc2l0aTIiLCJfZ2VuZXJhdGVSYW5kb21Qb3NpdGkzIiwiX3NpemUiLCJfeCIsIl95IiwibmV3RW5lbXkiLCJfZ2VuZXJhdGVSYW5kb21Qb3NpdGk0IiwiUmFuZG9tQnVmZiIsImlzSW5zaWRlQ2lyY2xlIiwiY29uZGl0aW9uIiwicmFuZG9tIiwibmV3VW5pdCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiYnVmZlR5cGUiLCJidWZmVHlwZXMiLCJjb25zdHJ1Y3RvciIsInNlbGVjdG9yIiwiX3N3b3JkIiwiX3NoaWVsZCIsIl9zaG9lcyIsIlN3b3JkIiwiU2hpZWxkIiwiU2hvZXMiLCJJdGVtIiwiaW1hZ2UiLCJfaXRlbSIsImdhbWVPYmplY3QiLCJhZGRCdWZmSW5kaWNhdG9yIiwic2V0VGltZW91dCIsImhhc0Fub3RoZXJTaGllbGQiLCJlbmVtaWVzIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJoaWRlUmVwbGF5QnV0dG9uIiwiZ2FtZSIsIl9nYW1lIiwic3RhcnRHYW1lIiwic3RhcnQiLCJfcm91dGVyMiIsImRlZmF1bHQiLCJfcm91dGVzMiIsInNwcml0ZVgiLCJzcHJpdGVZIiwiZ2V0UmVwbGF5SXRlbXNBcnJheSIsImZyYW1lIiwic3ByaXRlVGltZXIiLCJzbmFwc2hvdCIsInJlcGxheUl0ZW0iLCJwb3NpdGl0aW9uVGltZXIiLCJ1cGRhdGVVbml0UG9zaXRpb24iLCJ1cGRhdGVSZXBsYXlJdGVtc0FycmF5IiwiYXJyYXkiLCJpdGVtIiwiX3JlcXVlc3RVdGlscyIsImdhbWVDb250YWluZXIiLCJyb3V0ZXMiLCJtYXRjaCIsIm9uRW50ZXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhhc2giLCJjbGFzc0xpc3QiLCJhZGQiLCJjaGFuZ2VBY3RpdmVQYWdlIiwib25MZWF2ZSIsInJlbW92ZSIsInJlbW92ZUFjdGl2ZVBhZ2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZ2V0U2NvcmVGcm9tRGF0YWJhc2UiLCJ0aGVuIiwicmVzIiwibmFtZSIsInNjb3JlIiwiam9pbiIsIm5ld1BhZ2UiLCJwYWdlIiwiY2xlYXJSZWN0IiwiY3JlYXRlQnVsbGV0IiwicHJldmlvdXNLZXlDb2RlIiwiZXZlbnQiLCJuZXdLZXlDb2RlIiwia2V5Q29kZSIsIm1ha2VIZXJvU3BlZWRQYXJhbXNEZWZhdWx0Iiwic2V0TmV3U3BlZWRUaW1lciIsInVwZGF0ZVNwcml0ZURpcmVjdGlvbiIsIm9mZnNldFgiLCJvZmZzZXRZIiwiaXNDb250YWN0IiwibWFzcyIsImhlcm9EYW1hZ2UiLCJpZCIsIm5ld0J1ZmYiLCJzaGlmdCIsImdldERpc3RhbmNlQmV0d2VlblVuaXRzIiwidW5pdDEiLCJ1bml0MiIsIngxIiwieTEiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXMzIiwiX2dldENlbnRlckNvb3JkaW5hdGVzNCIsIngyIiwieTIiLCJkZWx0YSIsIl9nZXRDZW50ZXJDb29yZGluYXRlczUiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXM2IiwiX2dldENlbnRlckNvb3JkaW5hdGVzNyIsIl9nZXRDZW50ZXJDb29yZGluYXRlczgiLCJQSVhFTF9CT1JERVIiLCJkaXN0IiwiU0FGRV9ESVNUQU5DRSIsImlzSW5zaWRlQ2FudmFzIiwiZmlsdGVyIiwic2VuZFJlc3VsdFRvRGF0YWJhc2UiLCJmZXRjaCIsIlVSTCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzcG9uc2UiLCJqc29uIiwiZGF0YSIsImdldFRvcDgiLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJ2YWx1ZXMiLCJzb3J0IiwiYiIsIlJvdXRlciIsInJvdXRlUGFyYW1zIiwiY3VycmVudFJvdXRlIiwicHJldmlvdXNSb3V0ZSIsImN1cnJlbnRQYXJhbXMiLCJwcmV2aW91c1BhcmFtcyIsImhhbmRsZXIiLCJmaW5kTmV3Um91dGUiLCJsYXVuY2hIYW5kbGVycyIsInNsaWNlIiwiZWxlbWVudCIsIlJlZ0V4cCIsInRlc3QiLCJzcGxpY2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9uQmVmb3JlRW50ZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJ2YWx1ZSIsImlubmVyVGV4dCIsInByb21wdCIsImNiIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxJQUFBRSxFQUFBLG1CQUFBQyxTQUFBQSxRQUFBLElBQUFGLEdBQUFDLEVBQUEsT0FBQUEsRUFBQUYsR0FBQSxHQUFBLEdBQUFJLEVBQUEsT0FBQUEsRUFBQUosR0FBQSxHQUFBLElBQUFLLEVBQUEsSUFBQUMsTUFBQSx1QkFBQU4sRUFBQSxLQUFBLE1BQUFLLEVBQUFFLEtBQUEsbUJBQUFGLEVBQUEsSUFBQUcsRUFBQVgsRUFBQUcsR0FBQSxDQUFBUyxRQUFBLElBQUFiLEVBQUFJLEdBQUEsR0FBQVUsS0FBQUYsRUFBQUMsUUFBQSxTQUFBZCxHQUFBLE9BQUFJLEVBQUFILEVBQUFJLEdBQUEsR0FBQUwsSUFBQUEsSUFBQWEsRUFBQUEsRUFBQUMsUUFBQWQsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxPQUFBRCxFQUFBRyxH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QUF4QyxFQUE2QkQsR0FBN0IsV0FHY3ZGLHNCQUFULFNBQUF1SyxHQUNnQjdULFNBQUFDLGNBQXJCLHFCQUNBdUosaUJBQUEsUUFBQXFLLEVBQTJDLENBQUVuSyxNQUE3QyxPQUdjNkMsaUJBQVQsV0FDZ0J2TSxTQUFBQyxjQUFyQixxQkFDQXVULE1BQUFDLFFBQUEsUUFuQ0YsSUFBQXBWLEVBQUF0RCxFQUFBLGdCQUNBNFMsRUFBQTVTLEVBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImV4cG9ydCBjb25zdCBoZXJvUGFyYW1zID0ge1xyXG4gIGhlaWdodDogNTAsXHJcbiAgd2lkdGg6IDMwLFxyXG4gIHBvc1g6IDUwLFxyXG4gIHBvc1k6IDUwLFxyXG4gIHNwcml0ZUxheWVyOiB7XHJcbiAgICB0b3A6IDIsXHJcbiAgICBsZWZ0OiAzLFxyXG4gICAgcmlnaHQ6IDAsXHJcbiAgICBib3R0b206IDFcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBidWZmUGFyYW1zID0ge1xyXG4gIGJ1ZmZUaW1lOiAyMDAwMCxcclxuICBzcGVlZEdyb3d0aDogMixcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGJ1bGxldFBhcmFtcyA9IHtcclxuICBzcGVlZDogMTAsXHJcbiAgY29sb3I6ICdibGFjaycsXHJcbiAgc2l6ZTogNSxcclxuICBkYW1hZ2U6IDM1LFxyXG4gIHNwZWVkRGVjcmVhc2U6IDAuMTAsXHJcbiAgZ3Jvd0FmdGVyQnVmZjogMixcclxuICBtaW5EYW1hZ2U6IDYsXHJcbiAgbWluQ3JlYXR1cmVTaXplOiAyNVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc21hcnRFbmVteVBhcmFtcyA9IHtcclxuICBzcGVlZDogMC42LFxyXG4gIHNpemU6IDI1LFxyXG4gIG1lc3NhZ2U6IHtcclxuICAgIHg6IDEwLFxyXG4gICAgeTogNSxcclxuICAgIGZvbnQ6IFwiMTNweCBBcmlhbFwiXHJcbiAgfSxcclxuICBkZWZlbnNlSW5jcmVhc2U6IDMsXHJcbiAgc3BlZWRJbmNyZWFzZTogMC4xXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBkdW1teUVuZW15UGFyYW1zID0ge1xyXG4gIHNwZWVkOiAwLjgsXHJcbiAgc2l6ZTogMjUsXHJcbiAgc3ByaXRlTGF5ZXI6IHtcclxuICAgIHRvcDogMyxcclxuICAgIGxlZnQ6IDEsXHJcbiAgICByaWdodDogMCxcclxuICAgIGJvdHRvbTogMlxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGludGVydmFscyA9IHtcclxuICB1cGRhdGVHYW1lU3RhdGU6IDIwLFxyXG4gIHVwZGF0ZVNwcml0ZXM6IDIwMCxcclxuICBhZGRTbWFydEVuZW15OiAzMDAwLFxyXG4gIGFkZER1bW15RW5lbXk6IDQwMDAsXHJcbiAgYWRkQnVmZkl0ZW06IDgwMDAsXHJcbiAgbHZsVXA6IDEwMDAwXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBsdmxCdWZmcyA9IHtcclxuICBzcGVlZEluY3JlYXNlOiAwLjI1LFxyXG4gIHNpemVJbmNyZWFzZTogMlxyXG59IiwiaW1wb3J0IHsgVW5pdCB9IGZyb20gXCIuL3VuaXRcIjtcclxuaW1wb3J0IHsgYnVsbGV0UGFyYW1zIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcclxuXHJcbmV4cG9ydCBjb25zdCBjdXJyZW50QnVsbGV0ID0ge1xyXG4gIHNpemU6IGJ1bGxldFBhcmFtcy5zaXplLFxyXG4gIGRhbWFnZTogYnVsbGV0UGFyYW1zLmRhbWFnZSxcclxuICBzcGVlZERlY3JlYXNlOiBidWxsZXRQYXJhbXMuc3BlZWREZWNyZWFzZVxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1bGxldCBleHRlbmRzIFVuaXQge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgeCwgeSwgYWxmYVgsIGFsZmFZLCB3aWR0aCA9IGN1cnJlbnRCdWxsZXQuc2l6ZSwgaGVpZ2h0ID0gY3VycmVudEJ1bGxldC5zaXplLCBzcGVlZCA9IGJ1bGxldFBhcmFtcy5zcGVlZCwgY29sb3IgPSBidWxsZXRQYXJhbXMuY29sb3IpIHtcclxuICAgIHN1cGVyKGN0eCwgd2lkdGgsIGhlaWdodCwgeCAtIGN1cnJlbnRCdWxsZXQuc2l6ZSAvIDIsIHkgLSBjdXJyZW50QnVsbGV0LnNpemUgLyAyLCBhbGZhWCwgYWxmYVksIHNwZWVkKTtcclxuICAgIHRoaXMuY29sb3IgPSBjb2xvclxyXG4gIH1cclxuXHJcbiAgbmV3UG9zKCkge1xyXG4gICAgdGhpcy54ICs9IHRoaXMuc3BlZWQgKiB0aGlzLmRpci54O1xyXG4gICAgdGhpcy55ICs9IHRoaXMuc3BlZWQgKiB0aGlzLmRpci55O1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoY3R4KSB7XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgIGN0eC5hcmModGhpcy54LCB0aGlzLnksIGN1cnJlbnRCdWxsZXQuc2l6ZSwgMCwgMiAqIE1hdGguUEksIHRydWUpO1xyXG4gICAgY3R4LmZpbGwoKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdyb3dCdWxsZXQocGFyYW0gPSBidWxsZXRQYXJhbXMuZ3Jvd0FmdGVyQnVmZikge1xyXG4gIGN1cnJlbnRCdWxsZXQuc2l6ZSAqPSBwYXJhbTtcclxuICBjdXJyZW50QnVsbGV0LmRhbWFnZSAqPSBwYXJhbTtcclxuICBjdXJyZW50QnVsbGV0LnNwZWVkRGVjcmVhc2UgKj0gcGFyYW07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaHJpbmtCdWxsZXQocGFyYW0gPSBidWxsZXRQYXJhbXMuZ3Jvd0FmdGVyQnVmZikge1xyXG4gIGN1cnJlbnRCdWxsZXQuc2l6ZSAvPSBwYXJhbTtcclxuICBjdXJyZW50QnVsbGV0LmRhbWFnZSAvPSBwYXJhbTtcclxuICBjdXJyZW50QnVsbGV0LnNwZWVkRGVjcmVhc2UgLz0gcGFyYW07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYWtlQnVsbGV0RGVmYXVsdCgpIHtcclxuICBjdXJyZW50QnVsbGV0LnNpemUgPSBidWxsZXRQYXJhbXMuc2l6ZTtcclxuICBjdXJyZW50QnVsbGV0LmRhbWFnZSA9IGJ1bGxldFBhcmFtcy5kYW1hZ2U7XHJcbiAgY3VycmVudEJ1bGxldC5zcGVlZERlY3JlYXNlID0gYnVsbGV0UGFyYW1zLnNwZWVkRGVjcmVhc2U7XHJcbn0iLCJpbXBvcnQgeyBVbml0IH0gZnJvbSBcIi4vdW5pdFwiO1xyXG5pbXBvcnQgeyBkdW1teUVuZW15UGFyYW1zIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcclxuXHJcbmV4cG9ydCBjb25zdCBTUEVFRCA9IGR1bW15RW5lbXlQYXJhbXMuc3BlZWQ7XHJcbmV4cG9ydCBjb25zdCBCQVNFX0RVTU1ZX1NJWkUgPSBkdW1teUVuZW15UGFyYW1zLnNpemU7XHJcblxyXG5jb25zdCBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHVtbXktZW5lbXktc3ByaXRlJyk7XHJcblxyXG5leHBvcnQgY2xhc3MgRHVtbXlFbmVteSBleHRlbmRzIFVuaXQge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgYWxmYVgsIGFsZmFZLCBzcGVlZCA9IFNQRUVEKSB7XHJcbiAgICBzdXBlcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQpO1xyXG4gICAgdGhpcy5zcHJpdGUgPSB7XHJcbiAgICAgIGJhc2VYOiAwLFxyXG4gICAgICBiYXNlWTogMCxcclxuICAgICAgeDogMCxcclxuICAgICAgeTogdGhpcy5nZXRTcHJpdGVMYXllclZhbHVlKHRoaXMuZGlyLngsIHRoaXMuZGlyLnkpICogMTYsXHJcbiAgICAgIHdpZHRoOiAxNixcclxuICAgICAgaGVpZ2h0OiAxNixcclxuICAgICAgZGVsdGFYOiAxNixcclxuICAgICAgZGVsdGFZOiAxNlxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0TmV4dFNwcml0ZSgpIHtcclxuICAgIGlmICh0aGlzLnNwcml0ZS54IDwgMTYpIHtcclxuICAgICAgdGhpcy5zcHJpdGUueCArPSB0aGlzLnNwcml0ZS5kZWx0YVg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy5zcHJpdGUuYmFzZVg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoY3R4KSB7XHJcbiAgICBjb25zdCB7IHNwcml0ZSwgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gdGhpc1xyXG4gICAgY3R4LmRyYXdJbWFnZShpbWcsIHNwcml0ZS54LCBzcHJpdGUueSwgc3ByaXRlLndpZHRoLCBzcHJpdGUuaGVpZ2h0LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBnZXRTcHJpdGVMYXllclZhbHVlKHgsIHkpIHtcclxuICAgIGNvbnN0IHsgc3ByaXRlTGF5ZXIgfSA9IGR1bW15RW5lbXlQYXJhbXNcclxuICAgIGlmIChNYXRoLmFicyh4KSA+IE1hdGguYWJzKHkpKSB7XHJcbiAgICAgIHJldHVybiB4ID4gMCA/IHNwcml0ZUxheWVyLnJpZ2h0IDogc3ByaXRlTGF5ZXIubGVmdDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB5ID4gMCA/IHNwcml0ZUxheWVyLmJvdHRvbSA6IHNwcml0ZUxheWVyLnRvcDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVW5pdCB9IGZyb20gXCIuL3VuaXRcIjtcclxuaW1wb3J0IHsgaGVyb1BhcmFtcywgYnVmZlBhcmFtcyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XHJcblxyXG5jb25zdCB2ZWxvY2l0eSA9IHtcclxuICBzcGVlZDogMSxcclxuICBhY2NlbGVyYXRpb246IDAuMDAwNSxcclxuICBtYXhBY2NlbGVyYXRpb25UaW1lOiAzMDAwXHJcbn1cclxuXHJcbmNvbnN0IGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvLXNwcml0ZScpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhlcm8gZXh0ZW5kcyBVbml0IHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoID0gaGVyb1BhcmFtcy53aWR0aCwgaGVpZ2h0ID0gaGVyb1BhcmFtcy5oZWlnaHQsIHggPSBoZXJvUGFyYW1zLnBvc1gsIHkgPSBoZXJvUGFyYW1zLnBvc1ksIGFsZmFYID0gMSwgYWxmYVkgPSAwLCBzcGVlZCA9IHZlbG9jaXR5LnNwZWVkKSB7XHJcbiAgICBzdXBlcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQpO1xyXG4gICAgdGhpcy5pc0ltbW9ydGFsID0gZmFsc2U7XHJcbiAgICB0aGlzLmFjY2VsZXJhdGlvblN0YXJ0VGltZSA9IDA7XHJcbiAgICB0aGlzLmN1cnJlbnRBY2NlbGVyYXRpb25UaW1lciA9ICcnO1xyXG4gICAgdGhpcy5jdXJyZW50QnVmZnMgPSBbXVxyXG5cclxuICAgIHRoaXMuc3ByaXRlID0ge1xyXG4gICAgICBiYXNlWDogOSxcclxuICAgICAgYmFzZVk6IDIsXHJcbiAgICAgIHg6IDksXHJcbiAgICAgIHk6IDIsXHJcbiAgICAgIHdpZHRoOiAxNixcclxuICAgICAgaGVpZ2h0OiAyNixcclxuICAgICAgZGVsdGFYOiAzMixcclxuICAgICAgZGVsdGFZOiAzMlxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0TmV4dFNwcml0ZSgpIHtcclxuICAgIGlmICh0aGlzLnNwcml0ZS55IDwgOTYpIHtcclxuICAgICAgdGhpcy5zcHJpdGUueSArPSB0aGlzLnNwcml0ZS5kZWx0YVlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3ByaXRlLnkgPSB0aGlzLnNwcml0ZS5iYXNlWTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZShjdHgpIHtcclxuICAgIGNvbnN0IHNwZWVkTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3BlZWQnKTtcclxuICAgIHNwZWVkTGFiZWwuaW5uZXJIVE1MID0gfn4odGhpcy5zcGVlZCAqIDEwMCkgLyAxMDA7XHJcbiAgICBjb25zdCB7IHNwcml0ZSwgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gdGhpc1xyXG4gICAgY3R4LmRyYXdJbWFnZShpbWcsIHNwcml0ZS54LCBzcHJpdGUueSwgc3ByaXRlLndpZHRoLCBzcHJpdGUuaGVpZ2h0LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTcHJpdGVEaXJlY3Rpb24oZGlyZWN0aW9uKSB7XHJcbiAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy5zcHJpdGUuYmFzZVggKyBoZXJvUGFyYW1zLnNwcml0ZUxheWVyW2RpcmVjdGlvbl0gKiB0aGlzLnNwcml0ZS5kZWx0YVhcclxuICB9XHJcblxyXG4gIG1ha2VIZXJvU3BlZWRQYXJhbXNEZWZhdWx0KCkge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudEFjY2VsZXJhdGlvblRpbWVyKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jdXJyZW50QWNjZWxlcmF0aW9uVGltZXIpXHJcbiAgICB9XHJcbiAgICB0aGlzLnNwZWVkID0gdmVsb2NpdHkuc3BlZWQ7XHJcbiAgICB0aGlzLmFjY2VsZXJhdGlvblN0YXJ0VGltZSA9IDA7XHJcbiAgfVxyXG5cclxuICBzZXROZXdTcGVlZFRpbWVyKCkge1xyXG4gICAgY29uc3Qgc3RhcnRTcGVlZCA9IHRoaXMuc3BlZWQ7XHJcbiAgICB0aGlzLmFjY2VsZXJhdGlvblN0YXJ0VGltZSA9IDA7XHJcbiAgICB0aGlzLmN1cnJlbnRBY2NlbGVyYXRpb25UaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5hY2NlbGVyYXRpb25TdGFydFRpbWUgKz0gNTA7XHJcbiAgICAgIHRoaXMuc3BlZWQgPSBzdGFydFNwZWVkICsgdmVsb2NpdHkuYWNjZWxlcmF0aW9uICogdGhpcy5hY2NlbGVyYXRpb25TdGFydFRpbWU7XHJcbiAgICAgIGlmICh0aGlzLmFjY2VsZXJhdGlvblN0YXJ0VGltZSA+PSB2ZWxvY2l0eS5tYXhBY2NlbGVyYXRpb25UaW1lKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmN1cnJlbnRBY2NlbGVyYXRpb25UaW1lcilcclxuICAgICAgfVxyXG4gICAgfSwgNTApO1xyXG4gIH1cclxuXHJcbiAgZHJhd0J1ZmZzKGN0eCkge1xyXG4gICAgY29uc3QgYWxsVGltZSA9IGJ1ZmZQYXJhbXMuYnVmZlRpbWUgLyAxMDAwO1xyXG4gICAgdGhpcy5jdXJyZW50QnVmZnMuZm9yRWFjaCgoYnVmZiwgaW5kZXgpID0+IHtcclxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGJ1ZmYudHlwZTtcclxuICAgICAgY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55IC0gMTAgLSBpbmRleCAqIDEwLCB0aGlzLndpZHRoICogKGFsbFRpbWUgLSBidWZmLnRpbWUpIC8gYWxsVGltZSwgNyk7XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5jcmVhc2VIZXJvVmVsb2NpdHlCeUJ1ZmYoYnVmZiA9IGJ1ZmZQYXJhbXMuc3BlZWRHcm93dGgpIHtcclxuICB2ZWxvY2l0eS5zcGVlZCAqPSBidWZmO1xyXG4gIHZlbG9jaXR5LmFjY2VsZXJhdGlvbiAqPSBidWZmO1xyXG4gIHZlbG9jaXR5Lm1heEFjY2VsZXJhdGlvblRpbWUgKj0gYnVmZjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlY3JlYXNlSGVyb1ZlbG9jaXR5QnlEZWJ1ZmYoZGVCdWZmID0gYnVmZlBhcmFtcy5zcGVlZEdyb3d0aCkge1xyXG4gIHZlbG9jaXR5LnNwZWVkIC89IGRlQnVmZjtcclxuICB2ZWxvY2l0eS5hY2NlbGVyYXRpb24gLz0gZGVCdWZmO1xyXG4gIHZlbG9jaXR5Lm1heEFjY2VsZXJhdGlvblRpbWUgLz0gZGVCdWZmO1xyXG59IiwiaW1wb3J0IHsgVW5pdCB9IGZyb20gXCIuL3VuaXRcIjtcclxuaW1wb3J0IHsgZ2V0Q2VudGVyQ29vcmRpbmF0ZXMsIGlzRGlzdGFuY2VCZXR3ZWVuVW5pdHNNb3JlVGhhblNhZmUgfSBmcm9tIFwiLi4vdXRpbHMvZ2VvbWV0cnlVdGlsc1wiO1xyXG5pbXBvcnQgeyBzbWFydEVuZW15UGFyYW1zIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcclxuXHJcbmV4cG9ydCBjb25zdCBCQVNFX1NNQVJUX1NJWkUgPSBzbWFydEVuZW15UGFyYW1zLnNpemU7XHJcbmNvbnN0IGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbWFydC1lbmVteS1zcHJpdGUnKVxyXG5cclxuZXhwb3J0IGNsYXNzIFNtYXJ0RW5lbXkgZXh0ZW5kcyBVbml0IHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQgPSBzbWFydEVuZW15UGFyYW1zLnNwZWVkKSB7XHJcbiAgICBzdXBlcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQpO1xyXG4gICAgdGhpcy5zcHJpdGUgPSB7XHJcbiAgICAgIGJhc2VYOiAwLFxyXG4gICAgICBiYXNlWTogMCxcclxuICAgICAgeDogMCxcclxuICAgICAgeTogMCxcclxuICAgICAgd2lkdGg6IDE2LFxyXG4gICAgICBoZWlnaHQ6IDE2LFxyXG4gICAgICBkZWx0YVg6IDE2LFxyXG4gICAgICBkZWx0YVk6IDE2XHJcbiAgICB9XHJcbiAgICB0aGlzLmRlZmVuc2UgPSAwO1xyXG4gIH1cclxuXHJcbiAgc2V0TmV4dFNwcml0ZSgpIHtcclxuICAgIGlmICh0aGlzLnNwcml0ZS54IDwgNDgpIHtcclxuICAgICAgdGhpcy5zcHJpdGUueCArPSB0aGlzLnNwcml0ZS5kZWx0YVhcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3ByaXRlLnggPSB0aGlzLnNwcml0ZS5iYXNlWDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5ld1BvcyhoZXJvKSB7XHJcbiAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbihoZXJvKTtcclxuICAgIHN1cGVyLm5ld1BvcygpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoY3R4KSB7XHJcbiAgICBjb25zdCB7IHNwcml0ZSwgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gdGhpc1xyXG4gICAgY3R4LmRyYXdJbWFnZShpbWcsIHNwcml0ZS54LCBzcHJpdGUueSwgc3ByaXRlLndpZHRoLCBzcHJpdGUuaGVpZ2h0LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBzaG93V2FybmluZ01lc3NhZ2UodGV4dCkge1xyXG4gICAgY29uc3QgeyBtZXNzYWdlIH0gPSBzbWFydEVuZW15UGFyYW1zO1xyXG4gICAgdGhpcy5jdHguZm9udCA9IG1lc3NhZ2UuZm9udDtcclxuICAgIHRoaXMuY3R4LnN0cm9rZVRleHQodGV4dCwgdGhpcy54ICsgbWVzc2FnZS54LCB0aGlzLnkgLSBtZXNzYWdlLnkpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlRGlyZWN0aW9uKGhlcm8pIHtcclxuICAgIGNvbnN0IGZlYXJQYXJhbXMgPSBnZXRGZWFyUGFyYW1zKGhlcm8uaXNJbW1vcnRhbCk7XHJcbiAgICBpZiAoIWlzRGlzdGFuY2VCZXR3ZWVuVW5pdHNNb3JlVGhhblNhZmUoaGVybywgdGhpcywgZmVhclBhcmFtcy5kaXN0YW5jZSkpIHtcclxuICAgICAgY29uc3QgW2hlcm9YLCBoZXJvWV0gPSBnZXRDZW50ZXJDb29yZGluYXRlcyhoZXJvKTtcclxuICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKGhlcm9YIC0gdGhpcy54IC0gdGhpcy53aWR0aCAvIDIsIGhlcm9ZIC0gdGhpcy55IC0gdGhpcy5oZWlnaHQgLyAyKSArIE1hdGguUEk7XHJcbiAgICAgIHRoaXMuZGlyLnkgPSBmZWFyUGFyYW1zLmlzRmVhciAqIE1hdGguY29zKGFuZ2xlKTtcclxuICAgICAgdGhpcy5kaXIueCA9IGZlYXJQYXJhbXMuaXNGZWFyICogTWF0aC5zaW4oYW5nbGUpO1xyXG4gICAgICB0aGlzLnNob3dXYXJuaW5nTWVzc2FnZShmZWFyUGFyYW1zLm1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZWF0KHVuaXQpIHtcclxuICAgIGNvbnN0IHsgZGVmZW5zZUluY3JlYXNlLCBzcGVlZEluY3JlYXNlIH0gPSBzbWFydEVuZW15UGFyYW1zO1xyXG4gICAgY29uc3QgZGVmYXVsdFNwZWVkID0gc21hcnRFbmVteVBhcmFtcy5zcGVlZDtcclxuICAgIGNvbnN0IG1hc3MxID0gdGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0O1xyXG4gICAgY29uc3QgbWFzczIgPSB1bml0LndpZHRoICogdW5pdC5oZWlnaHRcclxuICAgIGNvbnN0IGsgPSBNYXRoLnBvdygobWFzczEgKyBtYXNzMikgLyBtYXNzMSwgMC41KVxyXG4gICAgdGhpcy53aWR0aCAqPSBrO1xyXG4gICAgdGhpcy5oZWlnaHQgKj0gaztcclxuICAgIHRoaXMuZGVmZW5zZSA9IE1hdGgubWF4KHRoaXMuZGVmZW5zZSwgdW5pdC5kZWZlbnNlKSArIGRlZmVuc2VJbmNyZWFzZTtcclxuICAgIGxldCBtYXhTcGVlZCA9IE1hdGgubWF4KHRoaXMuc3BlZWQsIHVuaXQuc3BlZWQpO1xyXG4gICAgdGhpcy5zcGVlZCA9IG1heFNwZWVkID4gZGVmYXVsdFNwZWVkID8gbWF4U3BlZWQgKz0gc3BlZWRJbmNyZWFzZSA6IGRlZmF1bHRTcGVlZDtcclxuICAgIHRoaXMueCA9ICh0aGlzLnggKiBtYXNzMSArIHVuaXQueCAqIG1hc3MyKSAvIChtYXNzMSArIG1hc3MyKTtcclxuICAgIHRoaXMueSA9ICh0aGlzLnkgKiBtYXNzMSArIHVuaXQueSAqIG1hc3MyKSAvIChtYXNzMSArIG1hc3MyKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEZlYXJQYXJhbXMoaXNGZWFyKSB7XHJcbiAgaWYgKGlzRmVhcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGlzdGFuY2U6IDMwMCxcclxuICAgICAgaXNGZWFyOiAxLFxyXG4gICAgICBtZXNzYWdlOiAnWW91IGRvblxcJ3QgY2F0Y2ggbWUhJ1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkaXN0YW5jZTogMjAwLFxyXG4gICAgICBpc0ZlYXI6IC0xLFxyXG4gICAgICBtZXNzYWdlOiAnSSBzZWUgeW91ISdcclxuICAgIH1cclxuICB9XHJcbn0iLCJpbXBvcnQgeyBtb3ZlVG9Bbm90aGVyU2lkZUlmR29CZXlvbmNlQ2FudmFzIH0gZnJvbSBcIi4uL3V0aWxzL2dlb21ldHJ5VXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVbml0IHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQpIHtcclxuICAgIHRoaXMuY3R4ID0gY3R4O1xyXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICAgIHRoaXMuZGlyID0ge1xyXG4gICAgICB4OiBhbGZhWCxcclxuICAgICAgeTogYWxmYVlcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBuZXdQb3MoKSB7XHJcbiAgICB0aGlzLnggKz0gdGhpcy5zcGVlZCAqIHRoaXMuZGlyLng7XHJcbiAgICB0aGlzLnkgKz0gdGhpcy5zcGVlZCAqIHRoaXMuZGlyLnk7XHJcbiAgICBtb3ZlVG9Bbm90aGVyU2lkZUlmR29CZXlvbmNlQ2FudmFzKHRoaXMuY3R4LCB0aGlzKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBIZXJvIH0gZnJvbSBcIi4vY3JlYXR1cmVzL2hlcm9cIjtcclxuaW1wb3J0IHsgRHVtbXlFbmVteSwgQkFTRV9EVU1NWV9TSVpFLCBTUEVFRCBhcyBEVU1NWV9TUEVBRCB9IGZyb20gXCIuL2NyZWF0dXJlcy9kdW1teUVuZW15XCI7XHJcbmltcG9ydCB7IFNtYXJ0RW5lbXksIEJBU0VfU01BUlRfU0laRSB9IGZyb20gXCIuL2NyZWF0dXJlcy9zbWFydEVuZW15XCI7XHJcbmltcG9ydCB7IGFkZEhlcm9Db250cm9scyB9IGZyb20gXCIuL3V0aWxzL2NvbnRyb2xzVXRpbHNcIjtcclxuaW1wb3J0IHsgaXNEaXN0YW5jZUJldHdlZW5Vbml0c01vcmVUaGFuU2FmZSwgaWZVbml0c1RvdWNoRWFjaE90aGVyLCBnZXRDZW50ZXJDb29yZGluYXRlcywgZ2V0RWxlbWVudHNJbnNpZGVDYW52YXMgfSBmcm9tIFwiLi91dGlscy9nZW9tZXRyeVV0aWxzXCI7XHJcbmltcG9ydCB7IGNsZWFyQ2FudmFzIH0gZnJvbSAnLi91dGlscy9jYW52YXNVdGlscyc7XHJcbmltcG9ydCB7IEJ1bGxldCwgbWFrZUJ1bGxldERlZmF1bHQgfSBmcm9tIFwiLi9jcmVhdHVyZXMvYnVsbGV0XCI7XHJcbmltcG9ydCB7IFJhbmRvbUJ1ZmYgfSBmcm9tICcuL2l0ZW1zL2J1ZmZzL2J1ZmZHZW5lcmF0b3InO1xyXG5pbXBvcnQgeyBpbml0aWFsaXplR2FtZSB9IGZyb20gJy4vbWFpbic7XHJcbmltcG9ydCB7IHVwZGF0ZUxldmVsTGFiZWwsIHNob3dSZXBsYXlCdXR0b24sIHVwZGF0ZVNjb3JlTGFiZWwsIHNob3dMb3NlTWVzc2FnZSwgc3Vic2NyaWJlVG9TaG93UmVwbGF5IH0gZnJvbSAnLi91dGlscy91c2VyVXRpbHMnO1xyXG5pbXBvcnQgeyBMYW5kc2NhcGUgfSBmcm9tICcuL2l0ZW1zL2xhbmRzY2FwZSc7XHJcbmltcG9ydCB7IHNob3VsZEVuZW15RGllSWZCdWxsZXRIaXRzSGltIH0gZnJvbSAnLi91dGlscy9lZmZlY3RzVXRpbHMnO1xyXG5pbXBvcnQgeyBhZGRTbmFwc2hvdFRvUmVwbGF5LCBzaG93UmVwbGF5IH0gZnJvbSAnLi9yZXBsYXknO1xyXG5pbXBvcnQgeyBpbnRlcnZhbHMsIGx2bEJ1ZmZzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWUge1xyXG4gIGNvbnN0cnVjdG9yKGNhbnZhcykge1xyXG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IDcwMDtcclxuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IDcwMDtcclxuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxuICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgIHRoaXMuY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgIHRoaXMuaGVybyA9IG5ldyBIZXJvKHRoaXMuY3R4KTtcclxuICAgIHRoaXMubGFuZHNjYXBlID0gbmV3IExhbmRzY2FwZSh0aGlzLmN0eCwgNDAsIDQwKVxyXG4gICAgdGhpcy5kdW1teUVuZW1pZXMgPSBbXTtcclxuICAgIHRoaXMuc21hcnRFbmVtaWVzID0gW107XHJcbiAgICB0aGlzLmhlcm9CdWxsZXRzID0gW107XHJcbiAgICB0aGlzLnRpbWVycyA9IFtdO1xyXG4gICAgdGhpcy5sdmwgPSAxO1xyXG4gICAgdGhpcy5idWZmSXRlbSA9ICcnO1xyXG4gICAgdGhpcy5yZXBsYXkgPSB7IGxhbmRzY2FwZTogdGhpcy5sYW5kc2NhcGUsIHVuaXRzOiBbXSB9O1xyXG4gICAgLy8gdGhpcy5kcmF3TGFuZHNjYXBlKCk7XHJcbiAgICB0aGlzLmhhbmRsZUhlcm9Qb3NpdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgc3RhcnQoKSB7XHJcbiAgICBjb25zdCB0aW1lcjEgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnVwZGF0ZUdhbWVTdGF0ZSgpLCBpbnRlcnZhbHMudXBkYXRlR2FtZVN0YXRlKTtcclxuICAgIGNvbnN0IHRpbWVyMiA9IHNldEludGVydmFsKCgpID0+IHRoaXMudXBkYXRlU3ByaXRlcygpLCBpbnRlcnZhbHMudXBkYXRlU3ByaXRlcyk7XHJcbiAgICBjb25zdCB0aW1lcjMgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmFkZEVuZW15KHRoaXMuc21hcnRFbmVtaWVzLCBTbWFydEVuZW15LCBCQVNFX1NNQVJUX1NJWkUpLCBpbnRlcnZhbHMuYWRkU21hcnRFbmVteSk7XHJcbiAgICBjb25zdCB0aW1lcjQgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmFkZEVuZW15KHRoaXMuZHVtbXlFbmVtaWVzLCBEdW1teUVuZW15LCBCQVNFX0RVTU1ZX1NJWkUpLCBpbnRlcnZhbHMuYWRkRHVtbXlFbmVteSk7XHJcbiAgICBjb25zdCB0aW1lcjUgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmFkZEJ1ZmZJdGVtKCksIGludGVydmFscy5hZGRCdWZmSXRlbSk7XHJcbiAgICBjb25zdCB0aW1lcjYgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmx2bFVwKCksIGludGVydmFscy5sdmxVcClcclxuICAgIHRoaXMudGltZXJzLnB1c2godGltZXIxLCB0aW1lcjIsIHRpbWVyMywgdGltZXI0LCB0aW1lcjUsIHRpbWVyNik7XHJcbiAgICBhZGRIZXJvQ29udHJvbHModGhpcy5oZXJvLCAoeCwgeSkgPT4gdGhpcy5hZGRCdWxsZXQoeCwgeSkpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlR2FtZVN0YXRlKCkge1xyXG4gICAgdGhpcy51cGRhdGVDYW52YXNTdGF0ZSgpO1xyXG4gICAgdGhpcy5jdXJyZW50VGltZSA9IHVwZGF0ZVNjb3JlTGFiZWwodGhpcy5jdXJyZW50VGltZSwgdGhpcy5zdGFydFRpbWUpO1xyXG4gICAgYWRkU25hcHNob3RUb1JlcGxheSh0aGlzLnJlcGxheS51bml0cywgdGhpcy5jdXJyZW50VGltZSAtIHRoaXMuc3RhcnRUaW1lLCB0aGlzLmhlcm8sIHRoaXMuZHVtbXlFbmVtaWVzLCB0aGlzLnNtYXJ0RW5lbWllcywgdGhpcy5oZXJvQnVsbGV0cywgdGhpcy5idWZmSXRlbSwgdGhpcy5sdmwpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU3ByaXRlcygpIHtcclxuICAgIGNvbnN0IHVuaXRzID0gW3RoaXMuaGVybywgLi4udGhpcy5kdW1teUVuZW1pZXMsIC4uLnRoaXMuc21hcnRFbmVtaWVzXTtcclxuICAgIHVuaXRzLmZvckVhY2goc3ByaXRlID0+IHNwcml0ZS5zZXROZXh0U3ByaXRlKCkpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ2FudmFzU3RhdGUoKSB7XHJcbiAgICBjbGVhckNhbnZhcyh0aGlzLmN0eCk7XHJcbiAgICAvLyB0aGlzLmRyYXdMYW5kc2NhcGUoKTtcclxuICAgIHRoaXMuaGFuZGxlSGVyb0RlYXRoKCk7XHJcbiAgICB0aGlzLmhhbmRsZUhlcm9Qb3NpdGlvbigpO1xyXG4gICAgdGhpcy5oYW5kbGVCdWZmSXRlbVBvc2l0aW9uKCk7XHJcbiAgICB0aGlzLmhlcm9CdWxsZXRzID0gZ2V0RWxlbWVudHNJbnNpZGVDYW52YXModGhpcy5jdHgsIHRoaXMuaGVyb0J1bGxldHMpO1xyXG4gICAgdGhpcy5oYW5kbGVEdW1teUVuZW1pZXNQb3NpdGlvbigpO1xyXG4gICAgdGhpcy5oYW5kbGVTbWFydEVuZW1pZXNQb3NpdGlvbigpO1xyXG4gICAgdGhpcy5oYW5kbGVFbmVtaWVzRGVhdGgoKTtcclxuICAgIHRoaXMuaGFuZGxlQnVmZnMoKTtcclxuICB9XHJcblxyXG4gIGRyYXdMYW5kc2NhcGUoKSB7XHJcbiAgICB0aGlzLmxhbmRzY2FwZS5kcmF3KHRoaXMuY3R4KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUhlcm9Qb3NpdGlvbigpIHtcclxuICAgIHRoaXMuaGVyby5uZXdQb3MoKS51cGRhdGUodGhpcy5jdHgpLmRyYXdCdWZmcyh0aGlzLmN0eCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVCdWZmSXRlbVBvc2l0aW9uKCkge1xyXG4gICAgdGhpcy5idWZmSXRlbSAmJiB0aGlzLmJ1ZmZJdGVtLmRyYXcodGhpcy5jdHgpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlRHVtbXlFbmVtaWVzUG9zaXRpb24oKSB7XHJcbiAgICB0aGlzLmR1bW15RW5lbWllcy5mb3JFYWNoKGVuZW15ID0+IGVuZW15Lm5ld1BvcygpLnVwZGF0ZSh0aGlzLmN0eCkpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU21hcnRFbmVtaWVzUG9zaXRpb24oKSB7XHJcbiAgICB0aGlzLnNtYXJ0RW5lbWllcyA9IHRoaXMuc21hcnRFbmVtaWVzLnJlZHVjZSgobmV3QXJyYXksIGN1cnJlbnRFbmVteSkgPT4ge1xyXG4gICAgICBpZiAobmV3QXJyYXkuc29tZShlbmVteSA9PiBpZlVuaXRzVG91Y2hFYWNoT3RoZXIoZW5lbXksIGN1cnJlbnRFbmVteSkpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ld0FycmF5O1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHNlY29uZEVuZW15ID0gdGhpcy5zbWFydEVuZW1pZXMuZmluZChlbmVteSA9PiBpZlVuaXRzVG91Y2hFYWNoT3RoZXIoZW5lbXksIGN1cnJlbnRFbmVteSkgJiYgKGVuZW15ICE9PSBjdXJyZW50RW5lbXkpKVxyXG4gICAgICBpZiAoc2Vjb25kRW5lbXkpIHtcclxuICAgICAgICBjdXJyZW50RW5lbXkuZWF0KHNlY29uZEVuZW15KTtcclxuICAgICAgfVxyXG4gICAgICBuZXdBcnJheS5wdXNoKGN1cnJlbnRFbmVteSk7XHJcbiAgICAgIHJldHVybiBuZXdBcnJheTtcclxuICAgIH0sIFtdKTtcclxuICAgIHRoaXMuc21hcnRFbmVtaWVzLmZvckVhY2goY3VycmVudEVuZW15ID0+IGN1cnJlbnRFbmVteS5uZXdQb3ModGhpcy5oZXJvKS51cGRhdGUodGhpcy5jdHgpKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlRW5lbWllc0RlYXRoKCkge1xyXG4gICAgY29uc3QgbmV3U21hcnRFbmVtaWVzID0gW107XHJcbiAgICBjb25zdCBuZXdEdW1teUVuZW1pZXMgPSBbXTtcclxuICAgIGNvbnN0IG5ld0J1bGxldHMgPSBbXTtcclxuICAgIGNvbnN0IGFsbEVuZW1pZXMgPSBbLi4udGhpcy5zbWFydEVuZW1pZXMsIC4uLnRoaXMuZHVtbXlFbmVtaWVzXVxyXG5cclxuICAgIHRoaXMuc21hcnRFbmVtaWVzLmZvckVhY2goZW5lbXkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMuaGVyb0J1bGxldHMuc29tZShidWxsZXQgPT4gc2hvdWxkRW5lbXlEaWVJZkJ1bGxldEhpdHNIaW0oZW5lbXksIGJ1bGxldCkpKSB7XHJcbiAgICAgICAgbmV3U21hcnRFbmVtaWVzLnB1c2goZW5lbXkpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICB0aGlzLmR1bW15RW5lbWllcy5mb3JFYWNoKGVuZW15ID0+IHtcclxuICAgICAgaWYgKCF0aGlzLmhlcm9CdWxsZXRzLnNvbWUoYnVsbGV0ID0+IHNob3VsZEVuZW15RGllSWZCdWxsZXRIaXRzSGltKGVuZW15LCBidWxsZXQpKSkge1xyXG4gICAgICAgIG5ld0R1bW15RW5lbWllcy5wdXNoKGVuZW15KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgdGhpcy5oZXJvQnVsbGV0cy5mb3JFYWNoKGJ1bGxldCA9PiB7XHJcbiAgICAgIGlmICghYWxsRW5lbWllcy5zb21lKGVuZW15ID0+IHNob3VsZEVuZW15RGllSWZCdWxsZXRIaXRzSGltKGVuZW15LCBidWxsZXQpKSkge1xyXG4gICAgICAgIG5ld0J1bGxldHMucHVzaChidWxsZXQpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICB0aGlzLnNtYXJ0RW5lbWllcyA9IG5ld1NtYXJ0RW5lbWllcztcclxuICAgIHRoaXMuZHVtbXlFbmVtaWVzID0gbmV3RHVtbXlFbmVtaWVzO1xyXG4gICAgdGhpcy5oZXJvQnVsbGV0cyA9IG5ld0J1bGxldHM7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVIZXJvRGVhdGgoKSB7XHJcbiAgICBpZiAoIXRoaXMuaGVyby5pc0ltbW9ydGFsKSB7XHJcbiAgICAgIGNvbnN0IGVuZW1pZXMgPSBbLi4udGhpcy5kdW1teUVuZW1pZXMsIC4uLnRoaXMuc21hcnRFbmVtaWVzXTtcclxuICAgICAgaWYgKGVuZW1pZXMuc29tZShlbmVteSA9PiBpZlVuaXRzVG91Y2hFYWNoT3RoZXIodGhpcy5oZXJvLCBlbmVteSwgMTApKSkge1xyXG4gICAgICAgIHRoaXMuZmluaXNoR2FtZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaW5pc2hHYW1lKCkge1xyXG4gICAgdGhpcy5zdG9wR2FtZUFuZENsZWFyU3RhdGUoKTtcclxuICAgIHNob3dSZXBsYXlCdXR0b24oKTtcclxuICAgIHNob3dMb3NlTWVzc2FnZSgpO1xyXG4gICAgc3Vic2NyaWJlVG9TaG93UmVwbGF5KCgpID0+IHNob3dSZXBsYXkodGhpcy5yZXBsYXksIHRoaXMuY3R4KSk7XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGluaXRpYWxpemVHYW1lLCB7IG9uY2U6IHRydWUgfSk7XHJcbiAgfVxyXG5cclxuICBzdG9wR2FtZUFuZENsZWFyU3RhdGUoKSB7XHJcbiAgICB0aGlzLnRpbWVycy5tYXAodGltZXIgPT4gY2xlYXJJbnRlcnZhbCh0aW1lcikpO1xyXG4gICAgdGhpcy5oZXJvLmN1cnJlbnRCdWZmcy5tYXAoYnVmZiA9PiBjbGVhckludGVydmFsKGJ1ZmYudGltZXIpKTtcclxuICAgIG1ha2VCdWxsZXREZWZhdWx0KCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVCdWZmcygpIHtcclxuICAgIGlmIChpZlVuaXRzVG91Y2hFYWNoT3RoZXIodGhpcy5oZXJvLCB0aGlzLmJ1ZmZJdGVtKSkge1xyXG4gICAgICB0aGlzLmJ1ZmZJdGVtLmFjdGl2YXRlQnVmZih0aGlzKTtcclxuICAgICAgdGhpcy5idWZmSXRlbSA9ICcnXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsdmxVcCgpIHtcclxuICAgIHRoaXMuYWRkRW5lbXlTdGFjayh0aGlzLmR1bW15RW5lbWllcywgRHVtbXlFbmVteSwgQkFTRV9EVU1NWV9TSVpFKTtcclxuICAgIHRoaXMubHZsKys7XHJcbiAgICB1cGRhdGVMZXZlbExhYmVsKHRoaXMubHZsKTtcclxuICB9XHJcblxyXG4gIGFkZEVuZW15KGVuZW15QXJyYXksIGNyZWF0dXJlQ29uc3RydWN0b3IsIGJhc2VTaXplKSB7XHJcbiAgICBjb25zdCB7IHNpemUsIHgsIHksIGFsZmFYLCBhbGZhWSB9ID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVBvc2l0aW9uQW5kRGlyZWN0aW9uKHRoaXMuaGVybywgYmFzZVNpemUpO1xyXG4gICAgY29uc3QgZW5lbXkgPSBuZXcgY3JlYXR1cmVDb25zdHJ1Y3Rvcih0aGlzLmN0eCwgc2l6ZSwgc2l6ZSwgeCwgeSwgYWxmYVgsIGFsZmFZLCBEVU1NWV9TUEVBRCArIGx2bEJ1ZmZzLnNwZWVkSW5jcmVhc2UgKiB0aGlzLmx2bCk7XHJcbiAgICBlbmVteUFycmF5LnB1c2goZW5lbXkpO1xyXG4gIH1cclxuXHJcbiAgYWRkRW5lbXlTdGFjayhlbmVteUFycmF5LCBjcmVhdHVyZUNvbnN0cnVjdG9yLCBiYXNlU2l6ZSkge1xyXG4gICAgY29uc3QgeyBzaXplLCB4LCB5LCBhbGZhWCwgYWxmYVkgfSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21Qb3NpdGlvbkFuZERpcmVjdGlvbih0aGlzLmhlcm8sIGJhc2VTaXplKTtcclxuICAgIGNvbnN0IGVuZW15ID0gbmV3IGNyZWF0dXJlQ29uc3RydWN0b3IodGhpcy5jdHgsIHNpemUsIHNpemUsIHgsIHksIGFsZmFYLCBhbGZhWSwgRFVNTVlfU1BFQUQgKyBsdmxCdWZmcy5zcGVlZEluY3JlYXNlICogdGhpcy5sdmwpO1xyXG4gICAgZW5lbXlBcnJheS5wdXNoKGVuZW15KTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sdmw7IGkrKykge1xyXG4gICAgICBjb25zdCB7IHNpemUsIHgsIHkgfSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21Qb3NpdGlvbkFuZERpcmVjdGlvbihlbmVteSwgYmFzZVNpemUsIHRydWUsIDEwMCk7XHJcbiAgICAgIGNvbnN0IG5ld0VuZW15ID0gbmV3IGNyZWF0dXJlQ29uc3RydWN0b3IodGhpcy5jdHgsIHNpemUsIHNpemUsIHgsIHksIGFsZmFYLCBhbGZhWSwgRFVNTVlfU1BFQUQgKyBsdmxCdWZmcy5zcGVlZEluY3JlYXNlICogdGhpcy5sdmwpO1xyXG4gICAgICBlbmVteUFycmF5LnB1c2gobmV3RW5lbXkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWRkQnVsbGV0KHgsIHkpIHtcclxuICAgIGNvbnN0IFtoZXJvWCwgaGVyb1ldID0gZ2V0Q2VudGVyQ29vcmRpbmF0ZXModGhpcy5oZXJvKTtcclxuICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihoZXJvWCAtIHgsIGhlcm9ZIC0geSkgKyBNYXRoLlBJO1xyXG4gICAgY29uc3QgYnVsbGV0ID0gbmV3IEJ1bGxldCh0aGlzLmN0eCwgaGVyb1gsIGhlcm9ZLCBNYXRoLnNpbihhbmdsZSksIE1hdGguY29zKGFuZ2xlKSk7XHJcbiAgICB0aGlzLmhlcm9CdWxsZXRzLnB1c2goYnVsbGV0KTtcclxuICB9XHJcblxyXG4gIGFkZEJ1ZmZJdGVtKCkge1xyXG4gICAgY29uc3Qgc2l6ZSA9IDIwO1xyXG4gICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLmdlbmVyYXRlUmFuZG9tUG9zaXRpb25BbmREaXJlY3Rpb24odGhpcy5oZXJvLCAwKTtcclxuICAgIGNvbnN0IGJ1ZmZJdGVtID0gbmV3IFJhbmRvbUJ1ZmYodGhpcy5jdHgsIHNpemUsIHNpemUsIHgsIHkpO1xyXG4gICAgdGhpcy5idWZmSXRlbSA9IGJ1ZmZJdGVtO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVSYW5kb21Qb3NpdGlvbkFuZERpcmVjdGlvbihoZXJvLCBiYXNlU2l6ZSwgaXNJbnNpZGVDaXJjbGUgPSBmYWxzZSwgZGlzdGFuY2UgPSAyMDApIHtcclxuICAgIGxldCB4LCB5LCBjb25kaXRpb247XHJcbiAgICBjb25zdCBzaXplID0gTWF0aC5yYW5kb20oKSAqIDIwICsgYmFzZVNpemUgKyB0aGlzLmx2bCAqIGx2bEJ1ZmZzLnNpemVJbmNyZWFzZTtcclxuICAgIGNvbnN0IGFsZmFYID0gTWF0aC5yYW5kb20oKSAqIDIgLSAxO1xyXG4gICAgY29uc3QgYWxmYVkgPSBNYXRoLnJhbmRvbSgpICogMiAtIDE7XHJcblxyXG4gICAgZG8ge1xyXG4gICAgICB4ID0gTWF0aC5yYW5kb20oKSAqIHRoaXMuY3R4LmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgeSA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLmN0eC5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgICBjb25zdCBuZXdVbml0ID0geyB4LCB5LCB3aWR0aDogc2l6ZSwgaGVpZ2h0OiBzaXplIH07XHJcbiAgICAgIGNvbmRpdGlvbiA9IGlzRGlzdGFuY2VCZXR3ZWVuVW5pdHNNb3JlVGhhblNhZmUoaGVybywgbmV3VW5pdCwgZGlzdGFuY2UpO1xyXG4gICAgfSB3aGlsZSAoaXNJbnNpZGVDaXJjbGUgPyBjb25kaXRpb24gOiAhY29uZGl0aW9uKTtcclxuXHJcbiAgICByZXR1cm4geyB4LCB5LCBhbGZhWCwgYWxmYVksIHNpemUgfTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU3dvcmQgfSBmcm9tICcuL3N3b3JkJztcclxuaW1wb3J0IHsgU2hpZWxkIH0gZnJvbSAnLi9zaGllbGQnO1xyXG5pbXBvcnQgeyBTaG9lcyB9IGZyb20gJy4vc2hvZXMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGJ1ZmZUeXBlcyA9IFt7XHJcbiAgc2VsZWN0b3I6ICcuc3dvcmQnLFxyXG4gIGNvbnN0cnVjdG9yOiBTd29yZCxcclxuICBjb2xvcjogJ3JlZCdcclxufSwge1xyXG4gIHNlbGVjdG9yOiAnLnNoaWVsZCcsXHJcbiAgY29uc3RydWN0b3I6IFNoaWVsZCxcclxuICBjb2xvcjogJ2JsYWNrJ1xyXG59LCB7XHJcbiAgc2VsZWN0b3I6ICcuc2hvZXMnLFxyXG4gIGNvbnN0cnVjdG9yOiBTaG9lcyxcclxuICBjb2xvcjogJ2JsdWUnXHJcbn1dXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUmFuZG9tQnVmZihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHkpIHtcclxuICBjb25zdCBidWZmVHlwZSA9IGJ1ZmZUeXBlc1t+fihNYXRoLnJhbmRvbSgpICogMyldXHJcbiAgY29uc3QgYnVmZiA9IGJ1ZmZUeXBlLmNvbnN0cnVjdG9yXHJcbiAgcmV0dXJuIG5ldyBidWZmKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgYnVmZlR5cGUuc2VsZWN0b3IpO1xyXG59OyIsIlxyXG5leHBvcnQgY2xhc3MgSXRlbSB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBzZWxlY3Rvcikge1xyXG4gICAgdGhpcy5jdHggPSBjdHg7XHJcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gICAgdGhpcy5zcHJpdGUgPSB7XHJcbiAgICAgIHg6IDAsXHJcbiAgICAgIHk6IDAsXHJcbiAgICAgIHdpZHRoOiAxNixcclxuICAgICAgaGVpZ2h0OiAxNixcclxuICAgIH1cclxuICAgIHRoaXMuaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGRyYXcoY3R4KSB7XHJcbiAgICBjb25zdCB7IGltYWdlLCBzcHJpdGUsIHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IHRoaXNcclxuICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIHNwcml0ZS54LCBzcHJpdGUueSwgc3ByaXRlLndpZHRoLCBzcHJpdGUuaGVpZ2h0LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEl0ZW0gfSBmcm9tICcuL2l0ZW0nO1xyXG5pbXBvcnQgeyBhZGRCdWZmSW5kaWNhdG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMvZWZmZWN0c1V0aWxzJ1xyXG5pbXBvcnQgeyBidWZmVHlwZXMgfSBmcm9tICcuL2J1ZmZHZW5lcmF0b3InO1xyXG5pbXBvcnQgeyBidWZmUGFyYW1zIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTaGllbGQgZXh0ZW5kcyBJdGVtIHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIHR5cGUpIHtcclxuICAgIHN1cGVyKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgdHlwZSk7XHJcbiAgfVxyXG5cclxuICBhY3RpdmF0ZUJ1ZmYoZ2FtZU9iamVjdCkge1xyXG4gICAgYWRkQnVmZkluZGljYXRvcihnYW1lT2JqZWN0Lmhlcm8sIGJ1ZmZUeXBlc1sxXS5jb2xvcik7XHJcbiAgICBnYW1lT2JqZWN0Lmhlcm8uaXNJbW1vcnRhbCA9IHRydWU7XHJcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjb25zdCBoYXNBbm90aGVyU2hpZWxkID0gZ2FtZU9iamVjdC5oZXJvLmN1cnJlbnRCdWZmcy5zb21lKGJ1ZmYgPT4gYnVmZi5jb2xvciA9PT0gYnVmZlR5cGVzWzFdLmNvbG9yKTtcclxuICAgICAgZ2FtZU9iamVjdC5oZXJvLmlzSW1tb3J0YWwgPSAhaGFzQW5vdGhlclNoaWVsZDtcclxuICAgIH0sIGJ1ZmZQYXJhbXMuYnVmZlRpbWUpXHJcbiAgICBnYW1lT2JqZWN0LnRpbWVycy5wdXNoKHRpbWVyKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBJdGVtIH0gZnJvbSAnLi9pdGVtJztcclxuaW1wb3J0IHsgaW5jcmVhc2VIZXJvVmVsb2NpdHlCeUJ1ZmYsIGRlY3JlYXNlSGVyb1ZlbG9jaXR5QnlEZWJ1ZmYgfSBmcm9tICcuLi8uLi9jcmVhdHVyZXMvaGVybyc7XHJcbmltcG9ydCB7IGFkZEJ1ZmZJbmRpY2F0b3IgfSBmcm9tICcuLi8uLi91dGlscy9lZmZlY3RzVXRpbHMnXHJcbmltcG9ydCB7IGJ1ZmZUeXBlcyB9IGZyb20gJy4vYnVmZkdlbmVyYXRvcic7XHJcbmltcG9ydCB7IGJ1ZmZQYXJhbXMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNob2VzIGV4dGVuZHMgSXRlbSB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCB0eXBlKSB7XHJcbiAgICBzdXBlcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIHR5cGUpO1xyXG4gIH1cclxuXHJcbiAgYWN0aXZhdGVCdWZmKGdhbWVPYmplY3QpIHtcclxuICAgIGNvbnN0IHZhbHVlID0gNTtcclxuICAgIGFkZEJ1ZmZJbmRpY2F0b3IoZ2FtZU9iamVjdC5oZXJvLCBidWZmVHlwZXNbMl0uY29sb3IpO1xyXG4gICAgaW5jcmVhc2VIZXJvVmVsb2NpdHlCeUJ1ZmYoKTtcclxuICAgIGNvbnN0IGVuZW1pZXMgPSBbLi4uZ2FtZU9iamVjdC5zbWFydEVuZW1pZXMsIC4uLmdhbWVPYmplY3QuZHVtbXlFbmVtaWVzXTtcclxuICAgIGVuZW1pZXMuZm9yRWFjaChlbmVteSA9PiBlbmVteS5zcGVlZCAvPSB2YWx1ZSk7XHJcblxyXG4gICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgZGVjcmVhc2VIZXJvVmVsb2NpdHlCeURlYnVmZigpO1xyXG4gICAgICBlbmVtaWVzLmZvckVhY2goZW5lbXkgPT4gZW5lbXkuc3BlZWQgKj0gdmFsdWUpO1xyXG4gICAgfSwgYnVmZlBhcmFtcy5idWZmVGltZSlcclxuICAgIGdhbWVPYmplY3QudGltZXJzLnB1c2godGltZXIpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IEl0ZW0gfSBmcm9tICcuL2l0ZW0nO1xyXG5pbXBvcnQgeyBncm93QnVsbGV0LCBzaHJpbmtCdWxsZXQgfSBmcm9tICcuLi8uLi9jcmVhdHVyZXMvYnVsbGV0JztcclxuaW1wb3J0IHsgYWRkQnVmZkluZGljYXRvciB9IGZyb20gJy4uLy4uL3V0aWxzL2VmZmVjdHNVdGlscydcclxuaW1wb3J0IHsgYnVmZlR5cGVzIH0gZnJvbSAnLi9idWZmR2VuZXJhdG9yJztcclxuaW1wb3J0IHsgYnVmZlBhcmFtcyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cyc7XHJcblxyXG5leHBvcnQgY2xhc3MgU3dvcmQgZXh0ZW5kcyBJdGVtIHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIHR5cGUpIHtcclxuICAgIHN1cGVyKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgdHlwZSk7XHJcbiAgfVxyXG5cclxuICBhY3RpdmF0ZUJ1ZmYoZ2FtZU9iamVjdCkge1xyXG4gICAgYWRkQnVmZkluZGljYXRvcihnYW1lT2JqZWN0Lmhlcm8sIGJ1ZmZUeXBlc1swXS5jb2xvcik7XHJcbiAgICBncm93QnVsbGV0KCk7XHJcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gc2hyaW5rQnVsbGV0KCksIGJ1ZmZQYXJhbXMuYnVmZlRpbWUpO1xyXG4gICAgZ2FtZU9iamVjdC50aW1lcnMucHVzaCh0aW1lcik7XHJcbiAgfVxyXG59IiwiXHJcbmV4cG9ydCBjbGFzcyBMYW5kc2NhcGUge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgdGhpcy5jdHggPSBjdHg7XHJcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgIHRoaXMuY2FudmFzV2lkdGggPSBjdHguY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgdGhpcy5jYW52YXNIZWlnaHQgPSBjdHguY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgdGhpcy5zcHJpdGUgPSB7XHJcbiAgICAgIHg6IDAsXHJcbiAgICAgIHk6IDAsXHJcbiAgICAgIHdpZHRoOiAzMixcclxuICAgICAgaGVpZ2h0OiAzMixcclxuICAgIH1cclxuICAgIHRoaXMuaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGFuZHNjYXBlJyk7XHJcbiAgfVxyXG5cclxuICBkcmF3KGN0eCkge1xyXG4gICAgY29uc3QgeyBpbWFnZSwgc3ByaXRlLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzXHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGNhbnZhc1dpZHRoOyB4ICs9IHdpZHRoKSB7XHJcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgY2FudmFzSGVpZ2h0OyB5ICs9IGhlaWdodCkge1xyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIHNwcml0ZS54LCBzcHJpdGUueSwgc3ByaXRlLndpZHRoLCBzcHJpdGUuaGVpZ2h0LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuL2dhbWVcIjtcclxuXHJcbmltcG9ydCB7IGhpZGVSZXBsYXlCdXR0b24gfSBmcm9tICcuL3V0aWxzL3VzZXJVdGlscyc7XHJcbmltcG9ydCBSb3V0ZXIgZnJvbSAnLi91dGlscy9yb3V0ZXInO1xyXG5pbXBvcnQgcm91dGVzIGZyb20gJy4vcm91dGVzJztcclxuXHJcbmV4cG9ydCBsZXQgZ2FtZTtcclxuXHJcbi8vIGluaXRpYWxpemVHYW1lKCk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUdhbWUoKSB7XHJcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImNhbnZhc1wiKTtcclxuICBoaWRlUmVwbGF5QnV0dG9uKCk7XHJcbiAgZ2FtZSA9IG5ldyBHYW1lKGNhbnZhcyk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHN0YXJ0R2FtZSwgeyBvbmNlOiB0cnVlIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRHYW1lKCkge1xyXG4gIGdhbWUuc3RhcnQoKTtcclxufVxyXG5cclxubmV3IFJvdXRlcihyb3V0ZXMpO1xyXG5cclxuIiwiaW1wb3J0IHsgaW5pdGlhbGl6ZUdhbWUgfSBmcm9tICcuL21haW4nO1xyXG5pbXBvcnQgeyBoaWRlUmVwbGF5QnV0dG9uLCB1cGRhdGVMZXZlbExhYmVsIH0gZnJvbSAnLi91dGlscy91c2VyVXRpbHMnO1xyXG5pbXBvcnQgeyBjbGVhckNhbnZhcyB9IGZyb20gJy4vdXRpbHMvY2FudmFzVXRpbHMnO1xyXG5pbXBvcnQgeyBpbnRlcnZhbHMgfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkU25hcHNob3RUb1JlcGxheSh1bml0cywgdGltZSwgaGVybywgZHVtbXlFbmVtaWVzLCBzbWFydEVuZW1pZXMsIGhlcm9CdWxsZXRzLCBidWZmSXRlbSwgbHZsKSB7XHJcbiAgdW5pdHMucHVzaChnZXRSZXBsYXlTbmFwc2hvdE9iamVjdCh0aW1lLCBoZXJvLCBkdW1teUVuZW1pZXMsIHNtYXJ0RW5lbWllcywgaGVyb0J1bGxldHMsIGJ1ZmZJdGVtLCBsdmwpKVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRSZXBsYXlTbmFwc2hvdE9iamVjdCh0aW1lLCBoZXJvLCBkdW1teUVuZW1pZXMsIHNtYXJ0RW5lbWllcywgaGVyb0J1bGxldHMsIGJ1ZmZJdGVtLCBsdmwpIHtcclxuICByZXR1cm4ge1xyXG4gICAgdGltZTogdGltZSxcclxuICAgIGhlcm86IHsgdW5pdDogaGVybywgcG9zWDogfn5oZXJvLngsIHBvc1k6IH5+aGVyby55LCBzcHJpdGVYOiBoZXJvLnNwcml0ZS54LCBzcHJpdGVZOiBoZXJvLnNwcml0ZS55IH0sXHJcbiAgICBkdW1teUVuZW1pZXM6IGdldFJlcGxheUl0ZW1zQXJyYXkoZHVtbXlFbmVtaWVzKSxcclxuICAgIHNtYXJ0RW5lbWllczogZ2V0UmVwbGF5SXRlbXNBcnJheShzbWFydEVuZW1pZXMpLFxyXG4gICAgaGVyb0J1bGxldHM6IGdldFJlcGxheUl0ZW1zQXJyYXkoaGVyb0J1bGxldHMpLFxyXG4gICAgYnVmZkl0ZW06IGJ1ZmZJdGVtLFxyXG4gICAgbHZsOiBsdmxcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFJlcGxheUl0ZW1zQXJyYXkoYXJyYXkpIHtcclxuICByZXR1cm4gYXJyYXkubWFwKGl0ZW0gPT5cclxuICAgICh7IHVuaXQ6IGl0ZW0sIHBvc1g6IH5+aXRlbS54LCBwb3NZOiB+fml0ZW0ueSwgd2lkdGg6IH5+aXRlbS53aWR0aCwgaGVpZ2h0OiB+fml0ZW0uaGVpZ2h0IH0pKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2hvd1JlcGxheShyZXBsYXksIGN0eCkge1xyXG4gIGxldCBmcmFtZSA9IDA7XHJcblxyXG4gIGNvbnN0IHNwcml0ZVRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgdXBkYXRlU3ByaXRlc0Zyb21SZXBsYXlTbmFwc2hvdChyZXBsYXkudW5pdHNbZnJhbWVdKTtcclxuICB9LCBpbnRlcnZhbHMudXBkYXRlU3ByaXRlcylcclxuXHJcbiAgY29uc3QgcG9zaXRpdGlvblRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgdXBkYXRlVW5pdHNQb3NpdGlvbkZyb21SZXBsYXlTbmFwc2hvdChjdHgsIHJlcGxheS51bml0c1tmcmFtZV0pO1xyXG4gICAgZnJhbWUrKztcclxuICAgIGlmIChmcmFtZSA9PT0gcmVwbGF5LnVuaXRzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbChzcHJpdGVUaW1lcik7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwocG9zaXRpdGlvblRpbWVyKTtcclxuICAgICAgaGlkZVJlcGxheUJ1dHRvbigpO1xyXG4gICAgICBpbml0aWFsaXplR2FtZSgpO1xyXG4gICAgfVxyXG4gIH0sIGludGVydmFscy51cGRhdGVHYW1lU3RhdGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVTcHJpdGVzRnJvbVJlcGxheVNuYXBzaG90KHNuYXBzaG90KSB7XHJcbiAgY29uc3QgeyBoZXJvLCBkdW1teUVuZW1pZXMsIHNtYXJ0RW5lbWllcywgbHZsIH0gPSBzbmFwc2hvdDtcclxuICBjb25zdCB1bml0cyA9IFtoZXJvLCAuLi5kdW1teUVuZW1pZXMsIC4uLnNtYXJ0RW5lbWllc107XHJcbiAgdW5pdHMuZm9yRWFjaChyZXBsYXlJdGVtID0+IHJlcGxheUl0ZW0udW5pdC5zZXROZXh0U3ByaXRlKCkpO1xyXG4gIHVwZGF0ZUxldmVsTGFiZWwobHZsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlVW5pdHNQb3NpdGlvbkZyb21SZXBsYXlTbmFwc2hvdChjdHgsIHNuYXBzaG90KSB7XHJcbiAgY29uc3QgeyBoZXJvLCBkdW1teUVuZW1pZXMsIHNtYXJ0RW5lbWllcywgaGVyb0J1bGxldHMsIGJ1ZmZJdGVtIH0gPSBzbmFwc2hvdDtcclxuICBjbGVhckNhbnZhcyhjdHgpO1xyXG4gIC8vIHJlcGxheS5sYW5kc2NhcGUuZHJhdyhjdHgpO1xyXG4gIHVwZGF0ZVVuaXRQb3NpdGlvbihoZXJvKTtcclxuICBoZXJvLnVuaXQuc3ByaXRlLnggPSBoZXJvLnNwcml0ZVg7XHJcbiAgaGVyby51bml0LnNwcml0ZS55ID0gaGVyby5zcHJpdGVZO1xyXG4gIGhlcm8udW5pdC5uZXdQb3MoKS51cGRhdGUoY3R4KTtcclxuICB1cGRhdGVSZXBsYXlJdGVtc0FycmF5KGN0eCwgZHVtbXlFbmVtaWVzKTtcclxuICB1cGRhdGVSZXBsYXlJdGVtc0FycmF5KGN0eCwgc21hcnRFbmVtaWVzLCBoZXJvLnVuaXQpO1xyXG4gIHVwZGF0ZVJlcGxheUl0ZW1zQXJyYXkoY3R4LCBoZXJvQnVsbGV0cyk7XHJcbiAgYnVmZkl0ZW0gJiYgYnVmZkl0ZW0uZHJhdyhjdHgpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVJlcGxheUl0ZW1zQXJyYXkoY3R4LCBhcnJheSwgaGVybykge1xyXG4gIGFycmF5LmZvckVhY2gocmVwbGF5SXRlbSA9PiB7XHJcbiAgICB1cGRhdGVVbml0UG9zaXRpb24ocmVwbGF5SXRlbSk7XHJcbiAgICByZXBsYXlJdGVtLnVuaXQud2lkdGggPSByZXBsYXlJdGVtLndpZHRoO1xyXG4gICAgcmVwbGF5SXRlbS51bml0LmhlaWdodCA9IHJlcGxheUl0ZW0uaGVpZ2h0O1xyXG4gICAgcmVwbGF5SXRlbS51bml0Lm5ld1BvcyhoZXJvKS51cGRhdGUoY3R4KVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVVbml0UG9zaXRpb24ocmVwbGF5SXRlbSkge1xyXG4gIHJlcGxheUl0ZW0udW5pdC54ID0gcmVwbGF5SXRlbS5wb3NYO1xyXG4gIHJlcGxheUl0ZW0udW5pdC55ID0gcmVwbGF5SXRlbS5wb3NZO1xyXG59XHJcbiIsImltcG9ydCB7IGluaXRpYWxpemVHYW1lLCBzdGFydEdhbWUgfSBmcm9tICcuL21haW4nO1xyXG5pbXBvcnQgeyBnZXRTY29yZUZyb21EYXRhYmFzZSB9IGZyb20gJy4vdXRpbHMvcmVxdWVzdFV0aWxzJztcclxuaW1wb3J0IHsgZ2FtZSB9IGZyb20gJy4vbWFpbic7XHJcblxyXG5sZXQgZ2FtZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLWNvbnRhaW5lcicpO1xyXG5cclxuY29uc3Qgcm91dGVzID0gW1xyXG4gIHtcclxuICAgIG1hdGNoOiAnJyxcclxuICAgIG9uRW50ZXI6ICgpID0+IHtcclxuICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnZ2FtZSc7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAgbWF0Y2g6ICdnYW1lJyxcclxuICAgIG9uRW50ZXI6ICgpID0+IHtcclxuICAgICAgY2hhbmdlU3R5bGVUb0dhbWVEaXNwbGF5KCk7XHJcbiAgICAgIGNoYW5nZUFjdGl2ZVBhZ2UoJ2dhbWUnKTtcclxuICAgICAgZ2FtZUNvbnRhaW5lci5pbm5lckhUTUwgPSBnZW5lcmF0ZUdhbWVDb250ZW50KCk7XHJcbiAgICAgIGluaXRpYWxpemVHYW1lKCk7XHJcbiAgICB9LFxyXG4gICAgb25MZWF2ZTogKCkgPT4ge1xyXG4gICAgICBjaGFuZ2VTdHlsZVRvSW5mb3JtYXRpb25EaXNwbGF5KCk7XHJcbiAgICAgIGdhbWUuc3RvcEdhbWVBbmRDbGVhclN0YXRlKCk7XHJcbiAgICAgIHJlbW92ZUFjdGl2ZVBhZ2UoJ2dhbWUnKTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGluaXRpYWxpemVHYW1lKVxyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgc3RhcnRHYW1lKVxyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIG1hdGNoOiAnc2NvcmVzJyxcclxuICAgIG9uRW50ZXI6ICgpID0+IHtcclxuICAgICAgY2hhbmdlQWN0aXZlUGFnZSgnc2NvcmVzJyk7XHJcbiAgICAgIGdhbWVDb250YWluZXIuaW5uZXJIVE1MID0gJzxkaXY+PC9kaXY+JztcclxuICAgICAgZ2V0U2NvcmVGcm9tRGF0YWJhc2UoKVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiBnYW1lQ29udGFpbmVyLmlubmVySFRNTCA9IGdlbmVyYXRlU2NvcmVDb250ZW50KHJlcykpO1xyXG4gICAgfSxcclxuICAgIG9uTGVhdmU6ICgpID0+IHtcclxuICAgICAgcmVtb3ZlQWN0aXZlUGFnZSgnc2NvcmVzJyk7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAgbWF0Y2g6ICdydWxlcycsXHJcbiAgICBvbkVudGVyOiAoKSA9PiB7XHJcbiAgICAgIGNoYW5nZUFjdGl2ZVBhZ2UoJ3J1bGVzJyk7XHJcbiAgICAgIGdhbWVDb250YWluZXIuaW5uZXJIVE1MID0gZ2VuZXJhdGVSdWxlc0NvbnRlbnQoKTtcclxuICAgIH0sXHJcbiAgICBvbkxlYXZlOiAoKSA9PiB7XHJcbiAgICAgIHJlbW92ZUFjdGl2ZVBhZ2UoJ3J1bGVzJyk7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAgbWF0Y2g6ICdhdXRob3InLFxyXG4gICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICBjaGFuZ2VBY3RpdmVQYWdlKCdhdXRob3InKTtcclxuICAgICAgZ2FtZUNvbnRhaW5lci5pbm5lckhUTUwgPSBnZW5lcmF0ZUF1dGhvckNvbnRlbnQoKTtcclxuICAgIH0sXHJcbiAgICBvbkxlYXZlOiAoKSA9PiB7XHJcbiAgICAgIHJlbW92ZUFjdGl2ZVBhZ2UoJ2F1dGhvcicpO1xyXG4gICAgfVxyXG4gIH0sXHJcbl1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZUFjdGl2ZVBhZ2UobmV3UGFnZSkge1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtocmVmPVwiIyR7bmV3UGFnZX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlQWN0aXZlUGFnZShwYWdlKSB7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2hyZWY9XCIjJHtwYWdlfVwiXWApLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VTdHlsZVRvR2FtZURpc3BsYXkoKSB7XHJcbiAgZ2FtZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhcmVuYScpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVN0eWxlVG9JbmZvcm1hdGlvbkRpc3BsYXkoKSB7XHJcbiAgZ2FtZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhcmVuYScpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2NvcmVDb250ZW50KHNjb3Jlcykge1xyXG4gIGNvbnN0IGxpc3RJdGVtcyA9IHNjb3Jlcy5tYXAoKGl0ZW0sIGkpID0+XHJcbiAgICBgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cclxuICAgICAgJHtpICsgMX0pICR7aXRlbS5uYW1lfVxyXG4gICAgICA8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXByaW1hcnkgYmFkZ2UtcGlsbFwiPiR7aXRlbS5zY29yZX08L3NwYW4+XHJcbiAgICA8L2xpPmApLmpvaW4oJycpO1xyXG5cclxuICByZXR1cm4gYDxkaXYgY2xhc3M9XCJjb250YWluZXIgbWFyZ2luLXRvcFwiPlxyXG4gICAgICAgICAgICA8aDQ+QmVzdCBzY29yZXM6PC9oND5cclxuICAgICAgICAgICAgPHVsIGNsYXNzPVwibGlzdC1ncm91cFwiPlxyXG4gICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICBVc2VybmFtZTpcclxuICAgICAgICAgICAgICAgIDxzcGFuPlNjb3JlOjwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICR7bGlzdEl0ZW1zfVxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgPC9kaXY+YDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVHYW1lQ29udGVudCgpIHtcclxuICByZXR1cm4gYFxyXG4gIDxkaXYgY2xhc3M9XCJsZXZlbC1jb250YWluZXJcIj5cclxuICAgIExldmVsOlxyXG4gICAgPHNwYW4gY2xhc3M9XCJsZXZlbFwiPjE8L3NwYW4+XHJcbiAgPC9kaXY+XHJcbiAgPGRpdiBjbGFzcz1cInNjb3JlLWNvbnRhaW5lclwiPlxyXG4gICAgU2NvcmU6XHJcbiAgICA8c3BhbiBjbGFzcz1cInNjb3JlXCI+MDwvc3Bhbj5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwic3BlZWQtY29udGFpbmVyXCI+XHJcbiAgICBTcGVlZDpcclxuICAgIDxzcGFuIGNsYXNzPVwic3BlZWRcIj4wPC9zcGFuPlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJyZXBsYXktY29udGFpbmVyXCI+XHJcbiAgICA8YnV0dG9uIGNsYXNzPVwiYnRuXCI+U2hvdyByZXBsYXk8L2J1dHRvbj5cclxuICA8L2Rpdj5cclxuICA8Y2FudmFzPjwvY2FudmFzPlxyXG4gIGBcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVSdWxlc0NvbnRlbnQoKSB7XHJcbiAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIG1hcmdpbi10b3BcIj5cclxuICAgICAgICAgICAgPGgzPlJ1bGVzOjwvaDM+XHJcbiAgICAgICAgICAgIDxoNT5NZWNoYW5pY3M6PC9oNT5cclxuICAgICAgICAgICAgPHA+VGhlIGdhbWUgaXMgYWJvdXQgb2YgaGVybyBhbmQgaGlzIGVuZW1pZXMuIFVzZXIgY2FuIG1hbmlwdWxhdGUgdGhlIGhlcm9cclxuICAgICAgICAgICAgICAgIHdpdGggYXJyb3cgYnV0dG9ucyA8Y29kZT7wn6CAIPCfoIHwn6CDIPCfoII8L2NvZGU+IHdoZXJlIHB1c2ggb2YgZWFjaCBjaGFuZ2UgaGVybyBkaXJlY3Rpb24gXHJcbiAgICAgICAgICAgICAgICB0byB0aGUgYXJyb3cgZGlyZWN0aW9uLiBBbHNvIHlvdSBjYW4gc3RvcCBoZXJvLCB3aXRoXHJcbiAgICAgICAgICAgICAgICA8Y29kZT5DdHJsPC9jb2RlPiBidXR0b24uIDwvcD4gR2FtZSBmaW5pc2ggd2hlbiBhbnkgb2YgdGhlIGVuZW1pZXMgY2F0Y2hlcyBoZXJvLlxyXG4gICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgIEhlcm8gaGFzIGFiaWxpdHkgdG8gc2hvb3Qgd2l0aCBoaXMgZ3VuIHRvIHRoZSBuZWFyZXN0IGVuZW1pZXMuIFVzZXIgZG8gaXQgd2l0aCB0aGVcclxuICAgICAgICAgICAgICAgIG1vdXNlLCBzaG9vdCBhY3Rpb24gb2NjdXJzIGlmIHVzZXIgcHJlc3NcclxuICAgICAgICAgICAgICAgIDxjb2RlPmxlZnQgYnV0dG9uPC9jb2RlPiBtb3VzZS4gSGVybyBoYXMgc3BlZWQgYWNjZWxlcmF0aW9uIGlmIG1vdmVzIHRvIG9uZSBkaXJlY3Rpb24uIElmXHJcbiAgICAgICAgICAgICAgICBoZSBjaGFuZ2VzIGl0LCBjdXJyZW50IGhlcm8gc3BlZWQgZGlzY2FyZCB0byBtaW5pbXVtLlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDxoNT5FbmVtaWVzOjwvaDU+XHJcbiAgICAgICAgICAgIDxwPlRoZXJlIGFyZSBzZXZlcmFsIGVuZW1pZXM6IGR1bW15IGVuZW1pZXMsIHdobyBtb3ZlIG9ubHkgd2l0aCBzdGFydCBkaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBhbmQgc21hcnQgZW5lbXksIHdobyBiZWdpbiB0byBwdXJzdWUgaWYgc2VlIGhlcm8gYXQgc29tZSByYW5nZS4gU21hcnRcclxuICAgICAgICAgICAgICAgIGVuZW15IGhhcyBhbiBhYmlsaXR5IHRvIGluY3JlYXNlIGhpcyBzaXplLCBzcGVlZCBhbmQgZGVmZW5zZSBieSBlYXRpbmdcclxuICAgICAgICAgICAgICAgIGhpcyB0cmliZXNtZW4uXHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPGg1PkJ1ZmZzOjwvaDU+XHJcbiAgICAgICAgICAgIDxwPkF2ZXJhZ2UgYnVmZiB0aW1lIGlzIDxjb2RlPjIwPC9jb2RlPiBzZWNvbmRzLiBIZXJvIGNhbiBhY3RpdmF0ZSBidWZmIGlmIGNhdGNoZXMgaXQuIFxyXG4gICAgICAgICAgICAgICAgQXQgdGhlIGdhbWUgZXZlcnkgPGNvZGU+ODwvY29kZT4gc2Vjb25kcyBnZW5lcmF0ZXMgbmV3IGJ1ZmYgYW5kIG9uIHRoZSBmaWVsZCBjYW4gYmUgb25seSBvbmUgYnVmZlxyXG4gICAgICAgICAgICAgICAgaXRlbS4gSGVybyBjYW4gc3RhY2sgYnVmZnMgaWYgY2F0Y2hlcyBtb3JlIHRoYW4gb25lLiBUaGVyZSBhcmUgc2V2ZXJhbFxyXG4gICAgICAgICAgICAgICAgYnVmZnMgYXQgdGhlIGdhbWU6PC9wPlxyXG4gICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWcvc3dvcmQucG5nXCI+IC0gaW1wcm92ZSBoZXJvJ3MgZ3VuIHNpemUgYW5kIGRhbWFnZS5cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWcvc2hvZXMucG5nXCI+IC0gaW1wcm92ZSBoZXJvJ3Mgc3BlZWQgYW5kIHdoZW4gdGhlIGJ1ZmYgYWN0aXZhdGVkIGRlY3JlYXNlIHNwZWVkXHJcbiAgICAgICAgICAgICAgICBvZiBhbGwgZW5lbWllcyBhdCBnYW1lIGZpZWxkLlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2ltZy9zaGllbGQucG5nXCI+IC0gbWFrZSBoZXJvIGltbW9ydGFsLiBTbWFydCBlbmVtaWVzIGJlZ2luIHRvIHJ1biBhd2F5IGZyb20gdGhlIGhlcm9cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8aDU+THZsIHVwIGFuZCBzY29yZTo8L2g1PlxyXG4gICAgICAgICAgICA8cD5FdmVyeVxyXG4gICAgICAgICAgICAgICAgPGNvZGU+MTA8L2NvZGU+IHNlY29uZHMgaGVybyByZWFjaCBuZXcgbGV2ZWwuIFdpdGggZWFjaCBuZXcgbGV2ZWwgYXQgZ2FtZSBmaWVsZFxyXG4gICAgICAgICAgICAgICAgY3JlYXRlcyBhIHN0YWNrIG9mIGR1bW15IGVuZW1pZXMuIEFtb3VudCBvZiBjcmVhdHVyZXMgYXQgdGhlIHN0YWNrXHJcbiAgICAgICAgICAgICAgICBpcyBlcXVhbGVudCB0byB0aGUgbmV3IGxldmVsLiBBbHNvIGV2ZXJ5IG5ldyBsZXZlbCB0aGUgc2l6ZSBvZiBjcmVhdHVyZXNcclxuICAgICAgICAgICAgICAgIGFuZCBzcGVlZCBvZiBkdW1teSBlbmVtaWVzIGluY3JlYXNlcy4gU2NvcmUgaXMgZXF1YWxlbnQgdG8gdGhlIHRpbWVcclxuICAgICAgICAgICAgICAgIHRoYXQgaGVybyBwcmVzZW50IGF0IGdhbWUgZmllbGQuXHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPHA+R29vZCBsdWNrIGFuZCBlbmpveSE8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5gXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQXV0aG9yQ29udGVudCgpIHtcclxuICByZXR1cm4gYDxkaXYgY2xhc3M9XCJjb250YWluZXIgbWFyZ2luLXRvcFwiPlxyXG4gICAgICAgICAgICA8aDM+QXV0aG9yIHBhZ2U6PC9oMz5cclxuICAgICAgICAgICAgPHA+SGVsbG8sIG15IG5hbWUgaXMgRXZnZW5peSBhbmQgaSdtIHRoZSBhdXRob3Igb2YgdGhlIGdhbWUuIElmIHlvdSBoYXZlIGFueVxyXG4gICAgICAgICAgICBxdWVzdGlvbnMgeW91IGNhbiBmaW5kIG1lIGhlcmUgPGEgaHJlZj1cImh0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS9pbi9ldmdlbml5LWRhaW5vdmljaC9cIj5MaW5rZW5JbjwvYT5cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8cD5HYW1lIGlzIGRldmVsb3BlZCB3aXRoIGphdmFzY3JpcHQgYW5kIGJvb3RzdHJhcCBmb3Igc3R5bGluZy48L3A+XHJcbiAgICAgICAgICA8L2Rpdj5gXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlczsiLCJcclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ2FudmFzKGN0eCkge1xyXG4gIGN0eC5jbGVhclJlY3QoMCwgMCwgY3R4LmNhbnZhcy5jbGllbnRXaWR0aCwgY3R4LmNhbnZhcy5jbGllbnRIZWlnaHQpO1xyXG59IiwiXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRIZXJvQ29udHJvbHMoaGVybywgY3JlYXRlQnVsbGV0KSB7XHJcbiAgc3Vic3JpYmVUb01vdmUoaGVybyk7XHJcbiAgc3Vic2NyaWJlVG9TaG9vdChjcmVhdGVCdWxsZXQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdWJzY3JpYmVUb1Nob290KGNyZWF0ZUJ1bGxldCkge1xyXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpO1xyXG4gIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgIGNyZWF0ZUJ1bGxldChldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZKTtcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBzdWJzcmliZVRvTW92ZShoZXJvKSB7XHJcbiAgY29uc3QgeyBkaXIgfSA9IGhlcm87XHJcbiAgbGV0IHByZXZpb3VzS2V5Q29kZTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBldmVudCA9PiB7XHJcbiAgICBwcmV2aW91c0tleUNvZGUgPSBjaGFuZ2VTcGVlZElmSGVyb0NoYW5nZWREaXJlY3Rpb24ocHJldmlvdXNLZXlDb2RlLCBldmVudC5rZXlDb2RlLCBoZXJvKTtcclxuICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xyXG4gICAgICBjYXNlIDM4OiB7XHJcbiAgICAgICAgaGVyby51cGRhdGVTcHJpdGVEaXJlY3Rpb24oJ3RvcCcpO1xyXG4gICAgICAgIGRpci55ID0gLTE7XHJcbiAgICAgICAgZGlyLnggPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgMzk6IHtcclxuICAgICAgICBoZXJvLnVwZGF0ZVNwcml0ZURpcmVjdGlvbigncmlnaHQnKTtcclxuICAgICAgICBkaXIueSA9IDA7XHJcbiAgICAgICAgZGlyLnggPSAxO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgNDA6IHtcclxuICAgICAgICBoZXJvLnVwZGF0ZVNwcml0ZURpcmVjdGlvbignYm90dG9tJyk7XHJcbiAgICAgICAgZGlyLnkgPSAxO1xyXG4gICAgICAgIGRpci54ID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIDM3OiB7XHJcbiAgICAgICAgaGVyby51cGRhdGVTcHJpdGVEaXJlY3Rpb24oJ2xlZnQnKTtcclxuICAgICAgICBkaXIueCA9IC0xO1xyXG4gICAgICAgIGRpci55ID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIDE3OiB7XHJcbiAgICAgICAgZGlyLnggPSAwO1xyXG4gICAgICAgIGRpci55ID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VTcGVlZElmSGVyb0NoYW5nZWREaXJlY3Rpb24ocHJldmlvdXNLZXlDb2RlLCBuZXdLZXlDb2RlLCBoZXJvKSB7XHJcbiAgaWYgKHByZXZpb3VzS2V5Q29kZSAhPT0gbmV3S2V5Q29kZSkge1xyXG4gICAgaGVyby5tYWtlSGVyb1NwZWVkUGFyYW1zRGVmYXVsdCgpO1xyXG4gICAgaGVyby5zZXROZXdTcGVlZFRpbWVyKCk7XHJcbiAgICByZXR1cm4gbmV3S2V5Q29kZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHByZXZpb3VzS2V5Q29kZTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4iLCJpbXBvcnQgeyBjdXJyZW50QnVsbGV0IH0gZnJvbSAnLi4vY3JlYXR1cmVzL2J1bGxldCdcclxuaW1wb3J0IHsgYnVmZlBhcmFtcywgYnVsbGV0UGFyYW1zIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcclxuaW1wb3J0IHsgaWZVbml0c1RvdWNoRWFjaE90aGVyIH0gZnJvbSAnLi9nZW9tZXRyeVV0aWxzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRFbmVteURpZUlmQnVsbGV0SGl0c0hpbShlbmVteSwgYnVsbGV0KSB7XHJcbiAgY29uc3QgaXNDb250YWN0ID0gaWZVbml0c1RvdWNoRWFjaE90aGVyKGVuZW15LCBidWxsZXQpXHJcbiAgaWYgKGlzQ29udGFjdCkge1xyXG4gICAgZW5lbXkgPSBkYW1hZ2VVbml0KGVuZW15KVxyXG4gIH1cclxuICBpZiAoaXNDb250YWN0ICYmIChlbmVteS53aWR0aCA8IGJ1bGxldFBhcmFtcy5taW5DcmVhdHVyZVNpemUgfHwgZW5lbXkuaGVpZ2h0IDwgYnVsbGV0UGFyYW1zLm1pbkNyZWF0dXJlU2l6ZSkpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRhbWFnZVVuaXQodW5pdCkge1xyXG4gIGNvbnN0IHsgc3BlZWREZWNyZWFzZSB9ID0gY3VycmVudEJ1bGxldDtcclxuICBjb25zdCBtYXNzID0gdW5pdC53aWR0aCAqIHVuaXQuaGVpZ2h0O1xyXG5cclxuICBjb25zdCBoZXJvRGFtYWdlID0gZ2V0SGVyb0RhbWFnZVRvVW5pdCh1bml0KTtcclxuICBjb25zdCBrID0gKG1hc3MgLSBoZXJvRGFtYWdlKSAvIG1hc3M7XHJcbiAgdW5pdC53aWR0aCAqPSBrO1xyXG4gIHVuaXQuaGVpZ2h0ICo9IGs7XHJcbiAgdW5pdC5zcGVlZCA+IHNwZWVkRGVjcmVhc2UgPyB1bml0LnNwZWVkIC09IHNwZWVkRGVjcmVhc2UgOiAwO1xyXG4gIHJldHVybiB1bml0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRIZXJvRGFtYWdlVG9Vbml0KHVuaXQpIHtcclxuICBjb25zdCB7IGRhbWFnZSB9ID0gY3VycmVudEJ1bGxldDtcclxuICBjb25zdCBkZWZlbnNlID0gdW5pdC5kZWZlbnNlIHx8IDA7XHJcbiAgcmV0dXJuIGRhbWFnZSAtIGRlZmVuc2UgPiAwID8gZGFtYWdlIC0gZGVmZW5zZSA6IGJ1bGxldFBhcmFtcy5taW5EYW1hZ2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRCdWZmSW5kaWNhdG9yKGhlcm8sIGNvbG9yKSB7XHJcbiAgY29uc3QgaWQgPSBEYXRlLm5vdygpO1xyXG4gIGNvbnN0IG5ld0J1ZmYgPSB7XHJcbiAgICBpZDogaWQsXHJcbiAgICB0aW1lOiAwLFxyXG4gICAgdHlwZTogY29sb3IsXHJcbiAgfVxyXG4gIGhlcm8uY3VycmVudEJ1ZmZzLnB1c2gobmV3QnVmZilcclxuICBhZGRCdWZmVGltZXJUb0hlcm8oaGVybywgaWQpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEJ1ZmZUaW1lclRvSGVybyhoZXJvLCBpZCkge1xyXG4gIGNvbnN0IGJ1ZmYgPSBoZXJvLmN1cnJlbnRCdWZmcy5maW5kKGJ1ZmYgPT4gaWQgPT09IGJ1ZmYuaWQpXHJcbiAgYnVmZi50aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgIGJ1ZmYudGltZSArPSAxO1xyXG4gICAgaWYgKGJ1ZmYudGltZSA+PSBidWZmUGFyYW1zLmJ1ZmZUaW1lIC8gMTAwMCkge1xyXG4gICAgICBjbGVhckludGVydmFsKGJ1ZmYudGltZXIpO1xyXG4gICAgICBoZXJvLmN1cnJlbnRCdWZmcy5zaGlmdCgpO1xyXG4gICAgfVxyXG4gIH0sIDEwMDApXHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldENlbnRlckNvb3JkaW5hdGVzKHVuaXQpIHtcclxuICByZXR1cm4gW3VuaXQueCArIDAuNSAqIHVuaXQud2lkdGgsIHVuaXQueSArIDAuNSAqIHVuaXQuaGVpZ2h0XTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlQmV0d2VlblVuaXRzKHVuaXQxLCB1bml0Mikge1xyXG4gIGNvbnN0IFt4MSwgeTFdID0gZ2V0Q2VudGVyQ29vcmRpbmF0ZXModW5pdDEpO1xyXG4gIGNvbnN0IFt4MiwgeTJdID0gZ2V0Q2VudGVyQ29vcmRpbmF0ZXModW5pdDIpO1xyXG4gIHJldHVybiBNYXRoLnBvdyhNYXRoLnBvdyh4MSAtIHgyLCAyKSArIE1hdGgucG93KHkxIC0geTIsIDIpLCAwLjUpO1xyXG59XHJcblxyXG5jb25zdCBQSVhFTF9CT1JERVIgPSAyXHJcbmV4cG9ydCBmdW5jdGlvbiBpZlVuaXRzVG91Y2hFYWNoT3RoZXIodW5pdDEsIHVuaXQyLCBkZWx0YSA9IDApIHtcclxuICBjb25zdCBbeDEsIHkxXSA9IGdldENlbnRlckNvb3JkaW5hdGVzKHVuaXQxKTtcclxuICBjb25zdCBbeDIsIHkyXSA9IGdldENlbnRlckNvb3JkaW5hdGVzKHVuaXQyKTtcclxuICByZXR1cm4gKFxyXG4gICAgTWF0aC5hYnMoeDIgLSB4MSkgPCAodW5pdDEud2lkdGggKyB1bml0Mi53aWR0aCAtIFBJWEVMX0JPUkRFUiAtIGRlbHRhKSAvIDJcclxuICAgICYmIE1hdGguYWJzKHkyIC0geTEpIDwgKHVuaXQxLmhlaWdodCArIHVuaXQyLmhlaWdodCAtIFBJWEVMX0JPUkRFUiAtIGRlbHRhKSAvIDJcclxuICApO1xyXG59XHJcblxyXG5jb25zdCBTQUZFX0RJU1RBTkNFID0gMjAwO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRGlzdGFuY2VCZXR3ZWVuVW5pdHNNb3JlVGhhblNhZmUodW5pdDEsIHVuaXQyLCBkaXN0ID0gU0FGRV9ESVNUQU5DRSkge1xyXG4gIHJldHVybiBnZXREaXN0YW5jZUJldHdlZW5Vbml0cyh1bml0MSwgdW5pdDIpID4gZGlzdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVUb0Fub3RoZXJTaWRlSWZHb0JleW9uY2VDYW52YXMoY3R4LCB1bml0KSB7XHJcbiAgbGV0IHdpZHRoID0gY3R4LmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICBsZXQgaGVpZ2h0ID0gY3R4LmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcblxyXG4gIGlmICh1bml0LnggPiB3aWR0aCkge1xyXG4gICAgdW5pdC54ID0gMDtcclxuICB9IGVsc2UgaWYgKHVuaXQueCA8IDApIHtcclxuICAgIHVuaXQueCA9IHdpZHRoO1xyXG4gIH1cclxuICBpZiAodW5pdC55ID4gaGVpZ2h0KSB7XHJcbiAgICB1bml0LnkgPSAwO1xyXG4gIH0gZWxzZSBpZiAodW5pdC55IDwgMCkge1xyXG4gICAgdW5pdC55ID0gaGVpZ2h0O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRzSW5zaWRlQ2FudmFzKGN0eCwgdW5pdHMpIHtcclxuICBjb25zdCB3aWR0aCA9IGN0eC5jYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgY29uc3QgaGVpZ2h0ID0gY3R4LmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcblxyXG4gIGxldCBpc0luc2lkZUNhbnZhcztcclxuICByZXR1cm4gdW5pdHMuZmlsdGVyKHVuaXQgPT4ge1xyXG4gICAgaXNJbnNpZGVDYW52YXMgPSB1bml0LnggPCB3aWR0aCAmJiB1bml0LnggPiAwICYmIHVuaXQueSA8IGhlaWdodCAmJiB1bml0LnkgPiAwO1xyXG4gICAgaWYgKGlzSW5zaWRlQ2FudmFzKSB7XHJcbiAgICAgIHVuaXQubmV3UG9zKCkudXBkYXRlKGN0eCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaXNJbnNpZGVDYW52YXM7XHJcbiAgfSk7XHJcbn1cclxuIiwiY29uc3QgVVJMID0gJ2h0dHBzOi8vc2hvb3Rlci1nYW1lLTJhMWJlLmZpcmViYXNlaW8uY29tL3N0YXRpc3RpY3MvLmpzb24nO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRSZXN1bHRUb0RhdGFiYXNlKHNjb3JlLCBuYW1lKSB7XHJcbiAgZmV0Y2goVVJMLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc2NvcmUsIG5hbWUgfSlcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NvcmVGcm9tRGF0YWJhc2UoKSB7XHJcbiAgcmV0dXJuIGZldGNoKGAke1VSTH0/b3JkZXJCeT1cXFwic2NvcmVcXFwiJmxpbWl0VG9MYXN0PThgLCB7IG1ldGhvZDogJ0dFVCcgfSlcclxuICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgIC50aGVuKGRhdGEgPT4gZ2V0VG9wOChkYXRhKSlcclxuICAgIC5jYXRjaCgoKSA9PiBjb25zb2xlLmxvZygnc2VydmVyIGVycm9yJykpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3A4KGRhdGEpIHtcclxuICBjb25zdCBhcnJheSA9IE9iamVjdC52YWx1ZXMoZGF0YSk7XHJcbiAgcmV0dXJuIGFycmF5LnNvcnQoKGEsIGIpID0+IGEuc2NvcmUgPCBiLnNjb3JlKTtcclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb3V0ZXIocm91dGVQYXJhbXMpIHtcclxuICB0aGlzLnJvdXRlcyA9IHJvdXRlUGFyYW1zIHx8IFtdO1xyXG4gIHRoaXMuY3VycmVudFJvdXRlO1xyXG4gIHRoaXMucHJldmlvdXNSb3V0ZTtcclxuICB0aGlzLmN1cnJlbnRQYXJhbXM7XHJcbiAgdGhpcy5wcmV2aW91c1BhcmFtcztcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsICgpID0+IHtcclxuICAgIHRoaXMuaGFuZGxlcih3aW5kb3cubG9jYXRpb24uaGFzaCk7XHJcbiAgfSk7XHJcbiAgdGhpcy5oYW5kbGVyKHdpbmRvdy5sb2NhdGlvbi5oYXNoKTtcclxufVxyXG5cclxuUm91dGVyLnByb3RvdHlwZSA9IHtcclxuICBoYW5kbGVyOiBmdW5jdGlvbiAoaGFzaCkge1xyXG4gICAgdGhpcy5wcmV2aW91c1JvdXRlID0gdGhpcy5jdXJyZW50Um91dGU7XHJcbiAgICB0aGlzLnByZXZpb3VzUGFyYW1zID0gdGhpcy5jdXJyZW50UGFyYW1zO1xyXG4gICAgdGhpcy5jdXJyZW50Um91dGUgPSB0aGlzLmZpbmROZXdSb3V0ZShoYXNoKTtcclxuICAgIHRoaXMubGF1bmNoSGFuZGxlcnMoKTtcclxuICB9LFxyXG4gIGZpbmROZXdSb3V0ZTogZnVuY3Rpb24gKGhhc2gpIHtcclxuICAgIGhhc2ggPSBoYXNoLnNsaWNlKDEpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yb3V0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnJvdXRlc1tpXTtcclxuICAgICAgaWYgKHR5cGVvZiBlbGVtZW50Lm1hdGNoID09ICdzdHJpbmcnICYmIGVsZW1lbnQubWF0Y2ggPT09IGhhc2gpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQYXJhbXMgPSAnJztcclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgfVxyXG4gICAgICBpZiAodHlwZW9mIGVsZW1lbnQubWF0Y2ggPT0gJ2Z1bmN0aW9uJyAmJiBlbGVtZW50Lm1hdGNoKGhhc2gpKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFyYW1zID0gJyc7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVsZW1lbnQubWF0Y2ggaW5zdGFuY2VvZiBSZWdFeHAgJiYgZWxlbWVudC5tYXRjaC50ZXN0KGhhc2gpKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFyYW1zID0gaGFzaC5tYXRjaChlbGVtZW50Lm1hdGNoKSB8fCBbXTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQYXJhbXMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBsYXVuY2hIYW5kbGVycygpIHtcclxuICAgIFByb21pc2UucmVzb2x2ZSgpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICB0aGlzLnByZXZpb3VzUm91dGUgJiZcclxuICAgICAgICAgIHRoaXMucHJldmlvdXNSb3V0ZS5vbkxlYXZlICYmXHJcbiAgICAgICAgICB0aGlzLnByZXZpb3VzUm91dGUub25MZWF2ZSh0aGlzLnByZXZpb3VzUGFyYW1zKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFJvdXRlICYmXHJcbiAgICAgICAgICB0aGlzLmN1cnJlbnRSb3V0ZS5vbkJlZm9yZUVudGVyICYmXHJcbiAgICAgICAgICB0aGlzLmN1cnJlbnRSb3V0ZS5vbkJlZm9yZUVudGVyKHRoaXMuY3VycmVudFBhcmFtcyk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRSb3V0ZSAmJlxyXG4gICAgICAgICAgdGhpcy5jdXJyZW50Um91dGUub25FbnRlciAmJlxyXG4gICAgICAgICAgdGhpcy5jdXJyZW50Um91dGUub25FbnRlcih0aGlzLmN1cnJlbnRQYXJhbXMpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn07IiwiaW1wb3J0IHsgaW50ZXJ2YWxzIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcclxuaW1wb3J0IHsgc2VuZFJlc3VsdFRvRGF0YWJhc2UgfSBmcm9tICcuL3JlcXVlc3RVdGlscyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTGV2ZWxMYWJlbChsdmwpIHtcclxuICBjb25zdCBsZXZlbExhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxldmVsJyk7XHJcbiAgbGV2ZWxMYWJlbC5pbm5lckhUTUwgPSBsdmw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93UmVwbGF5QnV0dG9uKCkge1xyXG4gIGNvbnN0IHJlcGxheUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXBsYXktY29udGFpbmVyJyk7XHJcbiAgcmVwbGF5QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVTY29yZUxhYmVsKGN1cnJlbnRUaW1lLCBzdGFydFRpbWUpIHtcclxuICBjdXJyZW50VGltZSArPSBpbnRlcnZhbHMudXBkYXRlR2FtZVN0YXRlO1xyXG4gIGNvbnN0IHZhbHVlID0gKGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lKSAvIDEwO1xyXG4gIGNvbnN0IHNjb3JlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNjb3JlXCIpO1xyXG4gIHNjb3JlTGFiZWwuaW5uZXJIVE1MID0gdmFsdWU7XHJcbiAgcmV0dXJuIGN1cnJlbnRUaW1lICsgaW50ZXJ2YWxzLnVwZGF0ZUdhbWVTdGF0ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dMb3NlTWVzc2FnZSgpIHtcclxuICBjb25zdCBzY29yZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zY29yZVwiKTtcclxuICBjb25zdCBzY29yZSA9IHNjb3JlTGFiZWwuaW5uZXJUZXh0O1xyXG4gIGNvbnN0IG5hbWUgPSBwcm9tcHQoXCJTb3JyeSwgYnV0IHlvdSBsb3NlLCB5b3VyIHNjb3JlIGlzIFwiICsgc2NvcmUsICdVc2VyJyk7XHJcbiAgc2VuZFJlc3VsdFRvRGF0YWJhc2UoK3Njb3JlLCBuYW1lIHx8ICdVc2VyJyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmVUb1Nob3dSZXBsYXkoY2IpIHtcclxuICBjb25zdCByZXBsYXlCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVwbGF5LWNvbnRhaW5lcicpO1xyXG4gIHJlcGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNiLCB7IG9uY2U6IHRydWUgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoaWRlUmVwbGF5QnV0dG9uKCkge1xyXG4gIGNvbnN0IHJlcGxheUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXBsYXktY29udGFpbmVyJyk7XHJcbiAgcmVwbGF5QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxufSJdfQ==
