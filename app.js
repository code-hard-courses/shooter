!function o(s,a,u){function c(t,e){if(!a[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[t]={exports:{}};s[t][0].call(i.exports,function(e){return c(s[t][1][e]||e)},i,i.exports,o,s,a,u)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.HERO_PARAMS={height:50,width:30,posX:50,posY:50,spriteLayer:{top:3,left:1,right:2,bottom:0}},n.BUFF_PARAMS={buffTime:2e4,speedGrowth:1.6},n.BULLET_PARAMS={speed:10,color:"red",colorSecond:"yellow",size:5,damage:35,speedDecrease:.1,growAfterBuff:2,minDamage:10,minCreatureSize:30},n.SMART_ENEMY_PARAMS={speed:.6,size:25,message:{x:10,y:5,font:"13px Arial"},spriteLayer:{top:3,left:1,right:2,bottom:0},defenseIncrease:3,speedIncrease:.1,maxSize:100,fearDistance:300,visibilityDistance:200},n.DUMMY_ENEMY_PARAMS={speed:.8,size:25,spriteLayer:{top:3,left:1,right:2,bottom:0}},n.INTERVALS={updateGameState:20,updateSprites:200,addSmartEnemy:3e3,addDummyEnemy:4e4,addBuffItem:8e3,lvlUp:13e3},n.LVL_BUFFS={speedIncrease:.25,sizeIncrease:2}},{}],2:[function(e,t,n){"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Bullet=n.currentBullet=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.growBullet=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.BULLET_PARAMS.growAfterBuff;d.size*=e,d.damage*=e,d.speedDecrease*=e},n.shrinkBullet=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.BULLET_PARAMS.growAfterBuff;d.size/=e,d.damage/=e,d.speedDecrease/=e},n.makeBulletDefault=function(){d.size=f.BULLET_PARAMS.size,d.damage=f.BULLET_PARAMS.damage,d.speedDecrease=f.BULLET_PARAMS.speedDecrease};var i=e("./unit"),f=e("../constants");var d=n.currentBullet={size:f.BULLET_PARAMS.size,damage:f.BULLET_PARAMS.damage,speedDecrease:f.BULLET_PARAMS.speedDecrease};n.Bullet=function(e){function l(e,t,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:d.size,s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:d.size,a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:f.BULLET_PARAMS.speed,u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:f.BULLET_PARAMS.color;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":h(t))&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e,o,s,t-d.size/2,n-d.size/2,r,i,a));return c.color=u,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":h(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,i.Unit),r(l,[{key:"newPos",value:function(){return this.x+=this.speed*this.dir.x,this.y+=this.speed*this.dir.y,this}},{key:"update",value:function(e){return e.beginPath(),e.fillStyle=this.color,e.arc(this.x,this.y,this.width,0,2*Math.PI,!0),e.fill(),e.beginPath(),e.fillStyle=f.BULLET_PARAMS.colorSecond,e.arc(this.x+2,this.y+2,this.width/2,0,2*Math.PI,!0),e.fill(),this}}]),l}()},{"../constants":1,"./unit":6}],3:[function(e,t,n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.DummyEnemy=n.BASE_DUMMY_SIZE=n.SPEED=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./unit"),o=e("../constants");var h=n.SPEED=o.DUMMY_ENEMY_PARAMS.speed;n.BASE_DUMMY_SIZE=o.DUMMY_ENEMY_PARAMS.size,n.DummyEnemy=function(e){function c(e,t,n,r,i,o,s){var a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:h;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,n,r,i,o,s,a));return u.sprite={baseX:1,baseY:0,x:0,y:50*u.getSpriteLayerValue(u.dir.x,u.dir.y),width:34,height:48,deltaX:50,deltaY:50},u.image=document.querySelector(".ice-demon"),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Unit),r(c,[{key:"setNextSprite",value:function(){this.sprite.x<100?this.sprite.x+=this.sprite.deltaX:this.sprite.x=this.sprite.baseX}},{key:"update",value:function(e){var t=this.sprite,n=this.x,r=this.y,i=this.width,o=this.height,s=this.image;return e.drawImage(s,t.x,t.y,t.width,t.height,n,r,i,o),this}},{key:"getSpriteLayerValue",value:function(e,t){var n=o.DUMMY_ENEMY_PARAMS.spriteLayer;return Math.abs(e)>Math.abs(t)?0<e?n.right:n.left:0<t?n.bottom:n.top}}]),c}()},{"../constants":1,"./unit":6}],4:[function(e,t,n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Hero=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.increaseHeroVelocityByBuff=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h.BUFF_PARAMS.speedGrowth;f.speed*=e,f.acceleration*=e,f.maxAccelerationTime*=e},n.decreaseHeroVelocityByDebuff=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h.BUFF_PARAMS.speedGrowth;f.speed/=e,f.acceleration/=e,f.maxAccelerationTime/=e};var i=e("./unit"),h=e("../constants");var f={speed:1,acceleration:5e-4,maxAccelerationTime:3e3};n.Hero=function(e){function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h.HERO_PARAMS.width,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:h.HERO_PARAMS.height,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:h.HERO_PARAMS.posX,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:h.HERO_PARAMS.posY,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1,a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:f.speed;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,n,r,i,o,s,a));return u.isImmortal=!1,u.accelerationStartTime=0,u.currentAccelerationTimer="",u.currentBuffs=[],u.sprite={baseX:2,baseY:1,x:2,y:1,width:27,height:32,deltaX:32,deltaY:32},u.image=document.querySelector(".hero-sprite"),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Unit),r(c,[{key:"setNextSprite",value:function(){this.sprite.x<64?this.sprite.x+=this.sprite.deltaX:this.sprite.x=this.sprite.baseX}},{key:"update",value:function(e){var t=this.sprite,n=this.x,r=this.y,i=this.width,o=this.height,s=this.image;return document.querySelector(".speed").innerHTML=~~(100*this.speed)/100,e.drawImage(s,t.x,t.y,t.width,t.height,n,r,i,o),this}},{key:"updateSpriteDirection",value:function(e){this.sprite.y=this.sprite.baseY+h.HERO_PARAMS.spriteLayer[e]*this.sprite.deltaY}},{key:"makeHeroSpeedParamsDefault",value:function(){this.currentAccelerationTimer&&clearInterval(this.currentAccelerationTimer),this.speed=f.speed,this.accelerationStartTime=0}},{key:"setNewSpeedTimer",value:function(){var e=this,t=this.speed;this.accelerationStartTime=0,this.currentAccelerationTimer=setInterval(function(){e.accelerationStartTime+=50,e.speed=t+f.acceleration*e.accelerationStartTime,e.accelerationStartTime>=f.maxAccelerationTime&&clearInterval(e.currentAccelerationTimer)},50)}},{key:"drawBuffs",value:function(n){var r=this,i=h.BUFF_PARAMS.buffTime/1e3;return this.currentBuffs.forEach(function(e,t){n.fillStyle=e.type,n.fillRect(r.x,r.y-10-10*t,r.width*(i-e.time)/i,7)}),this}}]),c}()},{"../constants":1,"./unit":6}],5:[function(e,t,n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.SmartEnemy=n.BASE_SMART_SIZE=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./unit"),u=e("../utils/geometryUtils"),h=e("../constants");n.BASE_SMART_SIZE=h.SMART_ENEMY_PARAMS.size,n.SmartEnemy=function(e){function c(e,t,n,r,i,o,s){var a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:h.SMART_ENEMY_PARAMS.speed;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,n,r,i,o,s,a));return u.sprite={baseX:6,baseY:3,x:6,y:48*u.getSpriteLayerValue(u.dir.x,u.dir.y)+3,width:34,height:47,deltaX:48,deltaY:48},u.image=document.querySelector(".mashroom"),u.defense=0,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Unit),r(c,[{key:"setNextSprite",value:function(){this.sprite.x<96?this.sprite.x+=this.sprite.deltaX:this.sprite.x=this.sprite.baseX}},{key:"newPos",value:function(e){return this.sprite.y=48*this.getSpriteLayerValue(this.dir.x,this.dir.y)+this.sprite.baseY,this.updateDirection(e),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0}(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"newPos",this).call(this),this}},{key:"update",value:function(e){var t=this.sprite,n=this.x,r=this.y,i=this.width,o=this.height,s=this.image;return e.drawImage(s,t.x,t.y,t.width,t.height,n,r,i,o),this}},{key:"getSpriteLayerValue",value:function(e,t){var n=h.SMART_ENEMY_PARAMS.spriteLayer;return Math.abs(e)>Math.abs(t)?0<e?n.right:n.left:0<t?n.bottom:n.top}},{key:"showWarningMessage",value:function(e){var t=h.SMART_ENEMY_PARAMS.message;this.ctx.font=t.font,this.ctx.strokeText(e,this.x+t.x,this.y-t.y)}},{key:"updateDirection",value:function(e){var t=e.isImmortal?{distance:h.SMART_ENEMY_PARAMS.fearDistance,isFear:1,message:"You don't catch me!"}:{distance:h.SMART_ENEMY_PARAMS.visibilityDistance,isFear:-1,message:"I see you!"};if(!(0,u.isDistanceBetweenUnitsMoreThanSafe)(e,this,t.distance)){var n=(0,u.getCenterCoordinates)(e),r=a(n,2),i=r[0],o=r[1],s=Math.atan2(i-this.x-this.width/2,o-this.y-this.height/2)+Math.PI;this.dir.y=t.isFear*Math.cos(s),this.dir.x=t.isFear*Math.sin(s),this.showWarningMessage(t.message)}}},{key:"eat",value:function(e){var t=h.SMART_ENEMY_PARAMS.defenseIncrease,n=h.SMART_ENEMY_PARAMS.speedIncrease,r=h.SMART_ENEMY_PARAMS.speed,i=this.width*this.height,o=e.width*e.height,s=Math.pow((i+o)/i,.5);this.width*=s,this.height*=s,this.defense=Math.max(this.defense,e.defense)+t;var a=Math.max(this.speed,e.speed);this.speed=r<a?a+=n:r,this.x=(this.x*i+e.x*o)/(i+o),this.y=(this.y*i+e.y*o)/(i+o)}}]),c}()},{"../constants":1,"../utils/geometryUtils":20,"./unit":6}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Unit=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("../utils/geometryUtils");n.Unit=function(){function u(e,t,n,r,i,o,s,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.ctx=e,this.width=t,this.height=n,this.speed=a,this.x=r,this.y=i,this.dir={x:o,y:s}}return r(u,[{key:"newPos",value:function(){return this.x+=this.speed*this.dir.x,this.y+=this.speed*this.dir.y,(0,i.moveToAnotherSideIfGoBeyonceCanvas)(this.ctx,this),this}}]),u}()},{"../utils/geometryUtils":20}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Game=void 0;var u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./main"),o=e("./replay"),s=e("./utils/effectsUtils"),a=e("./utils/controlsUtils"),c=e("./utils/canvasUtils"),h=e("./utils/geometryUtils"),l=e("./utils/userUtils"),y=e("./creatures/dummyEnemy"),f=e("./creatures/smartEnemy"),d=e("./creatures/bullet"),m=e("./creatures/hero"),p=e("./items/buffs/buffGenerator"),v=e("./items/landscape"),b=e("./constants");function g(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n.Game=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.canvas.width=700,this.canvas.height=700,this.ctx=this.canvas.getContext("2d"),this.startTime=Date.now(),this.currentTime=Date.now(),this.hero=new m.Hero(this.ctx),this.landscape=new v.Landscape(this.ctx,96,72),this.dummyEnemies=[],this.smartEnemies=[],this.heroBullets=[],this.timers=[],this.lvl=1,this.buffItem="",this.replay={landscape:this.landscape,units:[]},this.drawLandscape(),this.handleHeroPosition()}return r(t,[{key:"start",value:function(){var n=this,e=setInterval(function(){return n.updateGameState()},b.INTERVALS.updateGameState),t=setInterval(function(){return n.updateSprites()},b.INTERVALS.updateSprites),r=setInterval(function(){return n.addEnemy(n.smartEnemies,f.SmartEnemy,f.BASE_SMART_SIZE)},b.INTERVALS.addSmartEnemy),i=setInterval(function(){return n.addEnemy(n.dummyEnemies,y.DummyEnemy,y.BASE_DUMMY_SIZE)},b.INTERVALS.addDummyEnemy),o=setInterval(function(){return n.addBuffItem()},b.INTERVALS.addBuffItem),s=setInterval(function(){return n.lvlUp()},b.INTERVALS.lvlUp);this.timers.push(e,t,r,i,o,s),(0,a.addHeroControls)(this.hero,function(e,t){return n.addBullet(e,t)})}},{key:"updateGameState",value:function(){this.updateCanvasState(),this.currentTime=(0,l.updateScoreLabel)(this.currentTime,this.startTime),(0,o.addSnapshotToReplay)(this.replay.units,this.currentTime-this.startTime,this.hero,this.dummyEnemies,this.smartEnemies,this.heroBullets,this.buffItem,this.lvl)}},{key:"updateSprites",value:function(){[this.hero].concat(g(this.dummyEnemies),g(this.smartEnemies)).forEach(function(e){return e.setNextSprite()})}},{key:"updateCanvasState",value:function(){(0,c.clearCanvas)(this.ctx),this.drawLandscape(),this.handleHeroDeath(),this.handleHeroPosition(),this.handleBuffItemPosition(),this.heroBullets=(0,h.getElementsInsideCanvas)(this.ctx,this.heroBullets),this.handleDummyEnemiesPosition(),this.handleSmartEnemiesPosition(),this.handleEnemiesDeath(),this.handleBuffs()}},{key:"drawLandscape",value:function(){this.landscape.draw(this.ctx)}},{key:"handleHeroPosition",value:function(){this.hero.newPos().update(this.ctx).drawBuffs(this.ctx)}},{key:"handleBuffItemPosition",value:function(){this.buffItem&&this.buffItem.draw(this.ctx)}},{key:"handleDummyEnemiesPosition",value:function(){var t=this;this.dummyEnemies.forEach(function(e){return e.newPos().update(t.ctx)})}},{key:"handleSmartEnemiesPosition",value:function(){var r=this;this.smartEnemies=this.smartEnemies.reduce(function(e,t){if(e.some(function(e){return(0,h.ifUnitsTouchEachOther)(e,t)}))return e;var n=r.smartEnemies.find(function(e){return(0,h.ifUnitsTouchEachOther)(e,t)&&e!==t});return n&&t.eat(n),e.push(t),e},[]),this.smartEnemies.forEach(function(e){return e.newPos(r.hero).update(r.ctx)})}},{key:"handleEnemiesDeath",value:function(){var e=this,n=[],r=[],i=[],o=[].concat(g(this.smartEnemies),g(this.dummyEnemies));this.smartEnemies.forEach(function(t){e.heroBullets.some(function(e){return(0,s.shouldEnemyDieIfBulletHitsHim)(t,e)})||n.push(t)}),this.dummyEnemies.forEach(function(t){e.heroBullets.some(function(e){return(0,s.shouldEnemyDieIfBulletHitsHim)(t,e)})||r.push(t)}),this.heroBullets.forEach(function(t){o.some(function(e){return(0,s.shouldEnemyDieIfBulletHitsHim)(e,t)})||i.push(t)}),this.smartEnemies=n,this.dummyEnemies=r,this.heroBullets=i}},{key:"handleHeroDeath",value:function(){var t=this;this.hero.isImmortal||[].concat(g(this.dummyEnemies),g(this.smartEnemies)).some(function(e){return(0,h.ifUnitsTouchEachOther)(t.hero,e,10)})&&this.finishGame()}},{key:"finishGame",value:function(){var e=this;this.stopGameAndClearState(),(0,l.showReplayButton)(),(0,l.showLoseMessage)(),(0,l.subscribeToShowReplay)(function(){return(0,o.showReplay)(e.replay,e.ctx)}),document.addEventListener("keydown",i.initializeGame,{once:!0})}},{key:"stopGameAndClearState",value:function(){this.timers.map(function(e){return clearInterval(e)}),this.hero.currentBuffs.map(function(e){return clearInterval(e.timer)}),(0,d.makeBulletDefault)()}},{key:"handleBuffs",value:function(){(0,h.ifUnitsTouchEachOther)(this.hero,this.buffItem)&&(this.buffItem.activateBuff(this),this.buffItem="")}},{key:"lvlUp",value:function(){this.addEnemyStack(this.dummyEnemies,y.DummyEnemy,y.BASE_DUMMY_SIZE),this.lvl++,(0,l.updateLevelLabel)(this.lvl)}},{key:"addEnemy",value:function(e,t,n){var r=this.generateRandomPositionAndDirection(this.hero,n),i=r.size,o=r.x,s=r.y,a=r.alfaX,u=r.alfaY,c=new t(this.ctx,.8*i,i,o,s,a,u,y.SPEED+b.LVL_BUFFS.speedIncrease*this.lvl);e.push(c)}},{key:"addEnemyStack",value:function(e,t,n){var r=this.generateRandomPositionAndDirection(this.hero,n),i=r.size,o=r.x,s=r.y,a=r.alfaX,u=r.alfaY,c=new t(this.ctx,.8*i,i,o,s,a,u,y.SPEED+b.LVL_BUFFS.speedIncrease*this.lvl);e.push(c);for(var l=0;l<this.lvl;l++){var h=this.generateRandomPositionAndDirection(c,n,!0,100),f=h.size,d=h.x,m=h.y,p=new t(this.ctx,.8*f,f,d,m,a,u,y.SPEED+b.LVL_BUFFS.speedIncrease*this.lvl);e.push(p)}}},{key:"addBullet",value:function(e,t){var n=(0,h.getCenterCoordinates)(this.hero),r=u(n,2),i=r[0],o=r[1],s=Math.atan2(i-e,o-t)+Math.PI,a=new d.Bullet(this.ctx,i,o,Math.sin(s),Math.cos(s));this.heroBullets.push(a)}},{key:"addBuffItem",value:function(){var e=this.generateRandomPositionAndDirection(this.hero,0),t=e.x,n=e.y,r=new p.RandomBuff(this.ctx,20,20,t,n);this.buffItem=r}},{key:"generateRandomPositionAndDirection",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:200,i=void 0,o=void 0,s=void 0,a=20*Math.random()+t+this.lvl*b.LVL_BUFFS.sizeIncrease,u=2*Math.random()-1,c=2*Math.random()-1;do{var l={x:i=Math.random()*this.ctx.canvas.clientWidth,y:o=Math.random()*this.ctx.canvas.clientHeight,width:a,height:a};s=(0,h.isDistanceBetweenUnitsMoreThanSafe)(e,l,r)}while(n?s:!s);return{x:i,y:o,alfaX:u,alfaY:c,size:a}}}]),t}()},{"./constants":1,"./creatures/bullet":2,"./creatures/dummyEnemy":3,"./creatures/hero":4,"./creatures/smartEnemy":5,"./items/buffs/buffGenerator":8,"./items/landscape":13,"./main":14,"./replay":15,"./utils/canvasUtils":17,"./utils/controlsUtils":18,"./utils/effectsUtils":19,"./utils/geometryUtils":20,"./utils/userUtils":23}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.buffTypes=void 0,n.RandomBuff=function(e,t,n,r,i){var o=s[~~(3*Math.random())];return new o.constructor(e,t,n,r,i,o.selector)};var r=e("./sword"),i=e("./shield"),o=e("./shoes"),s=n.buffTypes=[{selector:".sword",constructor:r.Sword,color:"red"},{selector:".shield",constructor:i.Shield,color:"black"},{selector:".shoes",constructor:o.Shoes,color:"blue"}]},{"./shield":10,"./shoes":11,"./sword":12}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.Item=function(){function s(e,t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.ctx=e,this.width=t,this.height=n,this.x=r,this.y=i,this.sprite={x:0,y:0,width:16,height:16},this.image=document.querySelector(o)}return r(s,[{key:"draw",value:function(e){var t=this.image,n=this.sprite,r=this.x,i=this.y,o=this.width,s=this.height;return e.drawImage(t,n.x,n.y,n.width,n.height,r,i,o,s),this}}]),s}()},{}],10:[function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Shield=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./item"),o=e("../../utils/effectsUtils"),u=e("./buffGenerator");n.Shield=function(e){function s(e,t,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.Item),r(s,[{key:"activateBuff",value:function(e){(0,o.addBuffIndicator)(e.hero,u.buffTypes[1].color),e.hero.isImmortal=!0}}]),s}()},{"../../utils/effectsUtils":19,"./buffGenerator":8,"./item":9}],11:[function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Shoes=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./item"),o=e("../../creatures/hero"),u=e("../../utils/effectsUtils"),c=e("./buffGenerator"),l=e("../../constants");function h(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n.Shoes=function(e){function s(e,t,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.Item),r(s,[{key:"activateBuff",value:function(e){(0,u.addBuffIndicator)(e.hero,c.buffTypes[2].color),(0,o.increaseHeroVelocityByBuff)();var t=[].concat(h(e.smartEnemies),h(e.dummyEnemies));t.forEach(function(e){return e.speed/=5});var n=setTimeout(function(){(0,o.decreaseHeroVelocityByDebuff)(),t.forEach(function(e){return e.speed*=5})},l.BUFF_PARAMS.buffTime);e.timers.push(n)}}]),s}()},{"../../constants":1,"../../creatures/hero":4,"../../utils/effectsUtils":19,"./buffGenerator":8,"./item":9}],12:[function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Sword=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./item"),o=e("../../creatures/bullet"),u=e("../../utils/effectsUtils"),c=e("./buffGenerator"),l=e("../../constants");n.Sword=function(e){function s(e,t,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.Item),r(s,[{key:"activateBuff",value:function(e){(0,u.addBuffIndicator)(e.hero,c.buffTypes[0].color),(0,o.growBullet)();var t=setTimeout(function(){return(0,o.shrinkBullet)()},l.BUFF_PARAMS.buffTime);e.timers.push(t)}}]),s}()},{"../../constants":1,"../../creatures/bullet":2,"../../utils/effectsUtils":19,"./buffGenerator":8,"./item":9}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.Landscape=function(){function r(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.ctx=e,this.width=t,this.height=n,this.canvasWidth=e.canvas.clientWidth,this.canvasHeight=e.canvas.clientWidth,this.sprite={x:0,y:0,width:96,height:72},this.image=document.querySelector(".landscape")}return i(r,[{key:"draw",value:function(e){for(var t=this.image,n=this.sprite,r=this.canvasWidth,i=this.canvasHeight,o=this.width,s=this.height,a=0;a<r;a+=o)for(var u=0;u<i;u+=s)e.drawImage(t,n.x,n.y,n.width,n.height,a,u,o,s);return this}}]),r}()},{}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.game=void 0,n.initializeGame=function(){var e=document.querySelector("canvas");(0,i.hideReplayButton)(),n.game=u=new r.Game(e),document.querySelector(".speed").innerHTML=0,document.querySelector(".score").innerHTML=0,document.addEventListener("keydown",c,{once:!0})},n.startGame=c;var r=e("./game"),i=e("./utils/userUtils"),o=a(e("./utils/router")),s=a(e("./routes"));function a(e){return e&&e.__esModule?e:{default:e}}var u=n.game=void 0;function c(){u.start()}new o.default(s.default)},{"./game":7,"./routes":16,"./utils/router":22,"./utils/userUtils":23}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.addSnapshotToReplay=function(e,t,n,r,i,o,s,a){e.push((u=t,c=n,l=r,h=i,f=o,d=s,m=a,{time:u,hero:{unit:c,posX:~~c.x,posY:~~c.y,spriteX:c.sprite.x,spriteY:c.sprite.y,speed:c.speed},dummyEnemies:p(l),smartEnemies:p(h),heroBullets:p(f),buffItem:d,lvl:m}));var u,c,l,h,f,d,m},n.showReplay=function(u,c){document.removeEventListener("keydown",h.initializeGame);var l=0;u.spriteTimer=setInterval(function(){var e,t,n,r,i;e=u.units[l],t=e.hero,n=e.dummyEnemies,r=e.smartEnemies,i=e.lvl,document.querySelector(".speed").innerHTML=~~(100*t.speed)/100,[t].concat(o(n),o(r)).forEach(function(e){return e.unit.setNextSprite()}),(0,f.updateLevelLabel)(i)},r.INTERVALS.updateSprites),u.positionTimer=setInterval(function(){var e,t,n,r,i,o,s,a;e=c,t=u.units[l],n=u.landscape,r=t.hero,i=t.dummyEnemies,o=t.smartEnemies,s=t.heroBullets,a=t.buffItem,(0,d.clearCanvas)(e),n.draw(e),y(r),r.unit.sprite.x=r.spriteX,r.unit.sprite.y=r.spriteY,r.unit.speed=r.speed,r.unit.newPos().update(e),m(e,i),m(e,o,r.unit),m(e,s),a&&a.draw(e),++l===u.units.length-1&&(clearInterval(u.spriteTimer),clearInterval(u.positionTimer),(0,f.hideReplayButton)(),(0,h.initializeGame)())},r.INTERVALS.updateGameState)};var h=e("./main"),f=e("./utils/userUtils"),d=e("./utils/canvasUtils"),r=e("./constants");function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e){return e.map(function(e){return{unit:e,posX:~~e.x,posY:~~e.y,width:~~e.width,height:~~e.height}})}function m(t,e,n){e.forEach(function(e){y(e),e.unit.width=e.width,e.unit.height=e.height,e.unit.newPos(n).update(t)})}function y(e){e.unit.x=e.posX,e.unit.y=e.posY}},{"./constants":1,"./main":14,"./utils/canvasUtils":17,"./utils/userUtils":23}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./main"),r=e("./utils/requestUtils"),s=document.querySelector(".sprite-wrapper"),a=document.querySelector(".game-container"),u=[{src:"./img/hero.png",className:"hero-sprite"},{src:"./img/sword.png",className:"sword"},{src:"./img/shoes.png",className:"shoes"},{src:"./img/shield.png",className:"shield"},{src:"./img/landscape.png",className:"landscape"},{src:"./img/ice-demon.png",className:"ice-demon"},{src:"./img/mashroom.png",className:"mashroom"}],i=void 0,c=[{match:"",onEnter:function(){window.location.hash="game"}},{match:"game",onEnter:function(){var n,r,i;a.classList.add("arena"),l("game"),a.innerHTML='\n  <div class="level-container">\n    Level:\n    <span class="level">1</span>\n  </div>\n  <div class="score-container">\n    Score:\n    <span class="score">0</span>\n  </div>\n  <div class="speed-container">\n    Speed:\n    <span class="speed">0</span>\n  </div>\n  <div class="replay-container">\n    <button class="btn">Show replay</button>\n  </div>\n  <canvas></canvas>\n  ',s.innerHTML?(0,o.initializeGame)():(n=s,r=o.initializeGame,i=0,u.forEach(function(e){var t=new Image;t.className=e.className,t.src=e.src,t.onload=function(){++i===u.length&&r()},n.appendChild(t)}))},onLeave:function(){a.classList.remove("arena"),o.game.stopGameAndClearState(),clearInterval(o.game.replay.spriteTimer),clearInterval(o.game.replay.positionTimer),document.removeEventListener("keydown",o.initializeGame),document.removeEventListener("keydown",o.startGame),h("game")}},{match:"scores",onEnter:function(){l("scores"),a.innerHTML='<div class="arena"><div class="lds-ripple"><div></div><div></div></div></div>',i=setTimeout(function(){return(0,r.getScoreFromDatabase)().then(function(e){return a.innerHTML='<div class="container margin-top">\n            <h4>Best scores:</h4>\n            <ul class="list-group">\n              <li class="list-group-item d-flex justify-content-between align-items-center">\n                Username:\n                <span>Score:</span>\n              </li>\n              '+e.map(function(e,t){return'<li class="list-group-item d-flex justify-content-between align-items-center">\n      '+(t+1)+") "+e.name+'\n      <span class="badge badge-primary badge-pill">'+e.score+"</span>\n    </li>"}).join("")+"\n            </ul>\n          </div>"})},1e3)},onLeave:function(){clearInterval(i),h("scores")}},{match:"rules",onEnter:function(){l("rules"),a.innerHTML='<div class="container margin-top">\n            <h3>Rules:</h3>\n            <h5>Mechanics:</h5>\n            <p>The game is about of hero and his enemies. User can manipulate the hero\n                with arrow buttons <code>🠀 🠁🠃 🠂</code> where push of each change hero direction \n                to the arrow direction. Also you can stop hero, with\n                <code>Ctrl</code> button. </p> Game finish when any of the enemies catches hero.\n            <p>Hero has ability to shoot with his gun to the nearest enemies. User do it with the\n                mouse, shoot action occurs if user press\n                <code>left button</code> mouse. Hero has speed acceleration if moves to one direction. If\n                he changes it, current hero speed discard to minimum.\n            </p>\n            <h5>Enemies:</h5>\n            <p>There are several enemies: dummy enemies, who move only with start direction,\n                and smart enemy, who begin to pursue if see hero at some range. Smart\n                enemy has an ability to increase his size, speed and defense by eating\n                his tribesmen.\n            </p>\n            <h5>Buffs:</h5>\n            <p>Average buff time is <code>20</code> seconds. Hero can activate buff if catches it. \n                At the game every <code>8</code> seconds generates new buff and on the field can be only one buff\n                item. Hero can stack buffs if catches more than one. There are several buffs at the game:</p>\n            <p>\n                <img src="./img/sword.png"> - improve hero\'s gun size and damage. <span class="red">Red</span> line indicator \n                appears when hero take this buff.\n            </p>\n            <p>\n                <img src="./img/shoes.png"> - improve hero\'s speed and when the buff activated decrease speed\n                of all enemies at game field. <span class="blue">Blue</span> line indicator appears when hero take this buff.\n            </p>\n            <p>\n                <img src="./img/shield.png"> - make hero immortal. Smart enemies begin to run away from the hero.\n                <span class="black">Black</span> line indicator appears when hero take this buff.\n            </p>\n            <h5>Lvl up and score:</h5>\n            <p>Every <code>10</code> seconds hero reach new level. With each new level at game field\n                creates a stack of dummy enemies. Amount of creatures at the stack\n                is equalent to the new level. Also every new level the size of creatures\n                and speed of dummy enemies increases. Score is equalent to the time\n                that hero present at game field.\n            </p>\n            <p>Good luck and enjoy!</p>\n          </div>'},onLeave:function(){h("rules")}},{match:"author",onEnter:function(){l("author"),a.innerHTML='<div class="container margin-top">\n            <h3>Author page:</h3>\n            <p>Hello, my name is Evgeniy and i\'m the author of the game. If you have any\n            questions you can find me here <a href="https://www.linkedin.com/in/evgeniy-dainovich/">LinkenIn</a>\n            </p>\n            <p>Game is developed with Javascript and Bootstrap for styling.</p>\n          </div>'},onLeave:function(){h("author")}}];function l(e){document.querySelector('[href="#'+e+'"]').classList.add("active")}function h(e){document.querySelector('[href="#'+e+'"]').classList.remove("active")}n.default=c},{"./main":14,"./utils/requestUtils":21}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.clearCanvas=function(e){e.clearRect(0,0,e.canvas.clientWidth,e.canvas.clientHeight)}},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.addHeroControls=function(e,t){i=e,o=i.dir,s=void 0,document.addEventListener("keydown",function(e){var t,n,r;switch(t=s,n=e.keyCode,r=i,s=t!==n?(r.makeHeroSpeedParamsDefault(),17!==n&&r.setNewSpeedTimer(),n):t,e.keyCode){case 38:i.updateSpriteDirection("top"),o.y=-1,o.x=0;break;case 39:i.updateSpriteDirection("right"),o.y=0,o.x=1;break;case 40:i.updateSpriteDirection("bottom"),o.y=1,o.x=0;break;case 37:i.updateSpriteDirection("left"),o.x=-1,o.y=0;break;case 17:i.speed=0,o.x=0,o.y=0}}),n=t,document.querySelector("canvas").addEventListener("click",function(e){n(e.offsetX,e.offsetY)});var n;var i,o,s}},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shouldEnemyDieIfBulletHitsHim=function(e,t){var n=(0,d.ifUnitsTouchEachOther)(e,t);n&&(r=e,i=h.currentBullet.speedDecrease,o=r.width*r.height,u=r,c=h.currentBullet.damage,l=u.defense||0,s=0<c-l?c-l:f.BULLET_PARAMS.minDamage,a=(o-s)/o,r.width*=a,r.height*=a,r.speed>i&&(r.speed-=i),e=r);var r,i,o,s,a,u,c,l;return!(!n||!(e.width<f.BULLET_PARAMS.minCreatureSize||e.height<f.BULLET_PARAMS.minCreatureSize))},n.addBuffIndicator=function(e,t){var n=Date.now(),r={id:n,time:0,type:t};e.currentBuffs.push(r),i=e,o=n,s=i.currentBuffs.find(function(e){return o===e.id}),s.timer=setInterval(function(){if(s.time+=1,s.time>=f.BUFF_PARAMS.buffTime/1e3){clearInterval(s.timer),i.currentBuffs.shift();var e=i.currentBuffs.some(function(e){return e.type===a.buffTypes[1].color});i.isImmortal=e}},1e3);var i,o,s};var h=e("../creatures/bullet"),f=e("../constants"),d=e("./geometryUtils"),a=e("../items/buffs/buffGenerator")},{"../constants":1,"../creatures/bullet":2,"../items/buffs/buffGenerator":8,"./geometryUtils":20}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var h=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function f(e){return[e.x+.5*e.width,e.y+.5*e.height]}function r(e,t){var n=f(e),r=h(n,2),i=r[0],o=r[1],s=f(t),a=h(s,2),u=a[0],c=a[1];return Math.pow(Math.pow(i-u,2)+Math.pow(o-c,2),.5)}n.getCenterCoordinates=f,n.getDistanceBetweenUnits=r,n.ifUnitsTouchEachOther=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=f(e),i=h(r,2),o=i[0],s=i[1],a=f(t),u=h(a,2),c=u[0],l=u[1];return Math.abs(c-o)<(e.width+t.width-d-n)/2&&Math.abs(l-s)<(e.height+t.height-d-n)/2},n.isDistanceBetweenUnitsMoreThanSafe=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:i;return r(e,t)>n},n.moveToAnotherSideIfGoBeyonceCanvas=function(e,t){var n=e.canvas.clientWidth,r=e.canvas.clientHeight;t.x>n?t.x=0:t.x<0&&(t.x=n);t.y>r?t.y=0:t.y<0&&(t.y=r)},n.getElementsInsideCanvas=function(t,e){var n=t.canvas.clientWidth,r=t.canvas.clientHeight,i=void 0;return e.filter(function(e){return(i=e.x<n&&0<e.x&&e.y<r&&0<e.y)&&e.newPos().update(t),i})};var d=2;var i=200},{}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sendResultToDatabase=function(e,t){fetch(r,{method:"POST",body:JSON.stringify({score:e,name:t})})},n.getScoreFromDatabase=function(){return fetch(r+'?orderBy="score"&limitToLast=8',{method:"GET"}).then(function(e){return e.json()}).then(function(e){return i(e)}).catch(function(){return console.log("server error")})},n.getTop8=i;var r="https://shooter-game-2a1be.firebaseio.com/statistics/.json";function i(e){return Object.values(e).sort(function(e,t){return e.score<t.score})}},{}],22:[function(e,t,n){"use strict";function r(e){var t=this;this.routes=e||[],this.currentRoute,this.previousRoute,this.currentParams,this.previousParams,window.addEventListener("hashchange",function(){t.handler(window.location.hash)}),this.handler(window.location.hash)}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=r).prototype={handler:function(e){this.previousRoute=this.currentRoute,this.previousParams=this.currentParams,this.currentRoute=this.findNewRoute(e),this.launchHandlers()},findNewRoute:function(e){e=e.slice(1);for(var t=0;t<this.routes.length;t++){var n=this.routes[t];if("string"==typeof n.match&&n.match===e)return this.currentParams="",n;if("function"==typeof n.match&&n.match(e))return this.currentParams="",n;if(n.match instanceof RegExp&&n.match.test(e))return this.currentParams=e.match(n.match)||[],this.currentParams.splice(0,1),n}},launchHandlers:function(){var e=this;Promise.resolve().then(function(){e.previousRoute&&e.previousRoute.onLeave&&e.previousRoute.onLeave(e.previousParams)}).then(function(){e.currentRoute&&e.currentRoute.onBeforeEnter&&e.currentRoute.onBeforeEnter(e.currentParams)}).then(function(){e.currentRoute&&e.currentRoute.onEnter&&e.currentRoute.onEnter(e.currentParams)})}}},{}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.updateLevelLabel=function(e){document.querySelector(".level").innerHTML=e},n.showReplayButton=function(){document.querySelector(".replay-container").style.display="block"},n.updateScoreLabel=function(e,t){var n=((e+=r.INTERVALS.updateGameState)-t)/10;return document.querySelector(".score").innerHTML=n,e+r.INTERVALS.updateGameState},n.showLoseMessage=function(){var e=document.querySelector(".score").innerText,t=prompt("Sorry, but you lose, your score is "+e,"User");(0,i.sendResultToDatabase)(+e,t||"User")},n.subscribeToShowReplay=function(e){document.querySelector(".replay-container").addEventListener("click",e,{once:!0})},n.hideReplayButton=function(){document.querySelector(".replay-container").style.display="none"};var r=e("../constants"),i=e("./requestUtils")},{"../constants":1,"./requestUtils":21}]},{},[14]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJmcm9udGVuZC9qcy9jb25zdGFudHMuanMiLCJmcm9udGVuZC9qcy9jcmVhdHVyZXMvYnVsbGV0LmpzIiwiZnJvbnRlbmQvanMvY3JlYXR1cmVzL2R1bW15RW5lbXkuanMiLCJmcm9udGVuZC9qcy9jcmVhdHVyZXMvaGVyby5qcyIsImZyb250ZW5kL2pzL2NyZWF0dXJlcy9zbWFydEVuZW15LmpzIiwiZnJvbnRlbmQvanMvY3JlYXR1cmVzL3VuaXQuanMiLCJmcm9udGVuZC9qcy9nYW1lLmpzIiwiZnJvbnRlbmQvanMvaXRlbXMvYnVmZnMvYnVmZkdlbmVyYXRvci5qcyIsImZyb250ZW5kL2pzL2l0ZW1zL2J1ZmZzL2l0ZW0uanMiLCJmcm9udGVuZC9qcy9pdGVtcy9idWZmcy9zaGllbGQuanMiLCJmcm9udGVuZC9qcy9pdGVtcy9idWZmcy9zaG9lcy5qcyIsImZyb250ZW5kL2pzL2l0ZW1zL2J1ZmZzL3N3b3JkLmpzIiwiZnJvbnRlbmQvanMvaXRlbXMvbGFuZHNjYXBlLmpzIiwiZnJvbnRlbmQvanMvbWFpbi5qcyIsImZyb250ZW5kL2pzL3JlcGxheS5qcyIsImZyb250ZW5kL2pzL3JvdXRlcy5qcyIsImZyb250ZW5kL2pzL3V0aWxzL2NhbnZhc1V0aWxzLmpzIiwiZnJvbnRlbmQvanMvdXRpbHMvY29udHJvbHNVdGlscy5qcyIsImZyb250ZW5kL2pzL3V0aWxzL2VmZmVjdHNVdGlscy5qcyIsImZyb250ZW5kL2pzL3V0aWxzL2dlb21ldHJ5VXRpbHMuanMiLCJmcm9udGVuZC9qcy91dGlscy9yZXF1ZXN0VXRpbHMuanMiLCJmcm9udGVuZC9qcy91dGlscy9yb3V0ZXIuanMiLCJmcm9udGVuZC9qcy91dGlscy91c2VyVXRpbHMuanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiSEVST19QQVJBTVMiLCJoZWlnaHQiLCJ3aWR0aCIsInBvc1giLCJwb3NZIiwic3ByaXRlTGF5ZXIiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJCVUZGX1BBUkFNUyIsImJ1ZmZUaW1lIiwic3BlZWRHcm93dGgiLCJCVUxMRVRfUEFSQU1TIiwic3BlZWQiLCJjb2xvciIsImNvbG9yU2Vjb25kIiwic2l6ZSIsImRhbWFnZSIsInNwZWVkRGVjcmVhc2UiLCJncm93QWZ0ZXJCdWZmIiwibWluRGFtYWdlIiwibWluQ3JlYXR1cmVTaXplIiwiU01BUlRfRU5FTVlfUEFSQU1TIiwibWVzc2FnZSIsIngiLCJ5IiwiZm9udCIsImRlZmVuc2VJbmNyZWFzZSIsInNwZWVkSW5jcmVhc2UiLCJtYXhTaXplIiwiZmVhckRpc3RhbmNlIiwidmlzaWJpbGl0eURpc3RhbmNlIiwiRFVNTVlfRU5FTVlfUEFSQU1TIiwiSU5URVJWQUxTIiwidXBkYXRlR2FtZVN0YXRlIiwidXBkYXRlU3ByaXRlcyIsImFkZFNtYXJ0RW5lbXkiLCJhZGREdW1teUVuZW15IiwiYWRkQnVmZkl0ZW0iLCJsdmxVcCIsIkxWTF9CVUZGUyIsInNpemVJbmNyZWFzZSIsImdyb3dCdWxsZXQiLCJwYXJhbSIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIl9jb25zdGFudHMiLCJjdXJyZW50QnVsbGV0Iiwic2hyaW5rQnVsbGV0IiwibWFrZUJ1bGxldERlZmF1bHQiLCJfdW5pdCIsIkJ1bGxldCIsImN0eCIsImFsZmFYIiwiYWxmYVkiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX3RoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9fcHJvdG9fXyIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwiVW5pdCIsImRpciIsImJlZ2luUGF0aCIsImZpbGxTdHlsZSIsImFyYyIsIk1hdGgiLCJQSSIsImZpbGwiLCJTUEVFRCIsIkJBU0VfRFVNTVlfU0laRSIsIkR1bW15RW5lbXkiLCJzcHJpdGUiLCJiYXNlWCIsImJhc2VZIiwiZ2V0U3ByaXRlTGF5ZXJWYWx1ZSIsImRlbHRhWCIsImRlbHRhWSIsImltYWdlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZHJhd0ltYWdlIiwiYWJzIiwiaW5jcmVhc2VIZXJvVmVsb2NpdHlCeUJ1ZmYiLCJidWZmIiwidmVsb2NpdHkiLCJhY2NlbGVyYXRpb24iLCJtYXhBY2NlbGVyYXRpb25UaW1lIiwiZGVjcmVhc2VIZXJvVmVsb2NpdHlCeURlYnVmZiIsImRlQnVmZiIsIkhlcm8iLCJpc0ltbW9ydGFsIiwiYWNjZWxlcmF0aW9uU3RhcnRUaW1lIiwiY3VycmVudEFjY2VsZXJhdGlvblRpbWVyIiwiY3VycmVudEJ1ZmZzIiwiaW5uZXJIVE1MIiwiZGlyZWN0aW9uIiwiY2xlYXJJbnRlcnZhbCIsIl90aGlzMiIsInN0YXJ0U3BlZWQiLCJzZXRJbnRlcnZhbCIsIl90aGlzMyIsImFsbFRpbWUiLCJmb3JFYWNoIiwiaW5kZXgiLCJ0eXBlIiwiZmlsbFJlY3QiLCJ0aW1lIiwiX2dlb21ldHJ5VXRpbHMiLCJCQVNFX1NNQVJUX1NJWkUiLCJTbWFydEVuZW15IiwiZGVmZW5zZSIsImhlcm8iLCJ1cGRhdGVEaXJlY3Rpb24iLCJfZ2V0IiwicHJvdG90eXBlIiwidGV4dCIsInN0cm9rZVRleHQiLCJmZWFyUGFyYW1zIiwiZGlzdGFuY2UiLCJpc0ZlYXIiLCJpc0Rpc3RhbmNlQmV0d2VlblVuaXRzTW9yZVRoYW5TYWZlIiwiX2dldENlbnRlckNvb3JkaW5hdGVzIiwiZ2V0Q2VudGVyQ29vcmRpbmF0ZXMiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXMyIiwiX3NsaWNlZFRvQXJyYXkiLCJoZXJvWCIsImhlcm9ZIiwiYW5nbGUiLCJhdGFuMiIsImNvcyIsInNpbiIsInNob3dXYXJuaW5nTWVzc2FnZSIsInVuaXQiLCJkZWZhdWx0U3BlZWQiLCJtYXNzMSIsIm1hc3MyIiwiayIsInBvdyIsIm1heCIsIm1heFNwZWVkIiwibW92ZVRvQW5vdGhlclNpZGVJZkdvQmV5b25jZUNhbnZhcyIsIl9tYWluIiwiX3JlcGxheSIsIl9lZmZlY3RzVXRpbHMiLCJfY29udHJvbHNVdGlscyIsIl9jYW52YXNVdGlscyIsIl91c2VyVXRpbHMiLCJfZHVtbXlFbmVteSIsIl9zbWFydEVuZW15IiwiX2J1bGxldCIsIl9oZXJvIiwiX2J1ZmZHZW5lcmF0b3IiLCJfbGFuZHNjYXBlIiwiR2FtZSIsImNhbnZhcyIsImdldENvbnRleHQiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiY3VycmVudFRpbWUiLCJsYW5kc2NhcGUiLCJMYW5kc2NhcGUiLCJkdW1teUVuZW1pZXMiLCJzbWFydEVuZW1pZXMiLCJoZXJvQnVsbGV0cyIsInRpbWVycyIsImx2bCIsImJ1ZmZJdGVtIiwicmVwbGF5IiwidW5pdHMiLCJkcmF3TGFuZHNjYXBlIiwiaGFuZGxlSGVyb1Bvc2l0aW9uIiwidGltZXIxIiwidGltZXIyIiwidGltZXIzIiwiYWRkRW5lbXkiLCJ0aW1lcjQiLCJ0aW1lcjUiLCJ0aW1lcjYiLCJwdXNoIiwiYWRkSGVyb0NvbnRyb2xzIiwiYWRkQnVsbGV0IiwidXBkYXRlQ2FudmFzU3RhdGUiLCJ1cGRhdGVTY29yZUxhYmVsIiwiYWRkU25hcHNob3RUb1JlcGxheSIsImNvbmNhdCIsIl90b0NvbnN1bWFibGVBcnJheSIsInNldE5leHRTcHJpdGUiLCJjbGVhckNhbnZhcyIsImhhbmRsZUhlcm9EZWF0aCIsImhhbmRsZUJ1ZmZJdGVtUG9zaXRpb24iLCJnZXRFbGVtZW50c0luc2lkZUNhbnZhcyIsImhhbmRsZUR1bW15RW5lbWllc1Bvc2l0aW9uIiwiaGFuZGxlU21hcnRFbmVtaWVzUG9zaXRpb24iLCJoYW5kbGVFbmVtaWVzRGVhdGgiLCJoYW5kbGVCdWZmcyIsImRyYXciLCJuZXdQb3MiLCJ1cGRhdGUiLCJkcmF3QnVmZnMiLCJlbmVteSIsInJlZHVjZSIsIm5ld0FycmF5IiwiY3VycmVudEVuZW15Iiwic29tZSIsImlmVW5pdHNUb3VjaEVhY2hPdGhlciIsInNlY29uZEVuZW15IiwiZmluZCIsImVhdCIsIl90aGlzNCIsIm5ld1NtYXJ0RW5lbWllcyIsIm5ld0R1bW15RW5lbWllcyIsIm5ld0J1bGxldHMiLCJhbGxFbmVtaWVzIiwiYnVsbGV0Iiwic2hvdWxkRW5lbXlEaWVJZkJ1bGxldEhpdHNIaW0iLCJfdGhpczUiLCJmaW5pc2hHYW1lIiwiX3RoaXM2Iiwic3RvcEdhbWVBbmRDbGVhclN0YXRlIiwic2hvd1JlcGxheUJ1dHRvbiIsInNob3dMb3NlTWVzc2FnZSIsInN1YnNjcmliZVRvU2hvd1JlcGxheSIsInNob3dSZXBsYXkiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdGlhbGl6ZUdhbWUiLCJvbmNlIiwibWFwIiwidGltZXIiLCJhY3RpdmF0ZUJ1ZmYiLCJhZGRFbmVteVN0YWNrIiwidXBkYXRlTGV2ZWxMYWJlbCIsImVuZW15QXJyYXkiLCJjcmVhdHVyZUNvbnN0cnVjdG9yIiwiYmFzZVNpemUiLCJfZ2VuZXJhdGVSYW5kb21Qb3NpdGkiLCJnZW5lcmF0ZVJhbmRvbVBvc2l0aW9uQW5kRGlyZWN0aW9uIiwiX2dlbmVyYXRlUmFuZG9tUG9zaXRpMiIsIl9nZW5lcmF0ZVJhbmRvbVBvc2l0aTMiLCJfc2l6ZSIsIl94IiwiX3kiLCJuZXdFbmVteSIsIl9nZW5lcmF0ZVJhbmRvbVBvc2l0aTQiLCJSYW5kb21CdWZmIiwiaXNJbnNpZGVDaXJjbGUiLCJjb25kaXRpb24iLCJyYW5kb20iLCJuZXdVbml0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJidWZmVHlwZSIsImJ1ZmZUeXBlcyIsImNvbnN0cnVjdG9yIiwic2VsZWN0b3IiLCJfc3dvcmQiLCJfc2hpZWxkIiwiX3Nob2VzIiwiU3dvcmQiLCJTaGllbGQiLCJTaG9lcyIsIkl0ZW0iLCJfaXRlbSIsImdhbWVPYmplY3QiLCJhZGRCdWZmSW5kaWNhdG9yIiwiZW5lbWllcyIsInNldFRpbWVvdXQiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsImhpZGVSZXBsYXlCdXR0b24iLCJnYW1lIiwiX2dhbWUiLCJzdGFydEdhbWUiLCJzdGFydCIsIl9yb3V0ZXIyIiwiZGVmYXVsdCIsIl9yb3V0ZXMyIiwic3ByaXRlWCIsInNwcml0ZVkiLCJnZXRSZXBsYXlJdGVtc0FycmF5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImZyYW1lIiwic3ByaXRlVGltZXIiLCJzbmFwc2hvdCIsInJlcGxheUl0ZW0iLCJwb3NpdGlvblRpbWVyIiwidXBkYXRlVW5pdFBvc2l0aW9uIiwidXBkYXRlUmVwbGF5SXRlbXNBcnJheSIsImFycmF5IiwiaXRlbSIsIl9yZXF1ZXN0VXRpbHMiLCJzcHJpdGVXcmFwcGVyIiwiZ2FtZUNvbnRhaW5lciIsImltYWdlRGF0YUFycmF5Iiwic3JjIiwiY2xhc3NOYW1lIiwicmVxdWVzdFRpbWVyIiwicm91dGVzIiwibWF0Y2giLCJvbkVudGVyIiwid2luZG93IiwibG9jYXRpb24iLCJoYXNoIiwiY29udGFpbmVyIiwiY2IiLCJsb2FkQ291bnRlciIsImNsYXNzTGlzdCIsImFkZCIsImNoYW5nZUFjdGl2ZVBhZ2UiLCJpbWciLCJuZXdJbWFnZSIsIkltYWdlIiwib25sb2FkIiwiYXBwZW5kQ2hpbGQiLCJvbkxlYXZlIiwicmVtb3ZlIiwicmVtb3ZlQWN0aXZlUGFnZSIsImdldFNjb3JlRnJvbURhdGFiYXNlIiwidGhlbiIsInJlcyIsIm5hbWUiLCJzY29yZSIsImpvaW4iLCJuZXdQYWdlIiwicGFnZSIsImNsZWFyUmVjdCIsImNyZWF0ZUJ1bGxldCIsInByZXZpb3VzS2V5Q29kZSIsImV2ZW50IiwibmV3S2V5Q29kZSIsImtleUNvZGUiLCJtYWtlSGVyb1NwZWVkUGFyYW1zRGVmYXVsdCIsInNldE5ld1NwZWVkVGltZXIiLCJ1cGRhdGVTcHJpdGVEaXJlY3Rpb24iLCJvZmZzZXRYIiwib2Zmc2V0WSIsImlzQ29udGFjdCIsIm1hc3MiLCJoZXJvRGFtYWdlIiwiaWQiLCJuZXdCdWZmIiwic2hpZnQiLCJoYXNBbm90aGVyU2hpZWxkIiwiZ2V0RGlzdGFuY2VCZXR3ZWVuVW5pdHMiLCJ1bml0MSIsInVuaXQyIiwieDEiLCJ5MSIsIl9nZXRDZW50ZXJDb29yZGluYXRlczMiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXM0IiwieDIiLCJ5MiIsImRlbHRhIiwiX2dldENlbnRlckNvb3JkaW5hdGVzNSIsIl9nZXRDZW50ZXJDb29yZGluYXRlczYiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXM3IiwiX2dldENlbnRlckNvb3JkaW5hdGVzOCIsIlBJWEVMX0JPUkRFUiIsImRpc3QiLCJTQUZFX0RJU1RBTkNFIiwiaXNJbnNpZGVDYW52YXMiLCJmaWx0ZXIiLCJzZW5kUmVzdWx0VG9EYXRhYmFzZSIsImZldGNoIiwiVVJMIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXNwb25zZSIsImpzb24iLCJkYXRhIiwiZ2V0VG9wOCIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsInZhbHVlcyIsInNvcnQiLCJiIiwiUm91dGVyIiwicm91dGVQYXJhbXMiLCJjdXJyZW50Um91dGUiLCJwcmV2aW91c1JvdXRlIiwiY3VycmVudFBhcmFtcyIsInByZXZpb3VzUGFyYW1zIiwiaGFuZGxlciIsImZpbmROZXdSb3V0ZSIsImxhdW5jaEhhbmRsZXJzIiwic2xpY2UiLCJlbGVtZW50IiwiUmVnRXhwIiwidGVzdCIsInNwbGljZSIsIlByb21pc2UiLCJyZXNvbHZlIiwib25CZWZvcmVFbnRlciIsInN0eWxlIiwiZGlzcGxheSIsInZhbHVlIiwiaW5uZXJUZXh0IiwicHJvbXB0Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxJQUFBRSxFQUFBLG1CQUFBQyxTQUFBQSxRQUFBLElBQUFGLEdBQUFDLEVBQUEsT0FBQUEsRUFBQUYsR0FBQSxHQUFBLEdBQUFJLEVBQUEsT0FBQUEsRUFBQUosR0FBQSxHQUFBLElBQUFLLEVBQUEsSUFBQUMsTUFBQSx1QkFBQU4sRUFBQSxLQUFBLE1BQUFLLEVBQUFFLEtBQUEsbUJBQUFGLEVBQUEsSUFBQUcsRUFBQVgsRUFBQUcsR0FBQSxDQUFBUyxRQUFBLElBQUFiLEVBQUFJLEdBQUEsR0FBQVUsS0FBQUYsRUFBQUMsUUFBQSxTQUFBZCxHQUFBLE9BQUFJLEVBQUFILEVBQUFJLEdBQUEsR0FBQUwsSUFBQUEsSUFBQWEsRUFBQUEsRUFBQUMsUUFBQWQsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxPQUFBRCxFQUFBRyxHQUFBUyxRQUFBLElBQUEsSUFBQUwsRUFBQSxtQkFBQUQsU0FBQUEsUUFBQUgsRUFBQSxFQUFBQSxFQUFBRixFQUFBYSxPQUFBWCxJQUFBRCxFQUFBRCxFQUFBRSxJQUFBLE9BQUFELEVBQUEsQ0FBQSxDQUFBYSxFQUFBLENBQUEsU0FBQVQsRUFBQVUsRUFBQUosaUVDQWFBLEVBQUFLLFlBQWMsQ0FDekJDLE9BRHlCLEdBRXpCQyxNQUZ5QixHQUd6QkMsS0FIeUIsR0FJekJDLEtBSnlCLEdBS3pCQyxZQUFhLENBQ1hDLElBRFcsRUFFWEMsS0FGVyxFQUdYQyxNQUhXLEVBSVhDLE9BQVEsSUFJQ2QsRUFBQWUsWUFBYyxDQUN6QkMsU0FEeUIsSUFFekJDLFlBQWEsS0FHRmpCLEVBQUFrQixjQUFnQixDQUMzQkMsTUFEMkIsR0FFM0JDLE1BRjJCLE1BRzNCQyxZQUgyQixTQUkzQkMsS0FKMkIsRUFLM0JDLE9BTDJCLEdBTTNCQyxjQU4yQixHQU8zQkMsY0FQMkIsRUFRM0JDLFVBUjJCLEdBUzNCQyxnQkFBaUIsSUFHTjNCLEVBQUE0QixtQkFBcUIsQ0FDaENULE1BRGdDLEdBRWhDRyxLQUZnQyxHQUdoQ08sUUFBUyxDQUNQQyxFQURPLEdBRVBDLEVBRk8sRUFHUEMsS0FBTSxjQUVSdEIsWUFBYSxDQUNYQyxJQURXLEVBRVhDLEtBRlcsRUFHWEMsTUFIVyxFQUlYQyxPQUFRLEdBRVZtQixnQkFkZ0MsRUFlaENDLGNBZmdDLEdBZ0JoQ0MsUUFoQmdDLElBaUJoQ0MsYUFqQmdDLElBa0JoQ0MsbUJBQW9CLEtBR1RyQyxFQUFBc0MsbUJBQXFCLENBQ2hDbkIsTUFEZ0MsR0FFaENHLEtBRmdDLEdBR2hDWixZQUFhLENBQ1hDLElBRFcsRUFFWEMsS0FGVyxFQUdYQyxNQUhXLEVBSVhDLE9BQVEsSUFJQ2QsRUFBQXVDLFVBQVksQ0FDdkJDLGdCQUR1QixHQUV2QkMsY0FGdUIsSUFHdkJDLGNBSHVCLElBSXZCQyxjQUp1QixJQUt2QkMsWUFMdUIsSUFNdkJDLE1BQU8sTUFHSTdDLEVBQUE4QyxVQUFZLENBQ3ZCWixjQUR1QixJQUV2QmEsYUFBYyxva0JDdkNBQyxXQUFULFdBQXlELElBQXJDQyxFQUFxQyxFQUFBQyxVQUFBaEQsYUFBQWlELElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUE3QkUsRUFBQWxDLGNBQWNPLGNBQy9DNEIsRUFBQS9CLE1BQUEyQixFQUNBSSxFQUFBOUIsUUFBQTBCLEVBQ0FJLEVBQUE3QixlQUFBeUIsS0FHY0ssYUFBVCxXQUEyRCxJQUFyQ0wsRUFBcUMsRUFBQUMsVUFBQWhELGFBQUFpRCxJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBN0JFLEVBQUFsQyxjQUFjTyxjQUNqRDRCLEVBQUEvQixNQUFBMkIsRUFDQUksRUFBQTlCLFFBQUEwQixFQUNBSSxFQUFBN0IsZUFBQXlCLEtBR2NNLGtCQUFULFdBQ0xGLEVBQUEvQixLQUFxQjhCLEVBQUFsQyxjQUFyQkksS0FDQStCLEVBQUE5QixPQUF1QjZCLEVBQUFsQyxjQUF2QkssT0FDQThCLEVBQUE3QixjQUE4QjRCLEVBQUFsQyxjQUE5Qk0sZUFqREYsSUFBQWdDLEVBQUE5RCxFQUFBLFVBQ0EwRCxFQUFBMUQsRUFBQSxnQkFFTyxJQUFNMkQsRUFBQXJELEVBQUFxRCxjQUFnQixDQUMzQi9CLEtBQU04QixFQUFBbEMsY0FEcUJJLEtBRTNCQyxPQUFRNkIsRUFBQWxDLGNBRm1CSyxPQUczQkMsY0FBZTRCLEVBQUFsQyxjQUFjTSxpQkFHbEJpQyxtQkFDWCxTQUFBQSxFQUFBQyxFQUFBNUIsRUFBQUMsRUFBQTRCLEVBQUFDLEdBQXdKLElBQW5IckQsRUFBbUgsRUFBQTJDLFVBQUFoRCxhQUFBaUQsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBQTNHRyxFQUFjL0IsS0FBTWhCLEVBQXVGLEVBQUE0QyxVQUFBaEQsYUFBQWlELElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUE5RUcsRUFBYy9CLEtBQU1ILEVBQTBELEVBQUErQixVQUFBaEQsYUFBQWlELElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUFsREUsRUFBQWxDLGNBQWNDLE1BQU9DLEVBQTZCLEVBQUE4QixVQUFBaEQsYUFBQWlELElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUFyQkUsRUFBQWxDLGNBQWNFLG1HQUFPeUMsQ0FBQUMsS0FBQUwsR0FBQSxJQUFBTSx5TEFBQUMsQ0FBQUYsTUFBQUwsRUFBQVEsV0FBQUMsT0FBQUMsZUFBQVYsSUFBQXhELEtBQUE2RCxLQUFBSixFQUFBbkQsRUFBQUQsRUFDNUh3QixFQUFJdUIsRUFBQS9CLEtBRHdILEVBQ2hHUyxFQUFJc0IsRUFBQS9CLEtBRDRGLEVBQUFxQyxFQUFBQyxFQUFBekMsSUFBQSxPQUV0SjRDLEVBQUEzQyxNQUFBQSxFQUZzSjJDLDBWQUQ5SFAsRUFBQVksMENBU3hCLE9BRkFOLEtBQUFoQyxHQUFVZ0MsS0FBQTNDLE1BQWEyQyxLQUFBTyxJQUF2QnZDLEVBQ0FnQyxLQUFBL0IsR0FBVStCLEtBQUEzQyxNQUFhMkMsS0FBQU8sSUFBdkJ0QyxFQUNBK0Isb0NBR0tKLEdBU0wsT0FSQUEsRUFBQVksWUFDQVosRUFBQWEsVUFBZ0JULEtBQWhCMUMsTUFDQXNDLEVBQUFjLElBQVFWLEtBQVJoQyxFQUFnQmdDLEtBQWhCL0IsRUFBd0IrQixLQUF4QnZELE1BQUEsRUFBdUMsRUFBSWtFLEtBQTNDQyxJQUFBLEdBQ0FoQixFQUFBaUIsT0FDQWpCLEVBQUFZLFlBQ0FaLEVBQUFhLFVBQWdCbkIsRUFBQWxDLGNBQWhCRyxZQUNBcUMsRUFBQWMsSUFBUVYsS0FBQWhDLEVBQVIsRUFBb0JnQyxLQUFBL0IsRUFBcEIsRUFBZ0MrQixLQUFBdkQsTUFBaEMsRUFBQSxFQUFtRCxFQUFJa0UsS0FBdkRDLElBQUEsR0FDQWhCLEVBQUFpQixPQUNBYixzbkJDOUJKTixFQUFBOUQsRUFBQSxVQUNBMEQsRUFBQTFELEVBQUEsZ0JBRU8sSUFBTWtGLEVBQUE1RSxFQUFBNEUsTUFBUXhCLEVBQUFkLG1CQUFkbkIsTUFDTW5CLEVBQUE2RSxnQkFBa0J6QixFQUFBZCxtQkFBeEJoQixPQUVNd0QsdUJBQ1gsU0FBQUEsRUFBQXBCLEVBQUFuRCxFQUFBRCxFQUFBd0IsRUFBQUMsRUFBQTRCLEVBQUFDLEdBQW1FLElBQWZ6QyxFQUFlLEVBQUErQixVQUFBaEQsYUFBQWlELElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUFQMEIsK0ZBQU9mLENBQUFDLEtBQUFnQixHQUFBLElBQUFmLHlMQUFBQyxDQUFBRixNQUFBZ0IsRUFBQWIsV0FBQUMsT0FBQUMsZUFBQVcsSUFBQTdFLEtBQUE2RCxLQUFBSixFQUFBbkQsRUFBQUQsRUFBQXdCLEVBQUFDLEVBQUE0QixFQUFBQyxFQUFBekMsSUFBQSxPQUVqRTRDLEVBQUFnQixPQUFjLENBQ1pDLE1BRFksRUFFWkMsTUFGWSxFQUdabkQsRUFIWSxFQUlaQyxFQUpZLEdBSVRnQyxFQUFBbUIsb0JBQXlCbkIsRUFBQU0sSUFBekJ2QyxFQUFxQ2lDLEVBQUFNLElBQXJDdEMsR0FDSHhCLE1BTFksR0FNWkQsT0FOWSxHQU9aNkUsT0FQWSxHQVFaQyxPQUFRLElBRVZyQixFQUFBc0IsTUFBYUMsU0FBQUMsY0FBYixjQVppRXhCLDBWQURyQ1AsRUFBQVksaURBaUJ4Qk4sS0FBQWlCLE9BQUFqRCxFQUFKLElBQ0VnQyxLQUFBaUIsT0FBQWpELEdBQWlCZ0MsS0FBQWlCLE9BQWpCSSxPQUVBckIsS0FBQWlCLE9BQUFqRCxFQUFnQmdDLEtBQUFpQixPQUFoQkMscUNBSUd0QixHQUFLLElBQUFxQixFQUFBakIsS0FBQWlCLE9BQUFqRCxFQUFBZ0MsS0FBQWhDLEVBQUFDLEVBQUErQixLQUFBL0IsRUFBQXhCLEVBQUF1RCxLQUFBdkQsTUFBQUQsRUFBQXdELEtBQUF4RCxPQUFBK0UsRUFBQXZCLEtBQUF1QixNQUdWLE9BREEzQixFQUFBOEIsVUFBQUgsRUFBcUJOLEVBQXJCakQsRUFBK0JpRCxFQUEvQmhELEVBQXlDZ0QsRUFBekN4RSxNQUF1RHdFLEVBQXZEekUsT0FBQXdCLEVBQUFDLEVBQUF4QixFQUFBRCxHQUNBd0QsaURBR2tCaEMsRUFBR0MsR0FBRyxJQUFBckIsRUFDQTBDLEVBREFkLG1CQUFBNUIsWUFFeEIsT0FBSStELEtBQUFnQixJQUFBM0QsR0FBYzJDLEtBQUFnQixJQUFsQjFELEdBQ1MsRUFBQUQsRUFBUXBCLEVBQVJHLE1BQTRCSCxFQUFuQ0UsS0FFTyxFQUFBbUIsRUFBUXJCLEVBQVJJLE9BQTZCSixFQUFwQ0MsdWxCQ3NDVStFLDJCQUFULFdBQW9FLElBQWhDQyxFQUFnQyxFQUFBekMsVUFBQWhELGFBQUFpRCxJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBekJFLEVBQUFyQyxZQUFZRSxZQUM1RDJFLEVBQUF6RSxPQUFBd0UsRUFDQUMsRUFBQUMsY0FBQUYsRUFDQUMsRUFBQUUscUJBQUFILEtBR2NJLDZCQUFULFdBQXdFLElBQWxDQyxFQUFrQyxFQUFBOUMsVUFBQWhELGFBQUFpRCxJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBekJFLEVBQUFyQyxZQUFZRSxZQUNoRTJFLEVBQUF6RSxPQUFBNkUsRUFDQUosRUFBQUMsY0FBQUcsRUFDQUosRUFBQUUscUJBQUFFLEdBeEZGLElBQUF4QyxFQUFBOUQsRUFBQSxVQUNBMEQsRUFBQTFELEVBQUEsZ0JBRUEsSUFBTWtHLEVBQVcsQ0FDZnpFLE1BRGUsRUFFZjBFLGFBRmUsS0FHZkMsb0JBQXFCLE9BR1ZHLGlCQUNYLFNBQUFBLEVBQUF2QyxHQUFtSyxJQUFsSm5ELEVBQWtKLEVBQUEyQyxVQUFBaEQsYUFBQWlELElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUExSUUsRUFBQS9DLFlBQVlFLE1BQU9ELEVBQXVILEVBQUE0QyxVQUFBaEQsYUFBQWlELElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUE5R0UsRUFBQS9DLFlBQVlDLE9BQVF3QixFQUEwRixFQUFBb0IsVUFBQWhELGFBQUFpRCxJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBdEZFLEVBQUEvQyxZQUFZRyxLQUFNdUIsRUFBb0UsRUFBQW1CLFVBQUFoRCxhQUFBaUQsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBQWhFRSxFQUFBL0MsWUFBWUksS0FBTWtELEVBQThDLEVBQUFULFVBQUFoRCxhQUFBaUQsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBQXRDLEVBQUdVLEVBQW1DLEVBQUFWLFVBQUFoRCxhQUFBaUQsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBQTNCLEVBQUcvQixFQUF3QixFQUFBK0IsVUFBQWhELGFBQUFpRCxJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBaEIwQyxFQUFTekUsbUdBQU8wQyxDQUFBQyxLQUFBbUMsR0FBQSxJQUFBbEMseUxBQUFDLENBQUFGLE1BQUFtQyxFQUFBaEMsV0FBQUMsT0FBQUMsZUFBQThCLElBQUFoRyxLQUFBNkQsS0FBQUosRUFBQW5ELEVBQUFELEVBQUF3QixFQUFBQyxFQUFBNEIsRUFBQUMsRUFBQXpDLElBQUEsT0FFaks0QyxFQUFBbUMsWUFBQSxFQUNBbkMsRUFBQW9DLHNCQUFBLEVBQ0FwQyxFQUFBcUMseUJBQUEsR0FDQXJDLEVBQUFzQyxhQUFBLEdBQ0F0QyxFQUFBZ0IsT0FBYyxDQUNaQyxNQURZLEVBRVpDLE1BRlksRUFHWm5ELEVBSFksRUFJWkMsRUFKWSxFQUtaeEIsTUFMWSxHQU1aRCxPQU5ZLEdBT1o2RSxPQVBZLEdBUVpDLE9BQVEsSUFFVnJCLEVBQUFzQixNQUFhQyxTQUFBQyxjQUFiLGdCQWhCaUt4QiwwVkFEM0lQLEVBQUFZLGlEQXFCbEJOLEtBQUFpQixPQUFBakQsRUFBSixHQUNFZ0MsS0FBQWlCLE9BQUFqRCxHQUFpQmdDLEtBQUFpQixPQUFqQkksT0FFQXJCLEtBQUFpQixPQUFBakQsRUFBZ0JnQyxLQUFBaUIsT0FBaEJDLHFDQUlHdEIsR0FBSyxJQUFBcUIsRUFBQWpCLEtBQUFpQixPQUFBakQsRUFBQWdDLEtBQUFoQyxFQUFBQyxFQUFBK0IsS0FBQS9CLEVBQUF4QixFQUFBdUQsS0FBQXZELE1BQUFELEVBQUF3RCxLQUFBeEQsT0FBQStFLEVBQUF2QixLQUFBdUIsTUFLVixPQUhtQkMsU0FBQUMsY0FBbkIsVUFDQWUsYUFBdUIsSUFBR3hDLEtBQUEzQyxPQUExQixJQUNBdUMsRUFBQThCLFVBQUFILEVBQXFCTixFQUFyQmpELEVBQStCaUQsRUFBL0JoRCxFQUF5Q2dELEVBQXpDeEUsTUFBdUR3RSxFQUF2RHpFLE9BQUF3QixFQUFBQyxFQUFBeEIsRUFBQUQsR0FDQXdELG1EQUdvQnlDLEdBQ3BCekMsS0FBQWlCLE9BQUFoRCxFQUFnQitCLEtBQUFpQixPQUFBRSxNQUFvQjdCLEVBQUEvQyxZQUFBSyxZQUFBNkYsR0FBcUN6QyxLQUFBaUIsT0FBekVLLDREQUlJdEIsS0FBSnNDLDBCQUNFSSxjQUFjMUMsS0FBZHNDLDBCQUVGdEMsS0FBQTNDLE1BQWF5RSxFQUFiekUsTUFDQTJDLEtBQUFxQyxzQkFBQSw2Q0FHaUIsSUFBQU0sRUFBQTNDLEtBQ1g0QyxFQUFhNUMsS0FBbkIzQyxNQUNBMkMsS0FBQXFDLHNCQUFBLEVBQ0FyQyxLQUFBc0MseUJBQWdDTyxZQUFZLFdBQzFDRixFQUFBTix1QkFBQSxHQUNBTSxFQUFBdEYsTUFBYXVGLEVBQWFkLEVBQUFDLGFBQXdCWSxFQUFsRE4sc0JBQ0lNLEVBQUFOLHVCQUE4QlAsRUFBbENFLHFCQUNFVSxjQUFjQyxFQUFkTCwyQkFKSixzQ0FTUTFDLEdBQUssSUFBQWtELEVBQUE5QyxLQUNQK0MsRUFBVXpELEVBQUFyQyxZQUFBQyxTQUFoQixJQUtBLE9BSkE4QyxLQUFBdUMsYUFBQVMsUUFBMEIsU0FBQW5CLEVBQUFvQixHQUN4QnJELEVBQUFhLFVBQWdCb0IsRUFBaEJxQixLQUNBdEQsRUFBQXVELFNBQWFMLEVBQWI5RSxFQUFxQjhFLEVBQUE3RSxFQUFBLEdBQXJCLEdBQW1DZ0YsRUFBWUgsRUFBQXJHLE9BQWNzRyxFQUFVbEIsRUFBeEJ1QixNQUEvQ0wsRUFBQSxLQUVGL0MsNC9CQzNFSk4sRUFBQTlELEVBQUEsVUFDQXlILEVBQUF6SCxFQUFBLDBCQUNBMEQsRUFBQTFELEVBQUEsZ0JBRWFNLEVBQUFvSCxnQkFBa0JoRSxFQUFBeEIsbUJBQXhCTixPQUVNK0YsdUJBQ1gsU0FBQUEsRUFBQTNELEVBQUFuRCxFQUFBRCxFQUFBd0IsRUFBQUMsRUFBQTRCLEVBQUFDLEdBQXNGLElBQWxDekMsRUFBa0MsRUFBQStCLFVBQUFoRCxhQUFBaUQsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBQTFCRSxFQUFBeEIsbUJBQW1CVCxtR0FBTzBDLENBQUFDLEtBQUF1RCxHQUFBLElBQUF0RCx5TEFBQUMsQ0FBQUYsTUFBQXVELEVBQUFwRCxXQUFBQyxPQUFBQyxlQUFBa0QsSUFBQXBILEtBQUE2RCxLQUFBSixFQUFBbkQsRUFBQUQsRUFBQXdCLEVBQUFDLEVBQUE0QixFQUFBQyxFQUFBekMsSUFBQSxPQUVwRjRDLEVBQUFnQixPQUFjLENBQ1pDLE1BRFksRUFFWkMsTUFGWSxFQUdabkQsRUFIWSxFQUlaQyxFQUFHLEdBQUFnQyxFQUFBbUIsb0JBQXlCbkIsRUFBQU0sSUFBekJ2QyxFQUFxQ2lDLEVBQUFNLElBQXJDdEMsR0FKUyxFQUtaeEIsTUFMWSxHQU1aRCxPQU5ZLEdBT1o2RSxPQVBZLEdBUVpDLE9BQVEsSUFFVnJCLEVBQUFzQixNQUFhQyxTQUFBQyxjQUFiLGFBQ0F4QixFQUFBdUQsUUFBQSxFQWJvRnZELDBWQUR4RFAsRUFBQVksaURBa0J4Qk4sS0FBQWlCLE9BQUFqRCxFQUFKLEdBQ0VnQyxLQUFBaUIsT0FBQWpELEdBQWlCZ0MsS0FBQWlCLE9BQWpCSSxPQUVBckIsS0FBQWlCLE9BQUFqRCxFQUFnQmdDLEtBQUFpQixPQUFoQkMscUNBSUd1QyxHQUlMLE9BSEF6RCxLQUFBaUIsT0FBQWhELEVBQWdCLEdBQUErQixLQUFBb0Isb0JBQXlCcEIsS0FBQU8sSUFBekJ2QyxFQUFxQ2dDLEtBQUFPLElBQXJDdEMsR0FBd0QrQixLQUFBaUIsT0FBeEVFLE1BQ0FuQixLQUFBMEQsZ0JBQUFELDRQQUNBRSxDQUFBSixFQUFBSyxVQUFBekQsV0FBQUMsT0FBQUMsZUFBQWtELEVBQUFLLFdBQUEsU0FBQTVELE1BQUE3RCxLQUFBNkQsTUFDQUEsb0NBR0tKLEdBQUssSUFBQXFCLEVBQUFqQixLQUFBaUIsT0FBQWpELEVBQUFnQyxLQUFBaEMsRUFBQUMsRUFBQStCLEtBQUEvQixFQUFBeEIsRUFBQXVELEtBQUF2RCxNQUFBRCxFQUFBd0QsS0FBQXhELE9BQUErRSxFQUFBdkIsS0FBQXVCLE1BR1YsT0FEQTNCLEVBQUE4QixVQUFBSCxFQUFxQk4sRUFBckJqRCxFQUErQmlELEVBQS9CaEQsRUFBeUNnRCxFQUF6Q3hFLE1BQXVEd0UsRUFBdkR6RSxPQUFBd0IsRUFBQUMsRUFBQXhCLEVBQUFELEdBQ0F3RCxpREFHa0JoQyxFQUFHQyxHQUFHLElBQUFyQixFQUNBMEMsRUFEQXhCLG1CQUFBbEIsWUFFeEIsT0FBSStELEtBQUFnQixJQUFBM0QsR0FBYzJDLEtBQUFnQixJQUFsQjFELEdBQ1MsRUFBQUQsRUFBUXBCLEVBQVJHLE1BQTRCSCxFQUFuQ0UsS0FFTyxFQUFBbUIsRUFBUXJCLEVBQVJJLE9BQTZCSixFQUFwQ0MsK0NBSWVnSCxHQUFNLElBQUE5RixFQUNIdUIsRUFER3hCLG1CQUFBQyxRQUV2QmlDLEtBQUFKLElBQUExQixLQUFnQkgsRUFBaEJHLEtBQ0E4QixLQUFBSixJQUFBa0UsV0FBQUQsRUFBMEI3RCxLQUFBaEMsRUFBU0QsRUFBbkNDLEVBQThDZ0MsS0FBQS9CLEVBQVNGLEVBQXZERSwyQ0FHY3dGLEdBQ2QsSUFBTU0sRUFBMkJOLEVBQWpDckIsV0E0Qk8sQ0FDTDRCLFNBQVUxRSxFQUFBeEIsbUJBRExRLGFBRUwyRixPQUZLLEVBR0xsRyxRQUFTLHVCQUdKLENBQ0xpRyxTQUFVMUUsRUFBQXhCLG1CQURMUyxtQkFFTDBGLFFBRkssRUFHTGxHLFFBQVMsY0FwQ1gsS0FBSyxFQUFBc0YsRUFBQWEsb0NBQUFULEVBQUF6RCxLQUErQytELEVBQXBEQyxVQUEwRSxDQUFBLElBQUFHLEdBQ2pELEVBQUFkLEVBQUFlLHNCQURpRFgsR0FBQVksRUFBQUMsRUFBQUgsRUFBQSxHQUFBSSxFQUFBRixFQUFBLEdBQUFHLEVBQUFILEVBQUEsR0FFbEVJLEVBQVE5RCxLQUFBK0QsTUFBV0gsRUFBUXZFLEtBQVJoQyxFQUFpQmdDLEtBQUF2RCxNQUE1QixFQUE0QytILEVBQVF4RSxLQUFSL0IsRUFBaUIrQixLQUFBeEQsT0FBN0QsR0FBZ0ZtRSxLQUE5RkMsR0FDQVosS0FBQU8sSUFBQXRDLEVBQWE4RixFQUFBRSxPQUFvQnRELEtBQUFnRSxJQUFqQ0YsR0FDQXpFLEtBQUFPLElBQUF2QyxFQUFhK0YsRUFBQUUsT0FBb0J0RCxLQUFBaUUsSUFBakNILEdBQ0F6RSxLQUFBNkUsbUJBQXdCZCxFQUF4QmhHLHNDQUlBK0csR0FBTSxJQUFBM0csRUFDbUNtQixFQURuQ3hCLG1CQUFBSyxnQkFBQUMsRUFDbUNrQixFQURuQ3hCLG1CQUFBTSxjQUVGMkcsRUFBZXpGLEVBQUF4QixtQkFBckJULE1BQ00ySCxFQUFRaEYsS0FBQXZELE1BQWF1RCxLQUEzQnhELE9BQ015SSxFQUFRSCxFQUFBckksTUFBYXFJLEVBQTNCdEksT0FDTTBJLEVBQUl2RSxLQUFBd0UsS0FBVUgsRUFBREMsR0FBVEQsRUFBVixJQUNBaEYsS0FBQXZELE9BQUF5SSxFQUNBbEYsS0FBQXhELFFBQUEwSSxFQUNBbEYsS0FBQXdELFFBQWU3QyxLQUFBeUUsSUFBU3BGLEtBQVR3RCxRQUF1QnNCLEVBQXZCdEIsU0FBZnJGLEVBQ0EsSUFBSWtILEVBQVcxRSxLQUFBeUUsSUFBU3BGLEtBQVQzQyxNQUFxQnlILEVBQXBDekgsT0FDQTJDLEtBQUEzQyxNQUFhMEgsRUFBQU0sRUFBMEJBLEdBQTFCakgsRUFBYjJHLEVBQ0EvRSxLQUFBaEMsR0FBVWdDLEtBQUFoQyxFQUFBZ0gsRUFBaUJGLEVBQUE5RyxFQUFsQmlILElBQXFDRCxFQUE5Q0MsR0FDQWpGLEtBQUEvQixHQUFVK0IsS0FBQS9CLEVBQUErRyxFQUFpQkYsRUFBQTdHLEVBQWxCZ0gsSUFBcUNELEVBQTlDQyxnYUNsRko1QixFQUFBekgsRUFBQSw0QkFFYTBFLGdCQUNYLFNBQUFBLEVBQUFWLEVBQUFuRCxFQUFBRCxFQUFBd0IsRUFBQUMsRUFBQTRCLEVBQUFDLEVBQUF6QyxnR0FBMkQwQyxDQUFBQyxLQUFBTSxHQUN6RE4sS0FBQUosSUFBQUEsRUFDQUksS0FBQXZELE1BQUFBLEVBQ0F1RCxLQUFBeEQsT0FBQUEsRUFDQXdELEtBQUEzQyxNQUFBQSxFQUNBMkMsS0FBQWhDLEVBQUFBLEVBQ0FnQyxLQUFBL0IsRUFBQUEsRUFDQStCLEtBQUFPLElBQVcsQ0FDVHZDLEVBRFM2QixFQUVUNUIsRUFBRzZCLDhDQVFMLE9BSEFFLEtBQUFoQyxHQUFVZ0MsS0FBQTNDLE1BQWEyQyxLQUFBTyxJQUF2QnZDLEVBQ0FnQyxLQUFBL0IsR0FBVStCLEtBQUEzQyxNQUFhMkMsS0FBQU8sSUFBdkJ0QyxHQUNBLEVBQUFvRixFQUFBaUMsb0NBQW1DdEYsS0FBbkNKLElBQUFJLE1BQ0FBLG94QkNwQkp1RixFQUFBM0osRUFBQSxVQUNBNEosRUFBQTVKLEVBQUEsWUFDQTZKLEVBQUE3SixFQUFBLHdCQUNBOEosRUFBQTlKLEVBQUEseUJBQ0ErSixFQUFBL0osRUFBQSx1QkFDQXlILEVBQUF6SCxFQUFBLHlCQUNBZ0ssRUFBQWhLLEVBQUEscUJBQ0FpSyxFQUFBakssRUFBQSwwQkFDQWtLLEVBQUFsSyxFQUFBLDBCQUNBbUssRUFBQW5LLEVBQUEsc0JBQ0FvSyxFQUFBcEssRUFBQSxvQkFDQXFLLEVBQUFySyxFQUFBLCtCQUNBc0ssRUFBQXRLLEVBQUEscUJBQ0EwRCxFQUFBMUQsRUFBQSx5SUFFYXVLLGdCQUNYLFNBQUFBLEVBQUFDLGdHQUFvQnJHLENBQUFDLEtBQUFtRyxHQUNsQm5HLEtBQUFvRyxPQUFBQSxFQUNBcEcsS0FBQW9HLE9BQUEzSixNQUFBLElBQ0F1RCxLQUFBb0csT0FBQTVKLE9BQUEsSUFDQXdELEtBQUFKLElBQVdJLEtBQUFvRyxPQUFBQyxXQUFYLE1BRUFyRyxLQUFBc0csVUFBaUJDLEtBQWpCQyxNQUNBeEcsS0FBQXlHLFlBQW1CRixLQUFuQkMsTUFFQXhHLEtBQUF5RCxLQUFZLElBQUl1QyxFQUFKN0QsS0FBU25DLEtBQXJCSixLQUNBSSxLQUFBMEcsVUFBaUIsSUFBSVIsRUFBSlMsVUFBYzNHLEtBQWRKLElBQUEsR0FBakIsSUFDQUksS0FBQTRHLGFBQUEsR0FDQTVHLEtBQUE2RyxhQUFBLEdBQ0E3RyxLQUFBOEcsWUFBQSxHQUNBOUcsS0FBQStHLE9BQUEsR0FDQS9HLEtBQUFnSCxJQUFBLEVBQ0FoSCxLQUFBaUgsU0FBQSxHQUNBakgsS0FBQWtILE9BQWMsQ0FBRVIsVUFBVzFHLEtBQWIwRyxVQUE2QlMsTUFBM0MsSUFDQW5ILEtBQUFvSCxnQkFDQXBILEtBQUFxSCwrREFHTSxJQUFBcEgsRUFBQUQsS0FDQXNILEVBQVN6RSxZQUFZLFdBQUEsT0FBTTVDLEVBQU52QixtQkFBOEJZLEVBQUFiLFVBQXpEQyxpQkFDTTZJLEVBQVMxRSxZQUFZLFdBQUEsT0FBTTVDLEVBQU50QixpQkFBNEJXLEVBQUFiLFVBQXZERSxlQUNNNkksRUFBUzNFLFlBQVksV0FBQSxPQUFNNUMsRUFBQXdILFNBQWN4SCxFQUFkNEcsYUFBaUNmLEVBQWpDdkMsV0FBNkN1QyxFQUFuRHhDLGtCQUFxRWhFLEVBQUFiLFVBQWhHRyxlQUNNOEksRUFBUzdFLFlBQVksV0FBQSxPQUFNNUMsRUFBQXdILFNBQWN4SCxFQUFkMkcsYUFBaUNmLEVBQWpDN0UsV0FBNkM2RSxFQUFuRDlFLGtCQUFxRXpCLEVBQUFiLFVBQWhHSSxlQUNNOEksRUFBUzlFLFlBQVksV0FBQSxPQUFNNUMsRUFBTm5CLGVBQTBCUSxFQUFBYixVQUFyREssYUFDTThJLEVBQVMvRSxZQUFZLFdBQUEsT0FBTTVDLEVBQU5sQixTQUFvQk8sRUFBQWIsVUFBL0NNLE9BQ0FpQixLQUFBK0csT0FBQWMsS0FBQVAsRUFBQUMsRUFBQUMsRUFBQUUsRUFBQUMsRUFBQUMsSUFDQSxFQUFBbEMsRUFBQW9DLGlCQUFnQjlILEtBQWhCeUQsS0FBMkIsU0FBQXpGLEVBQUFDLEdBQUEsT0FBVWdDLEVBQUE4SCxVQUFBL0osRUFBVkMsK0NBSTNCK0IsS0FBQWdJLG9CQUNBaEksS0FBQXlHLGFBQW1CLEVBQUFiLEVBQUFxQyxrQkFBaUJqSSxLQUFqQnlHLFlBQW1DekcsS0FBdERzRyxZQUNBLEVBQUFkLEVBQUEwQyxxQkFBb0JsSSxLQUFBa0gsT0FBcEJDLE1BQXVDbkgsS0FBQXlHLFlBQW1CekcsS0FBMURzRyxVQUEwRXRHLEtBQTFFeUQsS0FBcUZ6RCxLQUFyRjRHLGFBQXdHNUcsS0FBeEc2RyxhQUEySDdHLEtBQTNIOEcsWUFBNkk5RyxLQUE3SWlILFNBQTRKakgsS0FBNUpnSCw2Q0FJTSxDQUFTaEgsS0FBVHlELE1BQUEwRSxPQUFBQyxFQUF1QnBJLEtBQXZCNEcsY0FBQXdCLEVBQTZDcEksS0FBbkQ2RyxlQUNBN0QsUUFBYyxTQUFBL0IsR0FBQSxPQUFVQSxFQUFWb0gsK0RBSWQsRUFBQTFDLEVBQUEyQyxhQUFZdEksS0FBWkosS0FDQUksS0FBQW9ILGdCQUNBcEgsS0FBQXVJLGtCQUNBdkksS0FBQXFILHFCQUNBckgsS0FBQXdJLHlCQUNBeEksS0FBQThHLGFBQW1CLEVBQUF6RCxFQUFBb0YseUJBQXdCekksS0FBeEJKLElBQWtDSSxLQUFyRDhHLGFBQ0E5RyxLQUFBMEksNkJBQ0ExSSxLQUFBMkksNkJBQ0EzSSxLQUFBNEkscUJBQ0E1SSxLQUFBNkksc0RBSUE3SSxLQUFBMEcsVUFBQW9DLEtBQW9COUksS0FBcEJKLGtEQUlBSSxLQUFBeUQsS0FBQXNGLFNBQUFDLE9BQTBCaEosS0FBMUJKLEtBQUFxSixVQUE4Q2pKLEtBQTlDSixzREFJQUksS0FBQWlILFVBQWlCakgsS0FBQWlILFNBQUE2QixLQUFtQjlJLEtBQXBDSiwwREFHMkIsSUFBQStDLEVBQUEzQyxLQUMzQkEsS0FBQTRHLGFBQUE1RCxRQUEwQixTQUFBa0csR0FBQSxPQUFTQSxFQUFBSCxTQUFBQyxPQUFzQnJHLEVBQS9CL0MsNERBR0MsSUFBQWtELEVBQUE5QyxLQUMzQkEsS0FBQTZHLGFBQW9CN0csS0FBQTZHLGFBQUFzQyxPQUF5QixTQUFBQyxFQUFBQyxHQUMzQyxHQUFJRCxFQUFBRSxLQUFjLFNBQUFKLEdBQUEsT0FBUyxFQUFBN0YsRUFBQWtHLHVCQUFBTCxFQUFURyxLQUNoQixPQUFBRCxFQUVGLElBQU1JLEVBQWMxRyxFQUFBK0QsYUFBQTRDLEtBQXVCLFNBQUFQLEdBQUEsT0FBUyxFQUFBN0YsRUFBQWtHLHVCQUFBTCxFQUFBRyxJQUErQ0gsSUFBeERHLElBSzNDLE9BSkFHLEdBQ0VILEVBQUFLLElBQUFGLEdBRUZKLEVBQUF2QixLQUFBd0IsR0FDQUQsR0FURixJQVdBcEosS0FBQTZHLGFBQUE3RCxRQUEwQixTQUFBcUcsR0FBQSxPQUFnQkEsRUFBQU4sT0FBb0JqRyxFQUFwQlcsTUFBQXVGLE9BQXNDbEcsRUFBdERsRCxvREFHUCxJQUFBK0osRUFBQTNKLEtBQ2I0SixFQUFOLEdBQ01DLEVBQU4sR0FDTUMsRUFBTixHQUNNQyxFQUFBLEdBQUE1QixPQUFBQyxFQUFpQnBJLEtBQWpCNkcsY0FBQXVCLEVBQXVDcEksS0FBN0M0RyxlQUVBNUcsS0FBQTZHLGFBQUE3RCxRQUEwQixTQUFBa0csR0FDbkJTLEVBQUE3QyxZQUFBd0MsS0FBc0IsU0FBQVUsR0FBQSxPQUFVLEVBQUF2RSxFQUFBd0UsK0JBQUFmLEVBQVZjLE1BQ3pCSixFQUFBL0IsS0FBQXFCLEtBR0psSixLQUFBNEcsYUFBQTVELFFBQTBCLFNBQUFrRyxHQUNuQlMsRUFBQTdDLFlBQUF3QyxLQUFzQixTQUFBVSxHQUFBLE9BQVUsRUFBQXZFLEVBQUF3RSwrQkFBQWYsRUFBVmMsTUFDekJILEVBQUFoQyxLQUFBcUIsS0FHSmxKLEtBQUE4RyxZQUFBOUQsUUFBeUIsU0FBQWdILEdBQ2xCRCxFQUFBVCxLQUFnQixTQUFBSixHQUFBLE9BQVMsRUFBQXpELEVBQUF3RSwrQkFBQWYsRUFBVGMsTUFDbkJGLEVBQUFqQyxLQUFBbUMsS0FHSmhLLEtBQUE2RyxhQUFBK0MsRUFDQTVKLEtBQUE0RyxhQUFBaUQsRUFDQTdKLEtBQUE4RyxZQUFBZ0QsNENBR2dCLElBQUFJLEVBQUFsSyxLQUNYQSxLQUFBeUQsS0FBTHJCLFlBQ1EsR0FBQStGLE9BQUFDLEVBQWNwSSxLQUFkNEcsY0FBQXdCLEVBQW9DcEksS0FBMUM2RyxlQUNJeUMsS0FBYSxTQUFBSixHQUFBLE9BQVMsRUFBQTdGLEVBQUFrRyx1QkFBc0JXLEVBQXRCekcsS0FBQXlGLEVBQVQsT0FDZmxKLEtBQUFtSyxrREFLTyxJQUFBQyxFQUFBcEssS0FDWEEsS0FBQXFLLHlCQUNBLEVBQUF6RSxFQUFBMEUscUJBQ0EsRUFBQTFFLEVBQUEyRSxvQkFDQSxFQUFBM0UsRUFBQTRFLHVCQUFzQixXQUFBLE9BQU0sRUFBQWhGLEVBQUFpRixZQUFXTCxFQUFYbEQsT0FBd0JrRCxFQUE5QnhLLE9BQ3RCNEIsU0FBQWtKLGlCQUFBLFVBQXFDbkYsRUFBckNvRixlQUFxRCxDQUFFQyxNQUF2RCxvREFJQTVLLEtBQUErRyxPQUFBOEQsSUFBZ0IsU0FBQUMsR0FBQSxPQUFTcEksY0FBVG9JLEtBQ2hCOUssS0FBQXlELEtBQUFsQixhQUFBc0ksSUFBMkIsU0FBQWhKLEdBQUEsT0FBUWEsY0FBY2IsRUFBdEJpSixVQUMzQixFQUFBL0UsRUFBQXRHLDREQUlJLEVBQUE0RCxFQUFBa0csdUJBQXNCdkosS0FBdEJ5RCxLQUFpQ3pELEtBQXJDaUgsWUFDRWpILEtBQUFpSCxTQUFBOEQsYUFBQS9LLE1BQ0FBLEtBQUFpSCxTQUFBLG9DQUtGakgsS0FBQWdMLGNBQW1CaEwsS0FBbkI0RyxhQUFzQ2YsRUFBdEM3RSxXQUFrRDZFLEVBQWxEOUUsaUJBQ0FmLEtBQUFnSCxPQUNBLEVBQUFwQixFQUFBcUYsa0JBQWlCakwsS0FBakJnSCxzQ0FHT2tFLEVBQVlDLEVBQXFCQyxHQUFVLElBQUFDLEVBQ2JyTCxLQUFBc0wsbUNBQXdDdEwsS0FBeEN5RCxLQURhMkgsR0FBQTVOLEVBQUE2TixFQUFBN04sS0FBQVEsRUFBQXFOLEVBQUFyTixFQUFBQyxFQUFBb04sRUFBQXBOLEVBQUE0QixFQUFBd0wsRUFBQXhMLE1BQUFDLEVBQUF1TCxFQUFBdkwsTUFFNUNvSixFQUFRLElBQUFpQyxFQUF3Qm5MLEtBQXhCSixJQUFBLEdBQWtDcEMsRUFBbENBLEVBQUFRLEVBQUFDLEVBQUE0QixFQUFBQyxFQUF3RStGLEVBQUEvRSxNQUFjeEIsRUFBQU4sVUFBQVosY0FBMEI0QixLQUE5SGdILEtBQ0FrRSxFQUFBckQsS0FBQXFCLHlDQUdZZ0MsRUFBWUMsRUFBcUJDLEdBQVUsSUFBQUcsRUFDbEJ2TCxLQUFBc0wsbUNBQXdDdEwsS0FBeEN5RCxLQURrQjJILEdBQUE1TixFQUFBK04sRUFBQS9OLEtBQUFRLEVBQUF1TixFQUFBdk4sRUFBQUMsRUFBQXNOLEVBQUF0TixFQUFBNEIsRUFBQTBMLEVBQUExTCxNQUFBQyxFQUFBeUwsRUFBQXpMLE1BRWpEb0osRUFBUSxJQUFBaUMsRUFBd0JuTCxLQUF4QkosSUFBQSxHQUFrQ3BDLEVBQWxDQSxFQUFBUSxFQUFBQyxFQUFBNEIsRUFBQUMsRUFBd0UrRixFQUFBL0UsTUFBY3hCLEVBQUFOLFVBQUFaLGNBQTBCNEIsS0FBOUhnSCxLQUNBa0UsRUFBQXJELEtBQUFxQixHQUNBLElBQUssSUFBSXpOLEVBQVQsRUFBZ0JBLEVBQUl1RSxLQUFwQmdILElBQUF2TCxJQUFtQyxDQUFBLElBQUErUCxFQUNWeEwsS0FBQXNMLG1DQUFBcEMsRUFBQWtDLEdBQUEsRUFEVSxLQUFBSyxFQUFBRCxFQUFBaE8sS0FBQWtPLEVBQUFGLEVBQUF4TixFQUFBMk4sRUFBQUgsRUFBQXZOLEVBRTNCMk4sRUFBVyxJQUFBVCxFQUF3Qm5MLEtBQXhCSixJQUFBLEdBQWtDNkwsRUFBbENBLEVBQUFDLEVBQUFDLEVBQUE5TCxFQUFBQyxFQUF3RStGLEVBQUEvRSxNQUFjeEIsRUFBQU4sVUFBQVosY0FBMEI0QixLQUFqSWdILEtBQ0FrRSxFQUFBckQsS0FBQStELHNDQUlNNU4sRUFBR0MsR0FBRyxJQUFBa0csR0FDUyxFQUFBZCxFQUFBZSxzQkFBcUJwRSxLQUQ5QnlELE1BQUFZLEVBQUFDLEVBQUFILEVBQUEsR0FBQUksRUFBQUYsRUFBQSxHQUFBRyxFQUFBSCxFQUFBLEdBRVJJLEVBQVE5RCxLQUFBK0QsTUFBV0gsRUFBWHZHLEVBQXNCd0csRUFBdEJ2RyxHQUFtQzBDLEtBQWpEQyxHQUNNb0osRUFBUyxJQUFJakUsRUFBSnBHLE9BQVdLLEtBQVhKLElBQUEyRSxFQUFBQyxFQUFtQzdELEtBQUFpRSxJQUFuQ0gsR0FBb0Q5RCxLQUFBZ0UsSUFBbkVGLElBQ0F6RSxLQUFBOEcsWUFBQWUsS0FBQW1DLHlDQUlBLElBRFk2QixFQUVLN0wsS0FBQXNMLG1DQUF3Q3RMLEtBQXhDeUQsS0FGTCxHQUFBekYsRUFBQTZOLEVBQUE3TixFQUFBQyxFQUFBNE4sRUFBQTVOLEVBR05nSixFQUFXLElBQUloQixFQUFKNkYsV0FBZTlMLEtBQWZKLElBRmpCLEdBQUEsR0FFaUI1QixFQUFqQkMsR0FDQStCLEtBQUFpSCxTQUFBQSw2REFHaUN4RCxFQUFNMkgsR0FBa0QsSUFBeENXLEVBQXdDLEVBQUEzTSxVQUFBaEQsYUFBQWlELElBQUFELFVBQUEsSUFBQUEsVUFBQSxHQUFoQjRFLEVBQWdCLEVBQUE1RSxVQUFBaEQsYUFBQWlELElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUFMLElBQ2hGcEIsT0FBQSxFQUFHQyxPQUFBLEVBQUcrTixPQUFBLEVBQ0p4TyxFQUFPLEdBQUFtRCxLQUFBc0wsU0FBQWIsRUFBZ0NwTCxLQUFBZ0gsSUFBVzFILEVBQUFOLFVBQXhEQyxhQUNNWSxFQUFRLEVBQUFjLEtBQUFzTCxTQUFkLEVBQ01uTSxFQUFRLEVBQUFhLEtBQUFzTCxTQUFkLEVBRUEsRUFBRyxDQUdELElBQU1DLEVBQVUsQ0FBRWxPLEVBRmxCQSxFQUFJMkMsS0FBQXNMLFNBQWdCak0sS0FBQUosSUFBQXdHLE9BQXBCK0YsWUFFcUJsTyxFQURyQkEsRUFBSTBDLEtBQUFzTCxTQUFnQmpNLEtBQUFKLElBQUF3RyxPQUFwQmdHLGFBQ3dCM1AsTUFBUmUsRUFBcUJoQixPQUFyQ2dCLEdBQ0F3TyxHQUFZLEVBQUEzSSxFQUFBYSxvQ0FBQVQsRUFBQXlJLEVBQVpsSSxTQUNPK0gsRUFBQUMsR0FMVEEsR0FPQSxNQUFPLENBQUVoTyxFQUFGQSxFQUFLQyxFQUFMQSxFQUFRNEIsTUFBUkEsRUFBZUMsTUFBZkEsRUFBc0J0QyxLQUE3QkEseWJDaE1Zc08sV0FBVCxTQUFBbE0sRUFBQW5ELEVBQUFELEVBQUF3QixFQUFBQyxHQUNMLElBQU1vTyxFQUFXQyxLQUFqQixFQUE4QjNMLEtBQUFzTCxXQUU5QixPQUFPLElBRE1JLEVBQWJFLFlBQ08zTSxFQUFBbkQsRUFBQUQsRUFBQXdCLEVBQUFDLEVBQW1Db08sRUFBMUNHLFdBckJGLElBQUFDLEVBQUE3USxFQUFBLFdBQ0E4USxFQUFBOVEsRUFBQSxZQUNBK1EsRUFBQS9RLEVBQUEsV0FFYTBRLEVBQUFwUSxFQUFBb1EsVUFBWSxDQUFDLENBQ3hCRSxTQUR3QixTQUV4QkQsWUFBYUUsRUFGV0csTUFHeEJ0UCxNQUFPLE9BQ04sQ0FDRGtQLFNBREMsVUFFREQsWUFBYUcsRUFGWkcsT0FHRHZQLE1BQU8sU0FDTixDQUNEa1AsU0FEQyxTQUVERCxZQUFhSSxFQUZaRyxNQUdEeFAsTUFBTyxpWUNkSXlQLGdCQUNYLFNBQUFBLEVBQUFuTixFQUFBbkQsRUFBQUQsRUFBQXdCLEVBQUFDLEVBQUF1TyxnR0FBZ0R6TSxDQUFBQyxLQUFBK00sR0FDOUMvTSxLQUFBSixJQUFBQSxFQUNBSSxLQUFBdkQsTUFBQUEsRUFDQXVELEtBQUF4RCxPQUFBQSxFQUNBd0QsS0FBQWhDLEVBQUFBLEVBQ0FnQyxLQUFBL0IsRUFBQUEsRUFDQStCLEtBQUFpQixPQUFjLENBQ1pqRCxFQURZLEVBRVpDLEVBRlksRUFHWnhCLE1BSFksR0FJWkQsT0FBUSxJQUVWd0QsS0FBQXVCLE1BQWFDLFNBQUFDLGNBQWIrSywwQ0FHRzVNLEdBQUssSUFBQTJCLEVBQUF2QixLQUFBdUIsTUFBQU4sRUFBQWpCLEtBQUFpQixPQUFBakQsRUFBQWdDLEtBQUFoQyxFQUFBQyxFQUFBK0IsS0FBQS9CLEVBQUF4QixFQUFBdUQsS0FBQXZELE1BQUFELEVBQUF3RCxLQUFBeEQsT0FHUixPQURBb0QsRUFBQThCLFVBQUFILEVBQXFCTixFQUFyQmpELEVBQStCaUQsRUFBL0JoRCxFQUF5Q2dELEVBQXpDeEUsTUFBdUR3RSxFQUF2RHpFLE9BQUF3QixFQUFBQyxFQUFBeEIsRUFBQUQsR0FDQXdELDhqQkNwQkpnTixFQUFBcFIsRUFBQSxVQUNBNkosRUFBQTdKLEVBQUEsNEJBQ0FxSyxFQUFBckssRUFBQSxxQkFFYWlSLG1CQUNYLFNBQUFBLEVBQUFqTixFQUFBbkQsRUFBQUQsRUFBQXdCLEVBQUFDLEVBQUFpRixHQUE0QyxtR0FBQW5ELENBQUFDLEtBQUE2TSwwTEFBQTNNLENBQUFGLE1BQUE2TSxFQUFBMU0sV0FBQUMsT0FBQUMsZUFBQXdNLElBQUExUSxLQUFBNkQsS0FBQUosRUFBQW5ELEVBQUFELEVBQUF3QixFQUFBQyxFQUFBaUYsNFZBRGxCOEosRUFBQUQsOENBS2JFLElBQ1gsRUFBQXhILEVBQUF5SCxrQkFBaUJELEVBQWpCeEosS0FBa0N3QyxFQUFBcUcsVUFBQSxHQUFsQ2hQLE9BQ0EyUCxFQUFBeEosS0FBQXJCLFlBQUEsc25CQ1hKNEssRUFBQXBSLEVBQUEsVUFDQW9LLEVBQUFwSyxFQUFBLHdCQUNBNkosRUFBQTdKLEVBQUEsNEJBQ0FxSyxFQUFBckssRUFBQSxtQkFDQTBELEVBQUExRCxFQUFBLDZJQUVha1Isa0JBQ1gsU0FBQUEsRUFBQWxOLEVBQUFuRCxFQUFBRCxFQUFBd0IsRUFBQUMsRUFBQWlGLEdBQTRDLG1HQUFBbkQsQ0FBQUMsS0FBQThNLDBMQUFBNU0sQ0FBQUYsTUFBQThNLEVBQUEzTSxXQUFBQyxPQUFBQyxlQUFBeU0sSUFBQTNRLEtBQUE2RCxLQUFBSixFQUFBbkQsRUFBQUQsRUFBQXdCLEVBQUFDLEVBQUFpRiw0VkFEbkI4SixFQUFBRCw4Q0FLWkUsSUFFWCxFQUFBeEgsRUFBQXlILGtCQUFpQkQsRUFBakJ4SixLQUFrQ3dDLEVBQUFxRyxVQUFBLEdBQWxDaFAsUUFDQSxFQUFBMEksRUFBQXBFLDhCQUNBLElBQU11TCxFQUFBLEdBQUFoRixPQUFBQyxFQUFjNkUsRUFBZHBHLGNBQUF1QixFQUEwQzZFLEVBQWhEckcsZUFDQXVHLEVBQUFuSyxRQUFnQixTQUFBa0csR0FBQSxPQUFTQSxFQUFBN0wsT0FKekIsSUFNQSxJQUFNeU4sRUFBUXNDLFdBQVcsWUFDdkIsRUFBQXBILEVBQUEvRCxnQ0FDQWtMLEVBQUFuSyxRQUFnQixTQUFBa0csR0FBQSxPQUFTQSxFQUFBN0wsT0FSM0IsS0FTR2lDLEVBQUFyQyxZQUhIQyxVQUlBK1AsRUFBQWxHLE9BQUFjLEtBQUFpRCxvcUJDdEJKa0MsRUFBQXBSLEVBQUEsVUFDQW1LLEVBQUFuSyxFQUFBLDBCQUNBNkosRUFBQTdKLEVBQUEsNEJBQ0FxSyxFQUFBckssRUFBQSxtQkFDQTBELEVBQUExRCxFQUFBLHFCQUVhZ1Isa0JBQ1gsU0FBQUEsRUFBQWhOLEVBQUFuRCxFQUFBRCxFQUFBd0IsRUFBQUMsRUFBQWlGLEdBQTRDLG1HQUFBbkQsQ0FBQUMsS0FBQTRNLDBMQUFBMU0sQ0FBQUYsTUFBQTRNLEVBQUF6TSxXQUFBQyxPQUFBQyxlQUFBdU0sSUFBQXpRLEtBQUE2RCxLQUFBSixFQUFBbkQsRUFBQUQsRUFBQXdCLEVBQUFDLEVBQUFpRiw0VkFEbkI4SixFQUFBRCw4Q0FLWkUsSUFDWCxFQUFBeEgsRUFBQXlILGtCQUFpQkQsRUFBakJ4SixLQUFrQ3dDLEVBQUFxRyxVQUFBLEdBQWxDaFAsUUFDQSxFQUFBeUksRUFBQTdHLGNBQ0EsSUFBTTRMLEVBQVFzQyxXQUFXLFdBQUEsT0FBTSxFQUFBckgsRUFBTnZHLGlCQUFzQkYsRUFBQXJDLFlBQS9DQyxVQUNBK1AsRUFBQWxHLE9BQUFjLEtBQUFpRCx5Y0NkU25FLHFCQUNYLFNBQUFBLEVBQUEvRyxFQUFBbkQsRUFBQUQsZ0dBQWdDdUQsQ0FBQUMsS0FBQTJHLEdBQzlCM0csS0FBQUosSUFBQUEsRUFDQUksS0FBQXZELE1BQUFBLEVBQ0F1RCxLQUFBeEQsT0FBQUEsRUFDQXdELEtBQUFxTixZQUFtQnpOLEVBQUF3RyxPQUFuQitGLFlBQ0FuTSxLQUFBc04sYUFBb0IxTixFQUFBd0csT0FBcEIrRixZQUNBbk0sS0FBQWlCLE9BQWMsQ0FDWmpELEVBRFksRUFFWkMsRUFGWSxFQUdaeEIsTUFIWSxHQUlaRCxPQUFRLElBRVZ3RCxLQUFBdUIsTUFBYUMsU0FBQUMsY0FBYixxREFHRzdCLEdBRUgsSUFGUSxJQUFBMkIsRUFBQXZCLEtBQUF1QixNQUFBTixFQUFBakIsS0FBQWlCLE9BQUFvTSxFQUFBck4sS0FBQXFOLFlBQUFDLEVBQUF0TixLQUFBc04sYUFBQTdRLEVBQUF1RCxLQUFBdkQsTUFBQUQsRUFBQXdELEtBQUF4RCxPQUVDd0IsRUFBVCxFQUFnQkEsRUFBaEJxUCxFQUFpQ3JQLEdBQWpDdkIsRUFDRSxJQUFLLElBQUl3QixFQUFULEVBQWdCQSxFQUFoQnFQLEVBQWtDclAsR0FBbEN6QixFQUNFb0QsRUFBQThCLFVBQUFILEVBQXFCTixFQUFyQmpELEVBQStCaUQsRUFBL0JoRCxFQUF5Q2dELEVBQXpDeEUsTUFBdUR3RSxFQUF2RHpFLE9BQUF3QixFQUFBQyxFQUFBeEIsRUFBQUQsR0FHSixPQUFBd0QscUhDaEJZMkssZUFBVCxXQUNMLElBQU12RSxFQUFTNUUsU0FBQUMsY0FBZixXQUNBLEVBQUFtRSxFQUFBMkgsb0JBQ0FyUixFQUxTc1IsS0FLVEEsRUFBTyxJQUFJQyxFQUFKdEgsS0FBUEMsR0FDQTVFLFNBQUFDLGNBQUEsVUFBQWUsVUFBQSxFQUNBaEIsU0FBQUMsY0FBQSxVQUFBZSxVQUFBLEVBQ0FoQixTQUFBa0osaUJBQUEsVUFBQWdELEVBQWdELENBQUU5QyxNQUFsRCxPQUdjOEMsVUFBQUEsRUFqQmhCLElBQUFELEVBQUE3UixFQUFBLFVBRUFnSyxFQUFBaEssRUFBQSx5QkFDQUEsRUFBQSx1QkFDQUEsRUFBQSxnRUFFTyxJQUFJNFIsRUFBQXRSLEVBQUFzUixVQUFBLEVBV0osU0FBQUUsSUFDTEYsRUFBQUcsUUFHRixJQUFJQyxFQUFKQyxRQUFXQyxFQUFYRCxxS0NoQmdCM0Ysb0JBQVQsU0FBQWYsRUFBQS9ELEVBQUFLLEVBQUFtRCxFQUFBQyxFQUFBQyxFQUFBRyxFQUFBRCxHQUNMRyxFQUFBVSxNQUdGekUsRUFIYUEsRUFHYkssRUFIYUEsRUFHYm1ELEVBSGFBLEVBR2JDLEVBSGFBLEVBR2JDLEVBSGFBLEVBR2JHLEVBSGFBLEVBR2JELEVBSEVBLEVBSU8sQ0FDTDVELEtBREtBLEVBRUxLLEtBQU0sQ0FBRXFCLEtBQUZyQixFQUFjL0csT0FBUStHLEVBQXRCekYsRUFBOEJyQixPQUFROEcsRUFBdEN4RixFQUE4QzhQLFFBQVN0SyxFQUFBeEMsT0FBdkRqRCxFQUFzRWdRLFFBQVN2SyxFQUFBeEMsT0FBL0VoRCxFQUE4RlosTUFBT29HLEVBRnRHcEcsT0FHTHVKLGFBQWNxSCxFQUhUckgsR0FJTEMsYUFBY29ILEVBSlRwSCxHQUtMQyxZQUFhbUgsRUFMUm5ILEdBTUxHLFNBTktBLEVBT0xELElBQUtBLEtBUlQsSUFBQTVELEVBQUFLLEVBQUFtRCxFQUFBQyxFQUFBQyxFQUFBRyxFQUFBRCxLQWlCZ0J5RCxXQUFULFNBQUF2RCxFQUFBdEgsR0FDTDRCLFNBQUEwTSxvQkFBQSxVQUF3QzNJLEVBQXhDb0YsZ0JBQ0EsSUFBSXdELEVBQUosRUFFQWpILEVBQUFrSCxZQUFxQnZMLFlBQVksV0FnQm5DLElBQUF3TCxFQUFtRDVLLEVBQUFtRCxFQUFBQyxFQUFBRyxFQUFuRHFILEVBZm9DbkgsRUFBQUMsTUFBaENnSCxHQWUrQzFLLEVBQUE0SyxFQUFBNUssS0FBQW1ELEVBQUF5SCxFQUFBekgsYUFBQUMsRUFBQXdILEVBQUF4SCxhQUFBRyxFQUFBcUgsRUFBQXJILElBRTlCeEYsU0FBQUMsY0FBbkIsVUFDQWUsYUFBdUIsSUFBR2lCLEVBQUFwRyxPQUExQixJQUNNLENBQUFvRyxHQUFBMEUsT0FBQUMsRUFBQXhCLEdBQUF3QixFQUFOdkIsSUFDQTdELFFBQWMsU0FBQXNMLEdBQUEsT0FBY0EsRUFBQXhKLEtBQWR1RCxtQkFDZCxFQUFBekMsRUFBQXFGLGtCQUFBakUsSUFwQkcxSCxFQUFBYixVQUZIRSxlQUlBdUksRUFBQXFILGNBQXVCMUwsWUFBWSxXQXFCckMsSUFBQWpELEVBQUF5TyxFQUFBM0gsRUFBeUVqRCxFQUFBbUQsRUFBQUMsRUFBQUMsRUFBQUcsRUFBekVySCxFQXBCSUEsRUFvQkp5TyxFQXBCK0NuSCxFQUFBQyxNQUEzQ2dILEdBb0JKekgsRUFwQm9FUSxFQUFoRVIsVUFvQnFFakQsRUFBQTRLLEVBQUE1SyxLQUFBbUQsRUFBQXlILEVBQUF6SCxhQUFBQyxFQUFBd0gsRUFBQXhILGFBQUFDLEVBQUF1SCxFQUFBdkgsWUFBQUcsRUFBQW9ILEVBQUFwSCxVQUV2RSxFQUFBdEIsRUFBQTJDLGFBQUExSSxHQUNBOEcsRUFBQW9DLEtBQUFsSixHQUNBNE8sRUFBQS9LLEdBQ0FBLEVBQUFxQixLQUFBN0QsT0FBQWpELEVBQXFCeUYsRUFBckJzSyxRQUNBdEssRUFBQXFCLEtBQUE3RCxPQUFBaEQsRUFBcUJ3RixFQUFyQnVLLFFBQ0F2SyxFQUFBcUIsS0FBQXpILE1BQWtCb0csRUFBbEJwRyxNQUNBb0csRUFBQXFCLEtBQUFpRSxTQUFBQyxPQUFBcEosR0FDQTZPLEVBQUE3TyxFQUFBZ0gsR0FDQTZILEVBQUE3TyxFQUFBaUgsRUFBMENwRCxFQUExQ3FCLE1BQ0EySixFQUFBN08sRUFBQWtILEdBQ0FHLEdBQVlBLEVBQUE2QixLQUFabEosS0EvQkV1TyxJQUNjakgsRUFBQUMsTUFBQS9LLE9BQWQsSUFDRXNHLGNBQWN3RSxFQUFka0gsYUFDQTFMLGNBQWN3RSxFQUFkcUgsZ0JBQ0EsRUFBQTNJLEVBQUEySCxxQkFDQSxFQUFBaEksRUFBQW9GLG9CQUVEckwsRUFBQWIsVUFUSEMsa0JBbENGLElBQUE2RyxFQUFBM0osRUFBQSxVQUNBZ0ssRUFBQWhLLEVBQUEscUJBQ0ErSixFQUFBL0osRUFBQSx1QkFDQTBELEVBQUExRCxFQUFBLHVJQWtCQSxTQUFBcVMsRUFBQVMsR0FDRSxPQUFPQSxFQUFBN0QsSUFBVSxTQUFBOEQsR0FBQSxNQUNkLENBQUU3SixLQUFGNkosRUFBY2pTLE9BQVFpUyxFQUF0QjNRLEVBQThCckIsT0FBUWdTLEVBQXRDMVEsRUFBOEN4QixRQUFTa1MsRUFBdkRsUyxNQUFtRUQsU0FBVW1TLEVBRC9EblMsVUFnRG5CLFNBQUFpUyxFQUFBN08sRUFBQThPLEVBQUFqTCxHQUNFaUwsRUFBQTFMLFFBQWMsU0FBQXNMLEdBQ1pFLEVBQUFGLEdBQ0FBLEVBQUF4SixLQUFBckksTUFBd0I2UixFQUF4QjdSLE1BQ0E2UixFQUFBeEosS0FBQXRJLE9BQXlCOFIsRUFBekI5UixPQUNBOFIsRUFBQXhKLEtBQUFpRSxPQUFBdEYsR0FBQXVGLE9BQUFwSixLQUlKLFNBQUE0TyxFQUFBRixHQUNFQSxFQUFBeEosS0FBQTlHLEVBQW9Cc1EsRUFBcEI1UixLQUNBNFIsRUFBQXhKLEtBQUE3RyxFQUFvQnFRLEVBQXBCM1Isd0tDakZGLElBQUE0SSxFQUFBM0osRUFBQSxVQUNBZ1QsRUFBQWhULEVBQUEsd0JBR01pVCxFQUFnQnJOLFNBQUFDLGNBQXRCLG1CQUNNcU4sRUFBZ0J0TixTQUFBQyxjQUF0QixtQkFDTXNOLEVBQWlCLENBQ3JCLENBQUVDLElBQUYsaUJBQXlCQyxVQURKLGVBRXJCLENBQUVELElBQUYsa0JBQTBCQyxVQUZMLFNBR3JCLENBQUVELElBQUYsa0JBQTBCQyxVQUhMLFNBSXJCLENBQUVELElBQUYsbUJBQTJCQyxVQUpOLFVBS3JCLENBQUVELElBQUYsc0JBQThCQyxVQUxULGFBTXJCLENBQUVELElBQUYsc0JBQThCQyxVQU5ULGFBT3JCLENBQUVELElBQUYscUJBQTZCQyxVQVAvQixhQVVJQyxPQUFBLEVBRUVDLEVBQVMsQ0FDYixDQUNFQyxNQURGLEdBRUVDLFFBQVMsV0FDUEMsT0FBQUMsU0FBQUMsS0FBQSxTQUVELENBQ0RKLE1BREMsT0FFREMsUUFBUyxXQWlHYixJQUFBSSxFQUFBQyxFQUNNQyxFQTNCSmIsRUFBQWMsVUFBQUMsSUFBQSxTQXJFSUMsRUFBQSxRQUNBaEIsRUFBQXRNLFVBK0dKLGlZQTlHU3FNLEVBQUxyTSxXQUdFLEVBQUErQyxFQUFBb0YsbUJBMEZSOEUsRUE1RlFaLEVBNEZSYSxFQTVGeURuSyxFQUFqRG9GLGVBNkZGZ0YsRUFBSixFQUNBWixFQUFBL0wsUUFBdUIsU0FBQStNLEdBQ3JCLElBQU1DLEVBQVcsSUFBakJDLE1BQ0FELEVBQUFmLFVBQXFCYyxFQUFyQmQsVUFDQWUsRUFBQWhCLElBQWVlLEVBQWZmLElBQ0FnQixFQUFBRSxPQUFrQixhQUNoQlAsSUFDb0JaLEVBQXBCM1MsUUFDRXNULEtBR0pELEVBQUFVLFlBQUFILE9BbkdBSSxRQUFTLFdBaUVYdEIsRUFBQWMsVUFBQVMsT0FBQSxTQTVCQTlLLEVBQUFpSSxLQUFBbkQsd0JBQ0EzSCxjQUFjNkMsRUFBQWlJLEtBQUF0RyxPQUFka0gsYUFDQTFMLGNBQWM2QyxFQUFBaUksS0FBQXRHLE9BQWRxSCxlQUNBL00sU0FBQTBNLG9CQUFBLFVBQXdDM0ksRUFBeENvRixnQkFDQW5KLFNBQUEwTSxvQkFBQSxVQUF3QzNJLEVBQXhDbUksV0F0Q0k0QyxFQUFBLFVBRUQsQ0FDRGxCLE1BREMsU0FFREMsUUFBUyxXQUNQUyxFQUFBLFVBcUNKaEIsRUFBQXRNLFVBQUEsZ0ZBcENJME0sRUFxQ0c5QixXQUFXLFdBQUEsT0FDaEIsRUFBQXdCLEVBQUEyQix3QkFBQUMsS0FDUSxTQUFBQyxHQUFBLE9BQU8zQixFQUFBdE0sVUEyQmpCLGdUQTNCVWlPLEVBcUJRNUYsSUFBVyxTQUFBOEQsRUFBQWxULEdBQUEsTUFBQSwwRkFFdkJBLEVBRnVCLEdBQUEsS0FFYmtULEVBRmErQixLQUFBLHdEQUdzQi9CLEVBSHRCZ0MsTUFBQSx1QkFBWEMsS0FBbEIsSUFNQSwyQ0E3QkEsTUFuQ0VSLFFBQVMsV0FDUDFOLGNBQUF3TSxHQUNBb0IsRUFBQSxZQUVELENBQ0RsQixNQURDLFFBRURDLFFBQVMsV0FDUFMsRUFBQSxTQUNBaEIsRUFBQXRNLFVBMEdKLCt0RkF4R0U0TixRQUFTLFdBQ1BFLEVBQUEsV0FFRCxDQUNEbEIsTUFEQyxTQUVEQyxRQUFTLFdBQ1BTLEVBQUEsVUFDQWhCLEVBQUF0TSxVQStJSiwyWUE3SUU0TixRQUFTLFdBQ1BFLEVBQUEsYUFxQk4sU0FBQVIsRUFBQWUsR0FDRXJQLFNBQUFDLGNBQUEsV0FBQW9QLEVBQUEsTUFBQWpCLFVBQUFDLElBQUEsVUFHRixTQUFBUyxFQUFBUSxHQUNFdFAsU0FBQUMsY0FBQSxXQUFBcVAsRUFBQSxNQUFBbEIsVUFBQVMsT0FBQSxvQkEySGFsQixnSUN2TkM3RyxZQUFULFNBQUExSSxHQUNMQSxFQUFBbVIsVUFBQSxFQUFBLEVBQW9CblIsRUFBQXdHLE9BQXBCK0YsWUFBNEN2TSxFQUFBd0csT0FBNUNnRyx3R0NEY3RFLGdCQUFULFNBQUFyRSxFQUFBdU4sR0FZUHZOLEVBWEVBLEVBVzRCbEQsRUFBQWtELEVBQUFsRCxJQUV4QjBRLE9BQUEsRUFDSnpQLFNBQUFrSixpQkFBQSxVQUFxQyxTQUFBd0csR0F1Q3ZDLElBQUFELEVBQUFFLEVBQUExTixFQXJDSSxPQXFDSndOLEVBdENzQkEsRUFzQ3RCRSxFQXRDeUVELEVBQW5ERSxRQXNDdEIzTixFQXRDSUEsRUFBQXdOLEVBdUNFQSxJQUFKRSxHQUNFMU4sRUFBQTROLDZCQUNBLEtBQUlGLEdBQ0YxTixFQUFBNk4sbUJBRUZILEdBRUFGLEVBN0NRQyxFQUFSRSxTQUNFLEtBQUEsR0FDRTNOLEVBQUE4TixzQkFBQSxPQUNBaFIsRUFBQXRDLEdBQUEsRUFDQXNDLEVBQUF2QyxFQUFBLEVBQ0EsTUFFRixLQUFBLEdBQ0V5RixFQUFBOE4sc0JBQUEsU0FDQWhSLEVBQUF0QyxFQUFBLEVBQ0FzQyxFQUFBdkMsRUFBQSxFQUNBLE1BRUYsS0FBQSxHQUNFeUYsRUFBQThOLHNCQUFBLFVBQ0FoUixFQUFBdEMsRUFBQSxFQUNBc0MsRUFBQXZDLEVBQUEsRUFDQSxNQUVGLEtBQUEsR0FDRXlGLEVBQUE4TixzQkFBQSxRQUNBaFIsRUFBQXZDLEdBQUEsRUFDQXVDLEVBQUF0QyxFQUFBLEVBQ0EsTUFFRixLQUFBLEdBQ0V3RixFQUFBcEcsTUFBQSxFQUNBa0QsRUFBQXZDLEVBQUEsRUFDQXVDLEVBQUF0QyxFQUFBLEtBeENSK1MsRUFIRUEsRUFJZXhQLFNBQUFDLGNBQWYsVUFDQWlKLGlCQUFBLFFBQWlDLFNBQUF3RyxHQUMvQkYsRUFBYUUsRUFBYk0sUUFBNEJOLEVBQTVCTyxXQUhKLElBQUFULEVBT0EsSUFBQXZOLEVBQThCbEQsRUFFeEIwUSw0RkNWVWhILDhCQUFULFNBQUFmLEVBQUFjLEdBQ0wsSUFBTTBILEdBQVksRUFBQXJPLEVBQUFrRyx1QkFBQUwsRUFBbEJjLEdBQ0EwSCxJQVVGNU0sRUFUSW9FLEVBU3NCeEwsRUFDRXFJLEVBREZ4RyxjQUFBN0IsY0FFbEJpVSxFQUFPN00sRUFBQXJJLE1BQWFxSSxFQUExQnRJLE9BVUZzSSxFQVJFQSxFQVFpQ3JILEVBQ2RzSSxFQURjeEcsY0FBQTlCLE9BRTNCK0YsRUFBVXNCLEVBQUF0QixTQUFoQixFQVZNb08sRUFXQyxFQUFBblUsRUFBQStGLEVBQXVCL0YsRUFBdkIrRixFQUEwQ2xFLEVBQUFsQyxjQUFqRFEsVUFWTXNILEdBQUt5TSxFQUFEQyxHQUFWRCxFQUNBN00sRUFBQXJJLE9BQUF5SSxFQUNBSixFQUFBdEksUUFBQTBJLEVBQ0FKLEVBQUF6SCxNQUFBSyxJQUE2Qm9ILEVBQUF6SCxPQUE3QkssR0FqQkV3TCxFQWtCRnBFLEdBVEYsSUFBQUEsRUFBMEJwSCxFQUVsQmlVLEVBRUFDLEVBQ0ExTSxFQU9SSixFQUFtQ3JILEVBRTNCK0YsRUFyQk4sU0FBSWtPLEtBQWN4SSxFQUFBek0sTUFBYzZDLEVBQUFsQyxjQUFkUyxpQkFBK0NxTCxFQUFBMU0sT0FBZThDLEVBQUFsQyxjQUFoRlMscUJBeUJjcVAsaUJBQVQsU0FBQXpKLEVBQUFuRyxHQUNMLElBQU11VSxFQUFLdEwsS0FBWEMsTUFDTXNMLEVBQVUsQ0FDZEQsR0FEY0EsRUFFZHpPLEtBRmMsRUFHZEYsS0FBTTVGLEdBRVJtRyxFQUFBbEIsYUFBQXNGLEtBQUFpSyxHQUlGck8sRUFIRUEsRUFHRm9PLEVBSEVBLEVBSU1oUSxFQUFPNEIsRUFBQWxCLGFBQUFrSCxLQUF1QixTQUFBNUgsR0FBQSxPQUFRZ1EsSUFBT2hRLEVBQWZnUSxLQUNwQ2hRLEVBQUFpSixNQUFhakksWUFBWSxXQUV2QixHQURBaEIsRUFBQXVCLE1BQUEsRUFDSXZCLEVBQUF1QixNQUFhOUQsRUFBQXJDLFlBQUFDLFNBQWpCLElBQThDLENBQzVDd0YsY0FBY2IsRUFBZGlKLE9BQ0FySCxFQUFBbEIsYUFBQXdQLFFBQ0EsSUFBTUMsRUFBbUJ2TyxFQUFBbEIsYUFBQStHLEtBQXVCLFNBQUF6SCxHQUFBLE9BQVFBLEVBQUFxQixPQUFjK0MsRUFBQXFHLFVBQUEsR0FBdEJoUCxRQUNoRG1HLEVBQUFyQixXQUFBNFAsSUFOSixLQUZGLElBQUF2TyxFQUFBb08sRUFDUWhRLEdBL0NSLElBQUFrRSxFQUFBbkssRUFBQSx1QkFDQTBELEVBQUExRCxFQUFBLGdCQUNBeUgsRUFBQXpILEVBQUEsbUJBQ0FxSyxFQUFBckssRUFBQSx1bUJDSE8sU0FBQXdJLEVBQUFVLEdBQ0wsTUFBTyxDQUFDQSxFQUFBOUcsRUFBUyxHQUFNOEcsRUFBaEJySSxNQUE0QnFJLEVBQUE3RyxFQUFTLEdBQU02RyxFQUFsRHRJLFFBR0ssU0FBQXlWLEVBQUFDLEVBQUFDLEdBQStDLElBQUFoTyxFQUNuQ0MsRUFEbUM4TixHQUFBN04sRUFBQUMsRUFBQUgsRUFBQSxHQUFBaU8sRUFBQS9OLEVBQUEsR0FBQWdPLEVBQUFoTyxFQUFBLEdBQUFpTyxFQUVuQ2xPLEVBRm1DK04sR0FBQUksRUFBQWpPLEVBQUFnTyxFQUFBLEdBQUFFLEVBQUFELEVBQUEsR0FBQUUsRUFBQUYsRUFBQSxHQUdwRCxPQUFPNVIsS0FBQXdFLElBQVN4RSxLQUFBd0UsSUFBU2lOLEVBQVRJLEVBQUEsR0FBdUI3UixLQUFBd0UsSUFBU2tOLEVBQVRJLEVBQWhDLEdBQVAsTUFQY3JPLHFCQUFBQSxJQUlBNk4sd0JBQUFBLElBUUExSSxzQkFBVCxTQUFBMkksRUFBQUMsR0FBd0QsSUFBWE8sRUFBVyxFQUFBdFQsVUFBQWhELGFBQUFpRCxJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBSCxFQUFHdVQsRUFDNUN2TyxFQUQ0QzhOLEdBQUFVLEVBQUF0TyxFQUFBcU8sRUFBQSxHQUFBUCxFQUFBUSxFQUFBLEdBQUFQLEVBQUFPLEVBQUEsR0FBQUMsRUFFNUN6TyxFQUY0QytOLEdBQUFXLEVBQUF4TyxFQUFBdU8sRUFBQSxHQUFBTCxFQUFBTSxFQUFBLEdBQUFMLEVBQUFLLEVBQUEsR0FHN0QsT0FDRW5TLEtBQUFnQixJQUFTNlEsRUFBVEosSUFBcUJGLEVBQUF6VixNQUFjMFYsRUFBZDFWLE1BQUFzVyxFQUFETCxHQUFwQixHQUNHL1IsS0FBQWdCLElBQVM4USxFQUFUSixJQUFxQkgsRUFBQTFWLE9BQWUyVixFQUFmM1YsT0FBQXVXLEVBQURMLEdBRnpCLEtBUWN4TyxtQ0FBVCxTQUFBZ08sRUFBQUMsR0FBZ0YsSUFBdEJhLEVBQXNCLEVBQUE1VCxVQUFBaEQsYUFBQWlELElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUFmNlQsRUFDdEUsT0FBT2hCLEVBQUFDLEVBQUFDLEdBQVBhLEtBR2MxTixtQ0FBVCxTQUFBMUYsRUFBQWtGLEdBQ0wsSUFBSXJJLEVBQVFtRCxFQUFBd0csT0FBWitGLFlBQ0kzUCxFQUFTb0QsRUFBQXdHLE9BQWJnRyxhQUVJdEgsRUFBQTlHLEVBQUp2QixFQUNFcUksRUFBQTlHLEVBQUEsRUFDUzhHLEVBQUE5RyxFQUFKLElBQ0w4RyxFQUFBOUcsRUFBQXZCLEdBRUVxSSxFQUFBN0csRUFBSnpCLEVBQ0VzSSxFQUFBN0csRUFBQSxFQUNTNkcsRUFBQTdHLEVBQUosSUFDTDZHLEVBQUE3RyxFQUFBekIsTUFJWWlNLHdCQUFULFNBQUE3SSxFQUFBdUgsR0FDTCxJQUFNMUssRUFBUW1ELEVBQUF3RyxPQUFkK0YsWUFDTTNQLEVBQVNvRCxFQUFBd0csT0FBZmdHLGFBRUk4RyxPQUFBLEVBQ0osT0FBTy9MLEVBQUFnTSxPQUFhLFNBQUFyTyxHQUtsQixPQUpBb08sRUFBaUJwTyxFQUFBOUcsRUFBQXZCLEdBQUEsRUFBa0JxSSxFQUFBOUcsR0FBYzhHLEVBQUE3RyxFQUFoQ3pCLEdBQWpCLEVBQW9Fc0ksRUFBQTdHLElBRWxFNkcsRUFBQWlFLFNBQUFDLE9BQUFwSixHQUVGc1QsS0EzQ0osSUFBTUgsRUFBTixFQVdBLElBQU1FLEVBQU4sNkZDbkJnQkcscUJBQVQsU0FBQXpDLEVBQUFELEdBQ0wyQyxNQUFBQyxFQUFXLENBQ1RDLE9BRFMsT0FFVEMsS0FBTUMsS0FBQUMsVUFBZSxDQUFFL0MsTUFBRkEsRUFBU0QsS0FBeEJBLFNBSU1ILHFCQUFULFdBQ0wsT0FBTzhDLE1BQUFDLEVBQUEsaUNBQWdELENBQUVDLE9BQWxELFFBQUEvQyxLQUNDLFNBQUFtRCxHQUFBLE9BQVlBLEVBQVpDLFNBRERwRCxLQUVDLFNBQUFxRCxHQUFBLE9BQVFDLEVBQVJELEtBRkRFLE1BR0UsV0FBQSxPQUFNQyxRQUFBQyxJQUFOLHFCQUdLSCxRQUFBQSxFQWhCaEIsSUFBTVIsRUFBTiw2REFnQk8sU0FBQVEsRUFBQUQsR0FFTCxPQURjelQsT0FBQThULE9BQWRMLEdBQ09NLEtBQVcsU0FBQXJZLEVBQUFzWSxHQUFBLE9BQVV0WSxFQUFBNlUsTUFBVXlELEVBQXBCekQsK0NDbEJMLFNBQUEwRCxFQUFBQyxHQUE2QixJQUFBclUsRUFBQUQsS0FDMUNBLEtBQUFtUCxPQUFjbUYsR0FBZCxHQUNBdFUsS0FBQXVVLGFBQ0F2VSxLQUFBd1UsY0FDQXhVLEtBQUF5VSxjQUNBelUsS0FBQTBVLGVBQ0FwRixPQUFBNUUsaUJBQUEsYUFBc0MsV0FDcEN6SyxFQUFBMFUsUUFBYXJGLE9BQUFDLFNBQWJDLFFBRUZ4UCxLQUFBMlUsUUFBYXJGLE9BQUFDLFNBQWJDLGtFQVRzQjZFLEdBWXhCelEsVUFBbUIsQ0FDakIrUSxRQUFTLFNBQUFuRixHQUNQeFAsS0FBQXdVLGNBQXFCeFUsS0FBckJ1VSxhQUNBdlUsS0FBQTBVLGVBQXNCMVUsS0FBdEJ5VSxjQUNBelUsS0FBQXVVLGFBQW9CdlUsS0FBQTRVLGFBQXBCcEYsR0FDQXhQLEtBQUE2VSxrQkFFRkQsYUFBYyxTQUFBcEYsR0FDWkEsRUFBT0EsRUFBQXNGLE1BQVAsR0FFQSxJQUFLLElBQUlyWixFQUFULEVBQWdCQSxFQUFJdUUsS0FBQW1QLE9BQXBCL1MsT0FBQVgsSUFBNkMsQ0FDM0MsSUFBSXNaLEVBQVUvVSxLQUFBbVAsT0FBZDFULEdBQ0EsR0FBSSxpQkFBT3NaLEVBQVAzRixPQUFvQzJGLEVBQUEzRixRQUF4Q0ksRUFFRSxPQURBeFAsS0FBQXlVLGNBQUEsR0FDQU0sRUFFRixHQUFJLG1CQUFPQSxFQUFQM0YsT0FBc0MyRixFQUFBM0YsTUFBMUNJLEdBRUUsT0FEQXhQLEtBQUF5VSxjQUFBLEdBQ0FNLEVBRUYsR0FBSUEsRUFBQTNGLGlCQUFBNEYsUUFBbUNELEVBQUEzRixNQUFBNkYsS0FBdkN6RixHQUdFLE9BRkF4UCxLQUFBeVUsY0FBcUJqRixFQUFBSixNQUFXMkYsRUFBWDNGLFFBQXJCLEdBQ0FwUCxLQUFBeVUsY0FBQVMsT0FBQSxFQUFBLEdBQ0FILElBdkJXRixlQUFBLFdBMkJBLElBQUFsUyxFQUFBM0MsS0FDZm1WLFFBQUFDLFVBQUE1RSxLQUNRLFdBQ0o3TixFQUFBNlIsZUFDRTdSLEVBQUE2UixjQURGcEUsU0FFRXpOLEVBQUE2UixjQUFBcEUsUUFBMkJ6TixFQUY3QitSLGtCQUZKbEUsS0FNUSxXQUNKN04sRUFBQTRSLGNBQ0U1UixFQUFBNFIsYUFERmMsZUFFRTFTLEVBQUE0UixhQUFBYyxjQUFnQzFTLEVBRmxDOFIsaUJBUEpqRSxLQVdRLFdBQ0o3TixFQUFBNFIsY0FDRTVSLEVBQUE0UixhQURGbEYsU0FFRTFNLEVBQUE0UixhQUFBbEYsUUFBMEIxTSxFQUY1QjhSLDRHQ2pEUXhKLGlCQUFULFNBQUFqRSxHQUNjeEYsU0FBQUMsY0FBbkIsVUFDQWUsVUFBQXdFLEtBR2NzRCxpQkFBVCxXQUNnQjlJLFNBQUFDLGNBQXJCLHFCQUNBNlQsTUFBQUMsUUFBQSxXQUdjdE4saUJBQVQsU0FBQXhCLEVBQUFILEdBRUwsSUFBTWtQLElBRE4vTyxHQUFlbkgsRUFBQWIsVUFBZkMsaUJBQ2M0SCxHQUFkLEdBR0EsT0FGbUI5RSxTQUFBQyxjQUFuQixVQUNBZSxVQUFBZ1QsRUFDTy9PLEVBQWNuSCxFQUFBYixVQUFyQkMsbUJBR2M2TCxnQkFBVCxXQUNMLElBQ01vRyxFQURhblAsU0FBQUMsY0FBbkIsVUFDQWdVLFVBQ00vRSxFQUFPZ0YsT0FBTyxzQ0FBUC9FLEVBQWIsU0FDQSxFQUFBL0IsRUFBQXdFLHVCQUFBekMsRUFBNkJELEdBQTdCLFdBR2NsRyxzQkFBVCxTQUFBa0YsR0FDZ0JsTyxTQUFBQyxjQUFyQixxQkFDQWlKLGlCQUFBLFFBQUFnRixFQUEyQyxDQUFFOUUsTUFBN0MsT0FHYzJDLGlCQUFULFdBQ2dCL0wsU0FBQUMsY0FBckIscUJBQ0E2VCxNQUFBQyxRQUFBLFFBbkNGLElBQUFqVyxFQUFBMUQsRUFBQSxnQkFDQWdULEVBQUFoVCxFQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJleHBvcnQgY29uc3QgSEVST19QQVJBTVMgPSB7XHJcbiAgaGVpZ2h0OiA1MCxcclxuICB3aWR0aDogMzAsXHJcbiAgcG9zWDogNTAsXHJcbiAgcG9zWTogNTAsXHJcbiAgc3ByaXRlTGF5ZXI6IHtcclxuICAgIHRvcDogMyxcclxuICAgIGxlZnQ6IDEsXHJcbiAgICByaWdodDogMixcclxuICAgIGJvdHRvbTogMFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEJVRkZfUEFSQU1TID0ge1xyXG4gIGJ1ZmZUaW1lOiAyMDAwMCxcclxuICBzcGVlZEdyb3d0aDogMS42LFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQlVMTEVUX1BBUkFNUyA9IHtcclxuICBzcGVlZDogMTAsXHJcbiAgY29sb3I6ICdyZWQnLFxyXG4gIGNvbG9yU2Vjb25kOiAneWVsbG93JyxcclxuICBzaXplOiA1LFxyXG4gIGRhbWFnZTogMzUsXHJcbiAgc3BlZWREZWNyZWFzZTogMC4xMCxcclxuICBncm93QWZ0ZXJCdWZmOiAyLFxyXG4gIG1pbkRhbWFnZTogMTAsXHJcbiAgbWluQ3JlYXR1cmVTaXplOiAzMFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgU01BUlRfRU5FTVlfUEFSQU1TID0ge1xyXG4gIHNwZWVkOiAwLjYsXHJcbiAgc2l6ZTogMjUsXHJcbiAgbWVzc2FnZToge1xyXG4gICAgeDogMTAsXHJcbiAgICB5OiA1LFxyXG4gICAgZm9udDogXCIxM3B4IEFyaWFsXCJcclxuICB9LFxyXG4gIHNwcml0ZUxheWVyOiB7XHJcbiAgICB0b3A6IDMsXHJcbiAgICBsZWZ0OiAxLFxyXG4gICAgcmlnaHQ6IDIsXHJcbiAgICBib3R0b206IDBcclxuICB9LFxyXG4gIGRlZmVuc2VJbmNyZWFzZTogMyxcclxuICBzcGVlZEluY3JlYXNlOiAwLjEsXHJcbiAgbWF4U2l6ZTogMTAwLFxyXG4gIGZlYXJEaXN0YW5jZTogMzAwLFxyXG4gIHZpc2liaWxpdHlEaXN0YW5jZTogMjAwXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBEVU1NWV9FTkVNWV9QQVJBTVMgPSB7XHJcbiAgc3BlZWQ6IDAuOCxcclxuICBzaXplOiAyNSxcclxuICBzcHJpdGVMYXllcjoge1xyXG4gICAgdG9wOiAzLFxyXG4gICAgbGVmdDogMSxcclxuICAgIHJpZ2h0OiAyLFxyXG4gICAgYm90dG9tOiAwXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgSU5URVJWQUxTID0ge1xyXG4gIHVwZGF0ZUdhbWVTdGF0ZTogMjAsXHJcbiAgdXBkYXRlU3ByaXRlczogMjAwLFxyXG4gIGFkZFNtYXJ0RW5lbXk6IDMwMDAsXHJcbiAgYWRkRHVtbXlFbmVteTogNDAwMDAsXHJcbiAgYWRkQnVmZkl0ZW06IDgwMDAsXHJcbiAgbHZsVXA6IDEzMDAwXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBMVkxfQlVGRlMgPSB7XHJcbiAgc3BlZWRJbmNyZWFzZTogMC4yNSxcclxuICBzaXplSW5jcmVhc2U6IDJcclxufSIsImltcG9ydCB7IFVuaXQgfSBmcm9tIFwiLi91bml0XCI7XHJcbmltcG9ydCB7IEJVTExFVF9QQVJBTVMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGN1cnJlbnRCdWxsZXQgPSB7XHJcbiAgc2l6ZTogQlVMTEVUX1BBUkFNUy5zaXplLFxyXG4gIGRhbWFnZTogQlVMTEVUX1BBUkFNUy5kYW1hZ2UsXHJcbiAgc3BlZWREZWNyZWFzZTogQlVMTEVUX1BBUkFNUy5zcGVlZERlY3JlYXNlXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgQnVsbGV0IGV4dGVuZHMgVW5pdCB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB4LCB5LCBhbGZhWCwgYWxmYVksIHdpZHRoID0gY3VycmVudEJ1bGxldC5zaXplLCBoZWlnaHQgPSBjdXJyZW50QnVsbGV0LnNpemUsIHNwZWVkID0gQlVMTEVUX1BBUkFNUy5zcGVlZCwgY29sb3IgPSBCVUxMRVRfUEFSQU1TLmNvbG9yKSB7XHJcbiAgICBzdXBlcihjdHgsIHdpZHRoLCBoZWlnaHQsIHggLSBjdXJyZW50QnVsbGV0LnNpemUgLyAyLCB5IC0gY3VycmVudEJ1bGxldC5zaXplIC8gMiwgYWxmYVgsIGFsZmFZLCBzcGVlZCk7XHJcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgfVxyXG5cclxuICBuZXdQb3MoKSB7XHJcbiAgICB0aGlzLnggKz0gdGhpcy5zcGVlZCAqIHRoaXMuZGlyLng7XHJcbiAgICB0aGlzLnkgKz0gdGhpcy5zcGVlZCAqIHRoaXMuZGlyLnk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHVwZGF0ZShjdHgpIHtcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgY3R4LmFyYyh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgMCwgMiAqIE1hdGguUEksIHRydWUpO1xyXG4gICAgY3R4LmZpbGwoKTtcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5maWxsU3R5bGUgPSBCVUxMRVRfUEFSQU1TLmNvbG9yU2Vjb25kO1xyXG4gICAgY3R4LmFyYyh0aGlzLnggKyAyLCB0aGlzLnkgKyAyLCB0aGlzLndpZHRoIC8gMiwgMCwgMiAqIE1hdGguUEksIHRydWUpO1xyXG4gICAgY3R4LmZpbGwoKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdyb3dCdWxsZXQocGFyYW0gPSBCVUxMRVRfUEFSQU1TLmdyb3dBZnRlckJ1ZmYpIHtcclxuICBjdXJyZW50QnVsbGV0LnNpemUgKj0gcGFyYW07XHJcbiAgY3VycmVudEJ1bGxldC5kYW1hZ2UgKj0gcGFyYW07XHJcbiAgY3VycmVudEJ1bGxldC5zcGVlZERlY3JlYXNlICo9IHBhcmFtO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2hyaW5rQnVsbGV0KHBhcmFtID0gQlVMTEVUX1BBUkFNUy5ncm93QWZ0ZXJCdWZmKSB7XHJcbiAgY3VycmVudEJ1bGxldC5zaXplIC89IHBhcmFtO1xyXG4gIGN1cnJlbnRCdWxsZXQuZGFtYWdlIC89IHBhcmFtO1xyXG4gIGN1cnJlbnRCdWxsZXQuc3BlZWREZWNyZWFzZSAvPSBwYXJhbTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VCdWxsZXREZWZhdWx0KCkge1xyXG4gIGN1cnJlbnRCdWxsZXQuc2l6ZSA9IEJVTExFVF9QQVJBTVMuc2l6ZTtcclxuICBjdXJyZW50QnVsbGV0LmRhbWFnZSA9IEJVTExFVF9QQVJBTVMuZGFtYWdlO1xyXG4gIGN1cnJlbnRCdWxsZXQuc3BlZWREZWNyZWFzZSA9IEJVTExFVF9QQVJBTVMuc3BlZWREZWNyZWFzZTtcclxufSIsImltcG9ydCB7IFVuaXQgfSBmcm9tIFwiLi91bml0XCI7XHJcbmltcG9ydCB7IERVTU1ZX0VORU1ZX1BBUkFNUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XHJcblxyXG5leHBvcnQgY29uc3QgU1BFRUQgPSBEVU1NWV9FTkVNWV9QQVJBTVMuc3BlZWQ7XHJcbmV4cG9ydCBjb25zdCBCQVNFX0RVTU1ZX1NJWkUgPSBEVU1NWV9FTkVNWV9QQVJBTVMuc2l6ZTtcclxuXHJcbmV4cG9ydCBjbGFzcyBEdW1teUVuZW15IGV4dGVuZHMgVW5pdCB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBhbGZhWCwgYWxmYVksIHNwZWVkID0gU1BFRUQpIHtcclxuICAgIHN1cGVyKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgYWxmYVgsIGFsZmFZLCBzcGVlZCk7XHJcbiAgICB0aGlzLnNwcml0ZSA9IHtcclxuICAgICAgYmFzZVg6IDEsXHJcbiAgICAgIGJhc2VZOiAwLFxyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiB0aGlzLmdldFNwcml0ZUxheWVyVmFsdWUodGhpcy5kaXIueCwgdGhpcy5kaXIueSkgKiA1MCxcclxuICAgICAgd2lkdGg6IDM0LFxyXG4gICAgICBoZWlnaHQ6IDQ4LFxyXG4gICAgICBkZWx0YVg6IDUwLFxyXG4gICAgICBkZWx0YVk6IDUwXHJcbiAgICB9XHJcbiAgICB0aGlzLmltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmljZS1kZW1vbicpO1xyXG4gIH1cclxuXHJcbiAgc2V0TmV4dFNwcml0ZSgpIHtcclxuICAgIGlmICh0aGlzLnNwcml0ZS54IDwgMTAwKSB7XHJcbiAgICAgIHRoaXMuc3ByaXRlLnggKz0gdGhpcy5zcHJpdGUuZGVsdGFYO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zcHJpdGUueCA9IHRoaXMuc3ByaXRlLmJhc2VYO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGN0eCkge1xyXG4gICAgY29uc3QgeyBzcHJpdGUsIHgsIHksIHdpZHRoLCBoZWlnaHQsIGltYWdlIH0gPSB0aGlzO1xyXG4gICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgc3ByaXRlLngsIHNwcml0ZS55LCBzcHJpdGUud2lkdGgsIHNwcml0ZS5oZWlnaHQsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBnZXRTcHJpdGVMYXllclZhbHVlKHgsIHkpIHtcclxuICAgIGNvbnN0IHsgc3ByaXRlTGF5ZXIgfSA9IERVTU1ZX0VORU1ZX1BBUkFNUztcclxuICAgIGlmIChNYXRoLmFicyh4KSA+IE1hdGguYWJzKHkpKSB7XHJcbiAgICAgIHJldHVybiB4ID4gMCA/IHNwcml0ZUxheWVyLnJpZ2h0IDogc3ByaXRlTGF5ZXIubGVmdDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB5ID4gMCA/IHNwcml0ZUxheWVyLmJvdHRvbSA6IHNwcml0ZUxheWVyLnRvcDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVW5pdCB9IGZyb20gXCIuL3VuaXRcIjtcclxuaW1wb3J0IHsgSEVST19QQVJBTVMsIEJVRkZfUEFSQU1TIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcclxuXHJcbmNvbnN0IHZlbG9jaXR5ID0ge1xyXG4gIHNwZWVkOiAxLFxyXG4gIGFjY2VsZXJhdGlvbjogMC4wMDA1LFxyXG4gIG1heEFjY2VsZXJhdGlvblRpbWU6IDMwMDBcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEhlcm8gZXh0ZW5kcyBVbml0IHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoID0gSEVST19QQVJBTVMud2lkdGgsIGhlaWdodCA9IEhFUk9fUEFSQU1TLmhlaWdodCwgeCA9IEhFUk9fUEFSQU1TLnBvc1gsIHkgPSBIRVJPX1BBUkFNUy5wb3NZLCBhbGZhWCA9IDAsIGFsZmFZID0gMSwgc3BlZWQgPSB2ZWxvY2l0eS5zcGVlZCkge1xyXG4gICAgc3VwZXIoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBhbGZhWCwgYWxmYVksIHNwZWVkKTtcclxuICAgIHRoaXMuaXNJbW1vcnRhbCA9IGZhbHNlO1xyXG4gICAgdGhpcy5hY2NlbGVyYXRpb25TdGFydFRpbWUgPSAwO1xyXG4gICAgdGhpcy5jdXJyZW50QWNjZWxlcmF0aW9uVGltZXIgPSAnJztcclxuICAgIHRoaXMuY3VycmVudEJ1ZmZzID0gW11cclxuICAgIHRoaXMuc3ByaXRlID0ge1xyXG4gICAgICBiYXNlWDogMixcclxuICAgICAgYmFzZVk6IDEsXHJcbiAgICAgIHg6IDIsXHJcbiAgICAgIHk6IDEsXHJcbiAgICAgIHdpZHRoOiAyNyxcclxuICAgICAgaGVpZ2h0OiAzMixcclxuICAgICAgZGVsdGFYOiAzMixcclxuICAgICAgZGVsdGFZOiAzMlxyXG4gICAgfVxyXG4gICAgdGhpcy5pbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvLXNwcml0ZScpO1xyXG4gIH1cclxuXHJcbiAgc2V0TmV4dFNwcml0ZSgpIHtcclxuICAgIGlmICh0aGlzLnNwcml0ZS54IDwgNjQpIHtcclxuICAgICAgdGhpcy5zcHJpdGUueCArPSB0aGlzLnNwcml0ZS5kZWx0YVg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy5zcHJpdGUuYmFzZVg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoY3R4KSB7XHJcbiAgICBjb25zdCB7IHNwcml0ZSwgeCwgeSwgd2lkdGgsIGhlaWdodCwgaW1hZ2UgfSA9IHRoaXM7XHJcbiAgICBjb25zdCBzcGVlZExhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNwZWVkJyk7XHJcbiAgICBzcGVlZExhYmVsLmlubmVySFRNTCA9IH5+KHRoaXMuc3BlZWQgKiAxMDApIC8gMTAwO1xyXG4gICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgc3ByaXRlLngsIHNwcml0ZS55LCBzcHJpdGUud2lkdGgsIHNwcml0ZS5oZWlnaHQsIHgsIHksIHdpZHRoLCBoZWlnaHQpXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHVwZGF0ZVNwcml0ZURpcmVjdGlvbihkaXJlY3Rpb24pIHtcclxuICAgIHRoaXMuc3ByaXRlLnkgPSB0aGlzLnNwcml0ZS5iYXNlWSArIEhFUk9fUEFSQU1TLnNwcml0ZUxheWVyW2RpcmVjdGlvbl0gKiB0aGlzLnNwcml0ZS5kZWx0YVlcclxuICB9XHJcblxyXG4gIG1ha2VIZXJvU3BlZWRQYXJhbXNEZWZhdWx0KCkge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudEFjY2VsZXJhdGlvblRpbWVyKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jdXJyZW50QWNjZWxlcmF0aW9uVGltZXIpXHJcbiAgICB9XHJcbiAgICB0aGlzLnNwZWVkID0gdmVsb2NpdHkuc3BlZWQ7XHJcbiAgICB0aGlzLmFjY2VsZXJhdGlvblN0YXJ0VGltZSA9IDA7XHJcbiAgfVxyXG5cclxuICBzZXROZXdTcGVlZFRpbWVyKCkge1xyXG4gICAgY29uc3Qgc3RhcnRTcGVlZCA9IHRoaXMuc3BlZWQ7XHJcbiAgICB0aGlzLmFjY2VsZXJhdGlvblN0YXJ0VGltZSA9IDA7XHJcbiAgICB0aGlzLmN1cnJlbnRBY2NlbGVyYXRpb25UaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5hY2NlbGVyYXRpb25TdGFydFRpbWUgKz0gNTA7XHJcbiAgICAgIHRoaXMuc3BlZWQgPSBzdGFydFNwZWVkICsgdmVsb2NpdHkuYWNjZWxlcmF0aW9uICogdGhpcy5hY2NlbGVyYXRpb25TdGFydFRpbWU7XHJcbiAgICAgIGlmICh0aGlzLmFjY2VsZXJhdGlvblN0YXJ0VGltZSA+PSB2ZWxvY2l0eS5tYXhBY2NlbGVyYXRpb25UaW1lKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmN1cnJlbnRBY2NlbGVyYXRpb25UaW1lcik7XHJcbiAgICAgIH1cclxuICAgIH0sIDUwKTtcclxuICB9XHJcblxyXG4gIGRyYXdCdWZmcyhjdHgpIHtcclxuICAgIGNvbnN0IGFsbFRpbWUgPSBCVUZGX1BBUkFNUy5idWZmVGltZSAvIDEwMDA7XHJcbiAgICB0aGlzLmN1cnJlbnRCdWZmcy5mb3JFYWNoKChidWZmLCBpbmRleCkgPT4ge1xyXG4gICAgICBjdHguZmlsbFN0eWxlID0gYnVmZi50eXBlO1xyXG4gICAgICBjdHguZmlsbFJlY3QodGhpcy54LCB0aGlzLnkgLSAxMCAtIGluZGV4ICogMTAsIHRoaXMud2lkdGggKiAoYWxsVGltZSAtIGJ1ZmYudGltZSkgLyBhbGxUaW1lLCA3KTtcclxuICAgIH0pXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmNyZWFzZUhlcm9WZWxvY2l0eUJ5QnVmZihidWZmID0gQlVGRl9QQVJBTVMuc3BlZWRHcm93dGgpIHtcclxuICB2ZWxvY2l0eS5zcGVlZCAqPSBidWZmO1xyXG4gIHZlbG9jaXR5LmFjY2VsZXJhdGlvbiAqPSBidWZmO1xyXG4gIHZlbG9jaXR5Lm1heEFjY2VsZXJhdGlvblRpbWUgKj0gYnVmZjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlY3JlYXNlSGVyb1ZlbG9jaXR5QnlEZWJ1ZmYoZGVCdWZmID0gQlVGRl9QQVJBTVMuc3BlZWRHcm93dGgpIHtcclxuICB2ZWxvY2l0eS5zcGVlZCAvPSBkZUJ1ZmY7XHJcbiAgdmVsb2NpdHkuYWNjZWxlcmF0aW9uIC89IGRlQnVmZjtcclxuICB2ZWxvY2l0eS5tYXhBY2NlbGVyYXRpb25UaW1lIC89IGRlQnVmZjtcclxufSIsImltcG9ydCB7IFVuaXQgfSBmcm9tIFwiLi91bml0XCI7XHJcbmltcG9ydCB7IGdldENlbnRlckNvb3JkaW5hdGVzLCBpc0Rpc3RhbmNlQmV0d2VlblVuaXRzTW9yZVRoYW5TYWZlIH0gZnJvbSBcIi4uL3V0aWxzL2dlb21ldHJ5VXRpbHNcIjtcclxuaW1wb3J0IHsgU01BUlRfRU5FTVlfUEFSQU1TIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcclxuXHJcbmV4cG9ydCBjb25zdCBCQVNFX1NNQVJUX1NJWkUgPSBTTUFSVF9FTkVNWV9QQVJBTVMuc2l6ZTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydEVuZW15IGV4dGVuZHMgVW5pdCB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBhbGZhWCwgYWxmYVksIHNwZWVkID0gU01BUlRfRU5FTVlfUEFSQU1TLnNwZWVkKSB7XHJcbiAgICBzdXBlcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQpO1xyXG4gICAgdGhpcy5zcHJpdGUgPSB7XHJcbiAgICAgIGJhc2VYOiA2LFxyXG4gICAgICBiYXNlWTogMyxcclxuICAgICAgeDogNixcclxuICAgICAgeTogdGhpcy5nZXRTcHJpdGVMYXllclZhbHVlKHRoaXMuZGlyLngsIHRoaXMuZGlyLnkpICogNDggKyAzLFxyXG4gICAgICB3aWR0aDogMzQsXHJcbiAgICAgIGhlaWdodDogNDcsXHJcbiAgICAgIGRlbHRhWDogNDgsXHJcbiAgICAgIGRlbHRhWTogNDhcclxuICAgIH1cclxuICAgIHRoaXMuaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFzaHJvb20nKTtcclxuICAgIHRoaXMuZGVmZW5zZSA9IDA7XHJcbiAgfVxyXG5cclxuICBzZXROZXh0U3ByaXRlKCkge1xyXG4gICAgaWYgKHRoaXMuc3ByaXRlLnggPCA5Nikge1xyXG4gICAgICB0aGlzLnNwcml0ZS54ICs9IHRoaXMuc3ByaXRlLmRlbHRhWDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3ByaXRlLnggPSB0aGlzLnNwcml0ZS5iYXNlWDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5ld1BvcyhoZXJvKSB7XHJcbiAgICB0aGlzLnNwcml0ZS55ID0gdGhpcy5nZXRTcHJpdGVMYXllclZhbHVlKHRoaXMuZGlyLngsIHRoaXMuZGlyLnkpICogNDggKyB0aGlzLnNwcml0ZS5iYXNlWTtcclxuICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKGhlcm8pO1xyXG4gICAgc3VwZXIubmV3UG9zKCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHVwZGF0ZShjdHgpIHtcclxuICAgIGNvbnN0IHsgc3ByaXRlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBpbWFnZSB9ID0gdGhpcztcclxuICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIHNwcml0ZS54LCBzcHJpdGUueSwgc3ByaXRlLndpZHRoLCBzcHJpdGUuaGVpZ2h0LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgZ2V0U3ByaXRlTGF5ZXJWYWx1ZSh4LCB5KSB7XHJcbiAgICBjb25zdCB7IHNwcml0ZUxheWVyIH0gPSBTTUFSVF9FTkVNWV9QQVJBTVM7XHJcbiAgICBpZiAoTWF0aC5hYnMoeCkgPiBNYXRoLmFicyh5KSkge1xyXG4gICAgICByZXR1cm4geCA+IDAgPyBzcHJpdGVMYXllci5yaWdodCA6IHNwcml0ZUxheWVyLmxlZnQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4geSA+IDAgPyBzcHJpdGVMYXllci5ib3R0b20gOiBzcHJpdGVMYXllci50b3A7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaG93V2FybmluZ01lc3NhZ2UodGV4dCkge1xyXG4gICAgY29uc3QgeyBtZXNzYWdlIH0gPSBTTUFSVF9FTkVNWV9QQVJBTVM7XHJcbiAgICB0aGlzLmN0eC5mb250ID0gbWVzc2FnZS5mb250O1xyXG4gICAgdGhpcy5jdHguc3Ryb2tlVGV4dCh0ZXh0LCB0aGlzLnggKyBtZXNzYWdlLngsIHRoaXMueSAtIG1lc3NhZ2UueSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVEaXJlY3Rpb24oaGVybykge1xyXG4gICAgY29uc3QgZmVhclBhcmFtcyA9IGdldEZlYXJQYXJhbXMoaGVyby5pc0ltbW9ydGFsKTtcclxuICAgIGlmICghaXNEaXN0YW5jZUJldHdlZW5Vbml0c01vcmVUaGFuU2FmZShoZXJvLCB0aGlzLCBmZWFyUGFyYW1zLmRpc3RhbmNlKSkge1xyXG4gICAgICBjb25zdCBbaGVyb1gsIGhlcm9ZXSA9IGdldENlbnRlckNvb3JkaW5hdGVzKGhlcm8pO1xyXG4gICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoaGVyb1ggLSB0aGlzLnggLSB0aGlzLndpZHRoIC8gMiwgaGVyb1kgLSB0aGlzLnkgLSB0aGlzLmhlaWdodCAvIDIpICsgTWF0aC5QSTtcclxuICAgICAgdGhpcy5kaXIueSA9IGZlYXJQYXJhbXMuaXNGZWFyICogTWF0aC5jb3MoYW5nbGUpO1xyXG4gICAgICB0aGlzLmRpci54ID0gZmVhclBhcmFtcy5pc0ZlYXIgKiBNYXRoLnNpbihhbmdsZSk7XHJcbiAgICAgIHRoaXMuc2hvd1dhcm5pbmdNZXNzYWdlKGZlYXJQYXJhbXMubWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlYXQodW5pdCkge1xyXG4gICAgY29uc3QgeyBkZWZlbnNlSW5jcmVhc2UsIHNwZWVkSW5jcmVhc2UgfSA9IFNNQVJUX0VORU1ZX1BBUkFNUztcclxuICAgIGNvbnN0IGRlZmF1bHRTcGVlZCA9IFNNQVJUX0VORU1ZX1BBUkFNUy5zcGVlZDtcclxuICAgIGNvbnN0IG1hc3MxID0gdGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0O1xyXG4gICAgY29uc3QgbWFzczIgPSB1bml0LndpZHRoICogdW5pdC5oZWlnaHQ7XHJcbiAgICBjb25zdCBrID0gTWF0aC5wb3coKG1hc3MxICsgbWFzczIpIC8gbWFzczEsIDAuNSk7XHJcbiAgICB0aGlzLndpZHRoICo9IGs7XHJcbiAgICB0aGlzLmhlaWdodCAqPSBrO1xyXG4gICAgdGhpcy5kZWZlbnNlID0gTWF0aC5tYXgodGhpcy5kZWZlbnNlLCB1bml0LmRlZmVuc2UpICsgZGVmZW5zZUluY3JlYXNlO1xyXG4gICAgbGV0IG1heFNwZWVkID0gTWF0aC5tYXgodGhpcy5zcGVlZCwgdW5pdC5zcGVlZCk7XHJcbiAgICB0aGlzLnNwZWVkID0gbWF4U3BlZWQgPiBkZWZhdWx0U3BlZWQgPyBtYXhTcGVlZCArPSBzcGVlZEluY3JlYXNlIDogZGVmYXVsdFNwZWVkO1xyXG4gICAgdGhpcy54ID0gKHRoaXMueCAqIG1hc3MxICsgdW5pdC54ICogbWFzczIpIC8gKG1hc3MxICsgbWFzczIpO1xyXG4gICAgdGhpcy55ID0gKHRoaXMueSAqIG1hc3MxICsgdW5pdC55ICogbWFzczIpIC8gKG1hc3MxICsgbWFzczIpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RmVhclBhcmFtcyhpc0ZlYXIpIHtcclxuICBpZiAoaXNGZWFyKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkaXN0YW5jZTogU01BUlRfRU5FTVlfUEFSQU1TLmZlYXJEaXN0YW5jZSxcclxuICAgICAgaXNGZWFyOiAxLFxyXG4gICAgICBtZXNzYWdlOiAnWW91IGRvblxcJ3QgY2F0Y2ggbWUhJ1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkaXN0YW5jZTogU01BUlRfRU5FTVlfUEFSQU1TLnZpc2liaWxpdHlEaXN0YW5jZSxcclxuICAgICAgaXNGZWFyOiAtMSxcclxuICAgICAgbWVzc2FnZTogJ0kgc2VlIHlvdSEnXHJcbiAgICB9XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgbW92ZVRvQW5vdGhlclNpZGVJZkdvQmV5b25jZUNhbnZhcyB9IGZyb20gXCIuLi91dGlscy9nZW9tZXRyeVV0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVW5pdCB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBhbGZhWCwgYWxmYVksIHNwZWVkKSB7XHJcbiAgICB0aGlzLmN0eCA9IGN0eDtcclxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgICB0aGlzLmRpciA9IHtcclxuICAgICAgeDogYWxmYVgsXHJcbiAgICAgIHk6IGFsZmFZXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgbmV3UG9zKCkge1xyXG4gICAgdGhpcy54ICs9IHRoaXMuc3BlZWQgKiB0aGlzLmRpci54O1xyXG4gICAgdGhpcy55ICs9IHRoaXMuc3BlZWQgKiB0aGlzLmRpci55O1xyXG4gICAgbW92ZVRvQW5vdGhlclNpZGVJZkdvQmV5b25jZUNhbnZhcyh0aGlzLmN0eCwgdGhpcyk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaW5pdGlhbGl6ZUdhbWUgfSBmcm9tICcuL21haW4nO1xyXG5pbXBvcnQgeyBhZGRTbmFwc2hvdFRvUmVwbGF5LCBzaG93UmVwbGF5IH0gZnJvbSAnLi9yZXBsYXknO1xyXG5pbXBvcnQgeyBzaG91bGRFbmVteURpZUlmQnVsbGV0SGl0c0hpbSB9IGZyb20gJy4vdXRpbHMvZWZmZWN0c1V0aWxzJztcclxuaW1wb3J0IHsgYWRkSGVyb0NvbnRyb2xzIH0gZnJvbSBcIi4vdXRpbHMvY29udHJvbHNVdGlsc1wiO1xyXG5pbXBvcnQgeyBjbGVhckNhbnZhcyB9IGZyb20gJy4vdXRpbHMvY2FudmFzVXRpbHMnO1xyXG5pbXBvcnQgeyBpc0Rpc3RhbmNlQmV0d2VlblVuaXRzTW9yZVRoYW5TYWZlLCBpZlVuaXRzVG91Y2hFYWNoT3RoZXIsIGdldENlbnRlckNvb3JkaW5hdGVzLCBnZXRFbGVtZW50c0luc2lkZUNhbnZhcyB9IGZyb20gXCIuL3V0aWxzL2dlb21ldHJ5VXRpbHNcIjtcclxuaW1wb3J0IHsgdXBkYXRlTGV2ZWxMYWJlbCwgc2hvd1JlcGxheUJ1dHRvbiwgdXBkYXRlU2NvcmVMYWJlbCwgc2hvd0xvc2VNZXNzYWdlLCBzdWJzY3JpYmVUb1Nob3dSZXBsYXkgfSBmcm9tICcuL3V0aWxzL3VzZXJVdGlscyc7XHJcbmltcG9ydCB7IER1bW15RW5lbXksIEJBU0VfRFVNTVlfU0laRSwgU1BFRUQgYXMgRFVNTVlfU1BFQUQgfSBmcm9tIFwiLi9jcmVhdHVyZXMvZHVtbXlFbmVteVwiO1xyXG5pbXBvcnQgeyBTbWFydEVuZW15LCBCQVNFX1NNQVJUX1NJWkUgfSBmcm9tIFwiLi9jcmVhdHVyZXMvc21hcnRFbmVteVwiO1xyXG5pbXBvcnQgeyBCdWxsZXQsIG1ha2VCdWxsZXREZWZhdWx0IH0gZnJvbSBcIi4vY3JlYXR1cmVzL2J1bGxldFwiO1xyXG5pbXBvcnQgeyBIZXJvIH0gZnJvbSBcIi4vY3JlYXR1cmVzL2hlcm9cIjtcclxuaW1wb3J0IHsgUmFuZG9tQnVmZiB9IGZyb20gJy4vaXRlbXMvYnVmZnMvYnVmZkdlbmVyYXRvcic7XHJcbmltcG9ydCB7IExhbmRzY2FwZSB9IGZyb20gJy4vaXRlbXMvbGFuZHNjYXBlJztcclxuaW1wb3J0IHsgSU5URVJWQUxTLCBMVkxfQlVGRlMgfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZSB7XHJcbiAgY29uc3RydWN0b3IoY2FudmFzKSB7XHJcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gNzAwO1xyXG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gNzAwO1xyXG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblxyXG4gICAgdGhpcy5zdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgdGhpcy5jdXJyZW50VGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgdGhpcy5oZXJvID0gbmV3IEhlcm8odGhpcy5jdHgpO1xyXG4gICAgdGhpcy5sYW5kc2NhcGUgPSBuZXcgTGFuZHNjYXBlKHRoaXMuY3R4LCA5NiwgNzIpXHJcbiAgICB0aGlzLmR1bW15RW5lbWllcyA9IFtdO1xyXG4gICAgdGhpcy5zbWFydEVuZW1pZXMgPSBbXTtcclxuICAgIHRoaXMuaGVyb0J1bGxldHMgPSBbXTtcclxuICAgIHRoaXMudGltZXJzID0gW107XHJcbiAgICB0aGlzLmx2bCA9IDE7XHJcbiAgICB0aGlzLmJ1ZmZJdGVtID0gJyc7XHJcbiAgICB0aGlzLnJlcGxheSA9IHsgbGFuZHNjYXBlOiB0aGlzLmxhbmRzY2FwZSwgdW5pdHM6IFtdIH07XHJcbiAgICB0aGlzLmRyYXdMYW5kc2NhcGUoKTtcclxuICAgIHRoaXMuaGFuZGxlSGVyb1Bvc2l0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBzdGFydCgpIHtcclxuICAgIGNvbnN0IHRpbWVyMSA9IHNldEludGVydmFsKCgpID0+IHRoaXMudXBkYXRlR2FtZVN0YXRlKCksIElOVEVSVkFMUy51cGRhdGVHYW1lU3RhdGUpO1xyXG4gICAgY29uc3QgdGltZXIyID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy51cGRhdGVTcHJpdGVzKCksIElOVEVSVkFMUy51cGRhdGVTcHJpdGVzKTtcclxuICAgIGNvbnN0IHRpbWVyMyA9IHNldEludGVydmFsKCgpID0+IHRoaXMuYWRkRW5lbXkodGhpcy5zbWFydEVuZW1pZXMsIFNtYXJ0RW5lbXksIEJBU0VfU01BUlRfU0laRSksIElOVEVSVkFMUy5hZGRTbWFydEVuZW15KTtcclxuICAgIGNvbnN0IHRpbWVyNCA9IHNldEludGVydmFsKCgpID0+IHRoaXMuYWRkRW5lbXkodGhpcy5kdW1teUVuZW1pZXMsIER1bW15RW5lbXksIEJBU0VfRFVNTVlfU0laRSksIElOVEVSVkFMUy5hZGREdW1teUVuZW15KTtcclxuICAgIGNvbnN0IHRpbWVyNSA9IHNldEludGVydmFsKCgpID0+IHRoaXMuYWRkQnVmZkl0ZW0oKSwgSU5URVJWQUxTLmFkZEJ1ZmZJdGVtKTtcclxuICAgIGNvbnN0IHRpbWVyNiA9IHNldEludGVydmFsKCgpID0+IHRoaXMubHZsVXAoKSwgSU5URVJWQUxTLmx2bFVwKVxyXG4gICAgdGhpcy50aW1lcnMucHVzaCh0aW1lcjEsIHRpbWVyMiwgdGltZXIzLCB0aW1lcjQsIHRpbWVyNSwgdGltZXI2KTtcclxuICAgIGFkZEhlcm9Db250cm9scyh0aGlzLmhlcm8sICh4LCB5KSA9PiB0aGlzLmFkZEJ1bGxldCh4LCB5KSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVHYW1lU3RhdGUoKSB7XHJcbiAgICB0aGlzLnVwZGF0ZUNhbnZhc1N0YXRlKCk7XHJcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gdXBkYXRlU2NvcmVMYWJlbCh0aGlzLmN1cnJlbnRUaW1lLCB0aGlzLnN0YXJ0VGltZSk7XHJcbiAgICBhZGRTbmFwc2hvdFRvUmVwbGF5KHRoaXMucmVwbGF5LnVuaXRzLCB0aGlzLmN1cnJlbnRUaW1lIC0gdGhpcy5zdGFydFRpbWUsIHRoaXMuaGVybywgdGhpcy5kdW1teUVuZW1pZXMsIHRoaXMuc21hcnRFbmVtaWVzLCB0aGlzLmhlcm9CdWxsZXRzLCB0aGlzLmJ1ZmZJdGVtLCB0aGlzLmx2bCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTcHJpdGVzKCkge1xyXG4gICAgY29uc3QgdW5pdHMgPSBbdGhpcy5oZXJvLCAuLi50aGlzLmR1bW15RW5lbWllcywgLi4udGhpcy5zbWFydEVuZW1pZXNdO1xyXG4gICAgdW5pdHMuZm9yRWFjaChzcHJpdGUgPT4gc3ByaXRlLnNldE5leHRTcHJpdGUoKSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVDYW52YXNTdGF0ZSgpIHtcclxuICAgIGNsZWFyQ2FudmFzKHRoaXMuY3R4KTtcclxuICAgIHRoaXMuZHJhd0xhbmRzY2FwZSgpO1xyXG4gICAgdGhpcy5oYW5kbGVIZXJvRGVhdGgoKTtcclxuICAgIHRoaXMuaGFuZGxlSGVyb1Bvc2l0aW9uKCk7XHJcbiAgICB0aGlzLmhhbmRsZUJ1ZmZJdGVtUG9zaXRpb24oKTtcclxuICAgIHRoaXMuaGVyb0J1bGxldHMgPSBnZXRFbGVtZW50c0luc2lkZUNhbnZhcyh0aGlzLmN0eCwgdGhpcy5oZXJvQnVsbGV0cyk7XHJcbiAgICB0aGlzLmhhbmRsZUR1bW15RW5lbWllc1Bvc2l0aW9uKCk7XHJcbiAgICB0aGlzLmhhbmRsZVNtYXJ0RW5lbWllc1Bvc2l0aW9uKCk7XHJcbiAgICB0aGlzLmhhbmRsZUVuZW1pZXNEZWF0aCgpO1xyXG4gICAgdGhpcy5oYW5kbGVCdWZmcygpO1xyXG4gIH1cclxuXHJcbiAgZHJhd0xhbmRzY2FwZSgpIHtcclxuICAgIHRoaXMubGFuZHNjYXBlLmRyYXcodGhpcy5jdHgpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlSGVyb1Bvc2l0aW9uKCkge1xyXG4gICAgdGhpcy5oZXJvLm5ld1BvcygpLnVwZGF0ZSh0aGlzLmN0eCkuZHJhd0J1ZmZzKHRoaXMuY3R4KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUJ1ZmZJdGVtUG9zaXRpb24oKSB7XHJcbiAgICB0aGlzLmJ1ZmZJdGVtICYmIHRoaXMuYnVmZkl0ZW0uZHJhdyh0aGlzLmN0eCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVEdW1teUVuZW1pZXNQb3NpdGlvbigpIHtcclxuICAgIHRoaXMuZHVtbXlFbmVtaWVzLmZvckVhY2goZW5lbXkgPT4gZW5lbXkubmV3UG9zKCkudXBkYXRlKHRoaXMuY3R4KSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTbWFydEVuZW1pZXNQb3NpdGlvbigpIHtcclxuICAgIHRoaXMuc21hcnRFbmVtaWVzID0gdGhpcy5zbWFydEVuZW1pZXMucmVkdWNlKChuZXdBcnJheSwgY3VycmVudEVuZW15KSA9PiB7XHJcbiAgICAgIGlmIChuZXdBcnJheS5zb21lKGVuZW15ID0+IGlmVW5pdHNUb3VjaEVhY2hPdGhlcihlbmVteSwgY3VycmVudEVuZW15KSkpIHtcclxuICAgICAgICByZXR1cm4gbmV3QXJyYXk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgc2Vjb25kRW5lbXkgPSB0aGlzLnNtYXJ0RW5lbWllcy5maW5kKGVuZW15ID0+IGlmVW5pdHNUb3VjaEVhY2hPdGhlcihlbmVteSwgY3VycmVudEVuZW15KSAmJiAoZW5lbXkgIT09IGN1cnJlbnRFbmVteSkpXHJcbiAgICAgIGlmIChzZWNvbmRFbmVteSkge1xyXG4gICAgICAgIGN1cnJlbnRFbmVteS5lYXQoc2Vjb25kRW5lbXkpO1xyXG4gICAgICB9XHJcbiAgICAgIG5ld0FycmF5LnB1c2goY3VycmVudEVuZW15KTtcclxuICAgICAgcmV0dXJuIG5ld0FycmF5O1xyXG4gICAgfSwgW10pO1xyXG4gICAgdGhpcy5zbWFydEVuZW1pZXMuZm9yRWFjaChjdXJyZW50RW5lbXkgPT4gY3VycmVudEVuZW15Lm5ld1Bvcyh0aGlzLmhlcm8pLnVwZGF0ZSh0aGlzLmN0eCkpXHJcbiAgfVxyXG5cclxuICBoYW5kbGVFbmVtaWVzRGVhdGgoKSB7XHJcbiAgICBjb25zdCBuZXdTbWFydEVuZW1pZXMgPSBbXTtcclxuICAgIGNvbnN0IG5ld0R1bW15RW5lbWllcyA9IFtdO1xyXG4gICAgY29uc3QgbmV3QnVsbGV0cyA9IFtdO1xyXG4gICAgY29uc3QgYWxsRW5lbWllcyA9IFsuLi50aGlzLnNtYXJ0RW5lbWllcywgLi4udGhpcy5kdW1teUVuZW1pZXNdXHJcblxyXG4gICAgdGhpcy5zbWFydEVuZW1pZXMuZm9yRWFjaChlbmVteSA9PiB7XHJcbiAgICAgIGlmICghdGhpcy5oZXJvQnVsbGV0cy5zb21lKGJ1bGxldCA9PiBzaG91bGRFbmVteURpZUlmQnVsbGV0SGl0c0hpbShlbmVteSwgYnVsbGV0KSkpIHtcclxuICAgICAgICBuZXdTbWFydEVuZW1pZXMucHVzaChlbmVteSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHRoaXMuZHVtbXlFbmVtaWVzLmZvckVhY2goZW5lbXkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMuaGVyb0J1bGxldHMuc29tZShidWxsZXQgPT4gc2hvdWxkRW5lbXlEaWVJZkJ1bGxldEhpdHNIaW0oZW5lbXksIGJ1bGxldCkpKSB7XHJcbiAgICAgICAgbmV3RHVtbXlFbmVtaWVzLnB1c2goZW5lbXkpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICB0aGlzLmhlcm9CdWxsZXRzLmZvckVhY2goYnVsbGV0ID0+IHtcclxuICAgICAgaWYgKCFhbGxFbmVtaWVzLnNvbWUoZW5lbXkgPT4gc2hvdWxkRW5lbXlEaWVJZkJ1bGxldEhpdHNIaW0oZW5lbXksIGJ1bGxldCkpKSB7XHJcbiAgICAgICAgbmV3QnVsbGV0cy5wdXNoKGJ1bGxldClcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHRoaXMuc21hcnRFbmVtaWVzID0gbmV3U21hcnRFbmVtaWVzO1xyXG4gICAgdGhpcy5kdW1teUVuZW1pZXMgPSBuZXdEdW1teUVuZW1pZXM7XHJcbiAgICB0aGlzLmhlcm9CdWxsZXRzID0gbmV3QnVsbGV0cztcclxuICB9XHJcblxyXG4gIGhhbmRsZUhlcm9EZWF0aCgpIHtcclxuICAgIGlmICghdGhpcy5oZXJvLmlzSW1tb3J0YWwpIHtcclxuICAgICAgY29uc3QgZW5lbWllcyA9IFsuLi50aGlzLmR1bW15RW5lbWllcywgLi4udGhpcy5zbWFydEVuZW1pZXNdO1xyXG4gICAgICBpZiAoZW5lbWllcy5zb21lKGVuZW15ID0+IGlmVW5pdHNUb3VjaEVhY2hPdGhlcih0aGlzLmhlcm8sIGVuZW15LCAxMCkpKSB7XHJcbiAgICAgICAgdGhpcy5maW5pc2hHYW1lKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZpbmlzaEdhbWUoKSB7XHJcbiAgICB0aGlzLnN0b3BHYW1lQW5kQ2xlYXJTdGF0ZSgpO1xyXG4gICAgc2hvd1JlcGxheUJ1dHRvbigpO1xyXG4gICAgc2hvd0xvc2VNZXNzYWdlKCk7XHJcbiAgICBzdWJzY3JpYmVUb1Nob3dSZXBsYXkoKCkgPT4gc2hvd1JlcGxheSh0aGlzLnJlcGxheSwgdGhpcy5jdHgpKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBpbml0aWFsaXplR2FtZSwgeyBvbmNlOiB0cnVlIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RvcEdhbWVBbmRDbGVhclN0YXRlKCkge1xyXG4gICAgdGhpcy50aW1lcnMubWFwKHRpbWVyID0+IGNsZWFySW50ZXJ2YWwodGltZXIpKTtcclxuICAgIHRoaXMuaGVyby5jdXJyZW50QnVmZnMubWFwKGJ1ZmYgPT4gY2xlYXJJbnRlcnZhbChidWZmLnRpbWVyKSk7XHJcbiAgICBtYWtlQnVsbGV0RGVmYXVsdCgpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQnVmZnMoKSB7XHJcbiAgICBpZiAoaWZVbml0c1RvdWNoRWFjaE90aGVyKHRoaXMuaGVybywgdGhpcy5idWZmSXRlbSkpIHtcclxuICAgICAgdGhpcy5idWZmSXRlbS5hY3RpdmF0ZUJ1ZmYodGhpcyk7XHJcbiAgICAgIHRoaXMuYnVmZkl0ZW0gPSAnJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbHZsVXAoKSB7XHJcbiAgICB0aGlzLmFkZEVuZW15U3RhY2sodGhpcy5kdW1teUVuZW1pZXMsIER1bW15RW5lbXksIEJBU0VfRFVNTVlfU0laRSk7XHJcbiAgICB0aGlzLmx2bCsrO1xyXG4gICAgdXBkYXRlTGV2ZWxMYWJlbCh0aGlzLmx2bCk7XHJcbiAgfVxyXG5cclxuICBhZGRFbmVteShlbmVteUFycmF5LCBjcmVhdHVyZUNvbnN0cnVjdG9yLCBiYXNlU2l6ZSkge1xyXG4gICAgY29uc3QgeyBzaXplLCB4LCB5LCBhbGZhWCwgYWxmYVkgfSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21Qb3NpdGlvbkFuZERpcmVjdGlvbih0aGlzLmhlcm8sIGJhc2VTaXplKTtcclxuICAgIGNvbnN0IGVuZW15ID0gbmV3IGNyZWF0dXJlQ29uc3RydWN0b3IodGhpcy5jdHgsIHNpemUgKiAwLjgsIHNpemUsIHgsIHksIGFsZmFYLCBhbGZhWSwgRFVNTVlfU1BFQUQgKyBMVkxfQlVGRlMuc3BlZWRJbmNyZWFzZSAqIHRoaXMubHZsKTtcclxuICAgIGVuZW15QXJyYXkucHVzaChlbmVteSk7XHJcbiAgfVxyXG5cclxuICBhZGRFbmVteVN0YWNrKGVuZW15QXJyYXksIGNyZWF0dXJlQ29uc3RydWN0b3IsIGJhc2VTaXplKSB7XHJcbiAgICBjb25zdCB7IHNpemUsIHgsIHksIGFsZmFYLCBhbGZhWSB9ID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVBvc2l0aW9uQW5kRGlyZWN0aW9uKHRoaXMuaGVybywgYmFzZVNpemUpO1xyXG4gICAgY29uc3QgZW5lbXkgPSBuZXcgY3JlYXR1cmVDb25zdHJ1Y3Rvcih0aGlzLmN0eCwgc2l6ZSAqIDAuOCwgc2l6ZSwgeCwgeSwgYWxmYVgsIGFsZmFZLCBEVU1NWV9TUEVBRCArIExWTF9CVUZGUy5zcGVlZEluY3JlYXNlICogdGhpcy5sdmwpO1xyXG4gICAgZW5lbXlBcnJheS5wdXNoKGVuZW15KTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sdmw7IGkrKykge1xyXG4gICAgICBjb25zdCB7IHNpemUsIHgsIHkgfSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21Qb3NpdGlvbkFuZERpcmVjdGlvbihlbmVteSwgYmFzZVNpemUsIHRydWUsIDEwMCk7XHJcbiAgICAgIGNvbnN0IG5ld0VuZW15ID0gbmV3IGNyZWF0dXJlQ29uc3RydWN0b3IodGhpcy5jdHgsIHNpemUgKiAwLjgsIHNpemUsIHgsIHksIGFsZmFYLCBhbGZhWSwgRFVNTVlfU1BFQUQgKyBMVkxfQlVGRlMuc3BlZWRJbmNyZWFzZSAqIHRoaXMubHZsKTtcclxuICAgICAgZW5lbXlBcnJheS5wdXNoKG5ld0VuZW15KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFkZEJ1bGxldCh4LCB5KSB7XHJcbiAgICBjb25zdCBbaGVyb1gsIGhlcm9ZXSA9IGdldENlbnRlckNvb3JkaW5hdGVzKHRoaXMuaGVybyk7XHJcbiAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoaGVyb1ggLSB4LCBoZXJvWSAtIHkpICsgTWF0aC5QSTtcclxuICAgIGNvbnN0IGJ1bGxldCA9IG5ldyBCdWxsZXQodGhpcy5jdHgsIGhlcm9YLCBoZXJvWSwgTWF0aC5zaW4oYW5nbGUpLCBNYXRoLmNvcyhhbmdsZSkpO1xyXG4gICAgdGhpcy5oZXJvQnVsbGV0cy5wdXNoKGJ1bGxldCk7XHJcbiAgfVxyXG5cclxuICBhZGRCdWZmSXRlbSgpIHtcclxuICAgIGNvbnN0IHNpemUgPSAyMDtcclxuICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVBvc2l0aW9uQW5kRGlyZWN0aW9uKHRoaXMuaGVybywgMCk7XHJcbiAgICBjb25zdCBidWZmSXRlbSA9IG5ldyBSYW5kb21CdWZmKHRoaXMuY3R4LCBzaXplLCBzaXplLCB4LCB5KTtcclxuICAgIHRoaXMuYnVmZkl0ZW0gPSBidWZmSXRlbTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlUmFuZG9tUG9zaXRpb25BbmREaXJlY3Rpb24oaGVybywgYmFzZVNpemUsIGlzSW5zaWRlQ2lyY2xlID0gZmFsc2UsIGRpc3RhbmNlID0gMjAwKSB7XHJcbiAgICBsZXQgeCwgeSwgY29uZGl0aW9uO1xyXG4gICAgY29uc3Qgc2l6ZSA9IE1hdGgucmFuZG9tKCkgKiAyMCArIGJhc2VTaXplICsgdGhpcy5sdmwgKiBMVkxfQlVGRlMuc2l6ZUluY3JlYXNlO1xyXG4gICAgY29uc3QgYWxmYVggPSBNYXRoLnJhbmRvbSgpICogMiAtIDE7XHJcbiAgICBjb25zdCBhbGZhWSA9IE1hdGgucmFuZG9tKCkgKiAyIC0gMTtcclxuXHJcbiAgICBkbyB7XHJcbiAgICAgIHggPSBNYXRoLnJhbmRvbSgpICogdGhpcy5jdHguY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgICB5ID0gTWF0aC5yYW5kb20oKSAqIHRoaXMuY3R4LmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcbiAgICAgIGNvbnN0IG5ld1VuaXQgPSB7IHgsIHksIHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUgfTtcclxuICAgICAgY29uZGl0aW9uID0gaXNEaXN0YW5jZUJldHdlZW5Vbml0c01vcmVUaGFuU2FmZShoZXJvLCBuZXdVbml0LCBkaXN0YW5jZSk7XHJcbiAgICB9IHdoaWxlIChpc0luc2lkZUNpcmNsZSA/IGNvbmRpdGlvbiA6ICFjb25kaXRpb24pO1xyXG5cclxuICAgIHJldHVybiB7IHgsIHksIGFsZmFYLCBhbGZhWSwgc2l6ZSB9O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBTd29yZCB9IGZyb20gJy4vc3dvcmQnO1xyXG5pbXBvcnQgeyBTaGllbGQgfSBmcm9tICcuL3NoaWVsZCc7XHJcbmltcG9ydCB7IFNob2VzIH0gZnJvbSAnLi9zaG9lcyc7XHJcblxyXG5leHBvcnQgY29uc3QgYnVmZlR5cGVzID0gW3tcclxuICBzZWxlY3RvcjogJy5zd29yZCcsXHJcbiAgY29uc3RydWN0b3I6IFN3b3JkLFxyXG4gIGNvbG9yOiAncmVkJ1xyXG59LCB7XHJcbiAgc2VsZWN0b3I6ICcuc2hpZWxkJyxcclxuICBjb25zdHJ1Y3RvcjogU2hpZWxkLFxyXG4gIGNvbG9yOiAnYmxhY2snXHJcbn0sIHtcclxuICBzZWxlY3RvcjogJy5zaG9lcycsXHJcbiAgY29uc3RydWN0b3I6IFNob2VzLFxyXG4gIGNvbG9yOiAnYmx1ZSdcclxufV1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBSYW5kb21CdWZmKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSkge1xyXG4gIGNvbnN0IGJ1ZmZUeXBlID0gYnVmZlR5cGVzW35+KE1hdGgucmFuZG9tKCkgKiAzKV1cclxuICBjb25zdCBidWZmID0gYnVmZlR5cGUuY29uc3RydWN0b3JcclxuICByZXR1cm4gbmV3IGJ1ZmYoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBidWZmVHlwZS5zZWxlY3Rvcik7XHJcbn07IiwiXHJcbmV4cG9ydCBjbGFzcyBJdGVtIHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIHNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLmN0eCA9IGN0eDtcclxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgICB0aGlzLnNwcml0ZSA9IHtcclxuICAgICAgeDogMCxcclxuICAgICAgeTogMCxcclxuICAgICAgd2lkdGg6IDE2LFxyXG4gICAgICBoZWlnaHQ6IDE2LFxyXG4gICAgfVxyXG4gICAgdGhpcy5pbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZHJhdyhjdHgpIHtcclxuICAgIGNvbnN0IHsgaW1hZ2UsIHNwcml0ZSwgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gdGhpc1xyXG4gICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgc3ByaXRlLngsIHNwcml0ZS55LCBzcHJpdGUud2lkdGgsIHNwcml0ZS5oZWlnaHQsIHgsIHksIHdpZHRoLCBoZWlnaHQpXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vaXRlbSc7XHJcbmltcG9ydCB7IGFkZEJ1ZmZJbmRpY2F0b3IgfSBmcm9tICcuLi8uLi91dGlscy9lZmZlY3RzVXRpbHMnXHJcbmltcG9ydCB7IGJ1ZmZUeXBlcyB9IGZyb20gJy4vYnVmZkdlbmVyYXRvcic7XHJcblxyXG5leHBvcnQgY2xhc3MgU2hpZWxkIGV4dGVuZHMgSXRlbSB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCB0eXBlKSB7XHJcbiAgICBzdXBlcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIHR5cGUpO1xyXG4gIH1cclxuXHJcbiAgYWN0aXZhdGVCdWZmKGdhbWVPYmplY3QpIHtcclxuICAgIGFkZEJ1ZmZJbmRpY2F0b3IoZ2FtZU9iamVjdC5oZXJvLCBidWZmVHlwZXNbMV0uY29sb3IpO1xyXG4gICAgZ2FtZU9iamVjdC5oZXJvLmlzSW1tb3J0YWwgPSB0cnVlO1xyXG4gIH1cclxufSIsImltcG9ydCB7IEl0ZW0gfSBmcm9tICcuL2l0ZW0nO1xyXG5pbXBvcnQgeyBpbmNyZWFzZUhlcm9WZWxvY2l0eUJ5QnVmZiwgZGVjcmVhc2VIZXJvVmVsb2NpdHlCeURlYnVmZiB9IGZyb20gJy4uLy4uL2NyZWF0dXJlcy9oZXJvJztcclxuaW1wb3J0IHsgYWRkQnVmZkluZGljYXRvciB9IGZyb20gJy4uLy4uL3V0aWxzL2VmZmVjdHNVdGlscydcclxuaW1wb3J0IHsgYnVmZlR5cGVzIH0gZnJvbSAnLi9idWZmR2VuZXJhdG9yJztcclxuaW1wb3J0IHsgQlVGRl9QQVJBTVMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNob2VzIGV4dGVuZHMgSXRlbSB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCB0eXBlKSB7XHJcbiAgICBzdXBlcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIHR5cGUpO1xyXG4gIH1cclxuXHJcbiAgYWN0aXZhdGVCdWZmKGdhbWVPYmplY3QpIHtcclxuICAgIGNvbnN0IHZhbHVlID0gNTtcclxuICAgIGFkZEJ1ZmZJbmRpY2F0b3IoZ2FtZU9iamVjdC5oZXJvLCBidWZmVHlwZXNbMl0uY29sb3IpO1xyXG4gICAgaW5jcmVhc2VIZXJvVmVsb2NpdHlCeUJ1ZmYoKTtcclxuICAgIGNvbnN0IGVuZW1pZXMgPSBbLi4uZ2FtZU9iamVjdC5zbWFydEVuZW1pZXMsIC4uLmdhbWVPYmplY3QuZHVtbXlFbmVtaWVzXTtcclxuICAgIGVuZW1pZXMuZm9yRWFjaChlbmVteSA9PiBlbmVteS5zcGVlZCAvPSB2YWx1ZSk7XHJcblxyXG4gICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgZGVjcmVhc2VIZXJvVmVsb2NpdHlCeURlYnVmZigpO1xyXG4gICAgICBlbmVtaWVzLmZvckVhY2goZW5lbXkgPT4gZW5lbXkuc3BlZWQgKj0gdmFsdWUpO1xyXG4gICAgfSwgQlVGRl9QQVJBTVMuYnVmZlRpbWUpXHJcbiAgICBnYW1lT2JqZWN0LnRpbWVycy5wdXNoKHRpbWVyKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBJdGVtIH0gZnJvbSAnLi9pdGVtJztcclxuaW1wb3J0IHsgZ3Jvd0J1bGxldCwgc2hyaW5rQnVsbGV0IH0gZnJvbSAnLi4vLi4vY3JlYXR1cmVzL2J1bGxldCc7XHJcbmltcG9ydCB7IGFkZEJ1ZmZJbmRpY2F0b3IgfSBmcm9tICcuLi8uLi91dGlscy9lZmZlY3RzVXRpbHMnXHJcbmltcG9ydCB7IGJ1ZmZUeXBlcyB9IGZyb20gJy4vYnVmZkdlbmVyYXRvcic7XHJcbmltcG9ydCB7IEJVRkZfUEFSQU1TIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTd29yZCBleHRlbmRzIEl0ZW0ge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgdHlwZSkge1xyXG4gICAgc3VwZXIoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCB0eXBlKTtcclxuICB9XHJcblxyXG4gIGFjdGl2YXRlQnVmZihnYW1lT2JqZWN0KSB7XHJcbiAgICBhZGRCdWZmSW5kaWNhdG9yKGdhbWVPYmplY3QuaGVybywgYnVmZlR5cGVzWzBdLmNvbG9yKTtcclxuICAgIGdyb3dCdWxsZXQoKTtcclxuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBzaHJpbmtCdWxsZXQoKSwgQlVGRl9QQVJBTVMuYnVmZlRpbWUpO1xyXG4gICAgZ2FtZU9iamVjdC50aW1lcnMucHVzaCh0aW1lcik7XHJcbiAgfVxyXG59IiwiXHJcbmV4cG9ydCBjbGFzcyBMYW5kc2NhcGUge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgdGhpcy5jdHggPSBjdHg7XHJcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgIHRoaXMuY2FudmFzV2lkdGggPSBjdHguY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgdGhpcy5jYW52YXNIZWlnaHQgPSBjdHguY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgdGhpcy5zcHJpdGUgPSB7XHJcbiAgICAgIHg6IDAsXHJcbiAgICAgIHk6IDAsXHJcbiAgICAgIHdpZHRoOiA5NixcclxuICAgICAgaGVpZ2h0OiA3MixcclxuICAgIH1cclxuICAgIHRoaXMuaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGFuZHNjYXBlJyk7XHJcbiAgfVxyXG5cclxuICBkcmF3KGN0eCkge1xyXG4gICAgY29uc3QgeyBpbWFnZSwgc3ByaXRlLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzXHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGNhbnZhc1dpZHRoOyB4ICs9IHdpZHRoKSB7XHJcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgY2FudmFzSGVpZ2h0OyB5ICs9IGhlaWdodCkge1xyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIHNwcml0ZS54LCBzcHJpdGUueSwgc3ByaXRlLndpZHRoLCBzcHJpdGUuaGVpZ2h0LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuL2dhbWVcIjtcclxuXHJcbmltcG9ydCB7IGhpZGVSZXBsYXlCdXR0b24gfSBmcm9tICcuL3V0aWxzL3VzZXJVdGlscyc7XHJcbmltcG9ydCBSb3V0ZXIgZnJvbSAnLi91dGlscy9yb3V0ZXInO1xyXG5pbXBvcnQgcm91dGVzIGZyb20gJy4vcm91dGVzJztcclxuXHJcbmV4cG9ydCBsZXQgZ2FtZTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplR2FtZSgpIHtcclxuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiY2FudmFzXCIpO1xyXG4gIGhpZGVSZXBsYXlCdXR0b24oKTtcclxuICBnYW1lID0gbmV3IEdhbWUoY2FudmFzKTtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3BlZWQnKS5pbm5lckhUTUwgPSAwO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY29yZScpLmlubmVySFRNTCA9IDA7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHN0YXJ0R2FtZSwgeyBvbmNlOiB0cnVlIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRHYW1lKCkge1xyXG4gIGdhbWUuc3RhcnQoKTtcclxufVxyXG5cclxubmV3IFJvdXRlcihyb3V0ZXMpO1xyXG5cclxuIiwiaW1wb3J0IHsgaW5pdGlhbGl6ZUdhbWUgfSBmcm9tICcuL21haW4nO1xyXG5pbXBvcnQgeyBoaWRlUmVwbGF5QnV0dG9uLCB1cGRhdGVMZXZlbExhYmVsIH0gZnJvbSAnLi91dGlscy91c2VyVXRpbHMnO1xyXG5pbXBvcnQgeyBjbGVhckNhbnZhcyB9IGZyb20gJy4vdXRpbHMvY2FudmFzVXRpbHMnO1xyXG5pbXBvcnQgeyBJTlRFUlZBTFMgfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkU25hcHNob3RUb1JlcGxheSh1bml0cywgdGltZSwgaGVybywgZHVtbXlFbmVtaWVzLCBzbWFydEVuZW1pZXMsIGhlcm9CdWxsZXRzLCBidWZmSXRlbSwgbHZsKSB7XHJcbiAgdW5pdHMucHVzaChnZXRSZXBsYXlTbmFwc2hvdE9iamVjdCh0aW1lLCBoZXJvLCBkdW1teUVuZW1pZXMsIHNtYXJ0RW5lbWllcywgaGVyb0J1bGxldHMsIGJ1ZmZJdGVtLCBsdmwpKVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRSZXBsYXlTbmFwc2hvdE9iamVjdCh0aW1lLCBoZXJvLCBkdW1teUVuZW1pZXMsIHNtYXJ0RW5lbWllcywgaGVyb0J1bGxldHMsIGJ1ZmZJdGVtLCBsdmwpIHtcclxuICByZXR1cm4ge1xyXG4gICAgdGltZTogdGltZSxcclxuICAgIGhlcm86IHsgdW5pdDogaGVybywgcG9zWDogfn5oZXJvLngsIHBvc1k6IH5+aGVyby55LCBzcHJpdGVYOiBoZXJvLnNwcml0ZS54LCBzcHJpdGVZOiBoZXJvLnNwcml0ZS55LCBzcGVlZDogaGVyby5zcGVlZCB9LFxyXG4gICAgZHVtbXlFbmVtaWVzOiBnZXRSZXBsYXlJdGVtc0FycmF5KGR1bW15RW5lbWllcyksXHJcbiAgICBzbWFydEVuZW1pZXM6IGdldFJlcGxheUl0ZW1zQXJyYXkoc21hcnRFbmVtaWVzKSxcclxuICAgIGhlcm9CdWxsZXRzOiBnZXRSZXBsYXlJdGVtc0FycmF5KGhlcm9CdWxsZXRzKSxcclxuICAgIGJ1ZmZJdGVtOiBidWZmSXRlbSxcclxuICAgIGx2bDogbHZsXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRSZXBsYXlJdGVtc0FycmF5KGFycmF5KSB7XHJcbiAgcmV0dXJuIGFycmF5Lm1hcChpdGVtID0+XHJcbiAgICAoeyB1bml0OiBpdGVtLCBwb3NYOiB+fml0ZW0ueCwgcG9zWTogfn5pdGVtLnksIHdpZHRoOiB+fml0ZW0ud2lkdGgsIGhlaWdodDogfn5pdGVtLmhlaWdodCB9KSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dSZXBsYXkocmVwbGF5LCBjdHgpIHtcclxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaW5pdGlhbGl6ZUdhbWUpXHJcbiAgbGV0IGZyYW1lID0gMDtcclxuXHJcbiAgcmVwbGF5LnNwcml0ZVRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgdXBkYXRlU3ByaXRlc0Zyb21SZXBsYXlTbmFwc2hvdChyZXBsYXkudW5pdHNbZnJhbWVdKTtcclxuICB9LCBJTlRFUlZBTFMudXBkYXRlU3ByaXRlcylcclxuXHJcbiAgcmVwbGF5LnBvc2l0aW9uVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICB1cGRhdGVVbml0c1Bvc2l0aW9uRnJvbVJlcGxheVNuYXBzaG90KGN0eCwgcmVwbGF5LnVuaXRzW2ZyYW1lXSwgcmVwbGF5LmxhbmRzY2FwZSk7XHJcbiAgICBmcmFtZSsrO1xyXG4gICAgaWYgKGZyYW1lID09PSByZXBsYXkudW5pdHMubGVuZ3RoIC0gMSkge1xyXG4gICAgICBjbGVhckludGVydmFsKHJlcGxheS5zcHJpdGVUaW1lcik7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwocmVwbGF5LnBvc2l0aW9uVGltZXIpO1xyXG4gICAgICBoaWRlUmVwbGF5QnV0dG9uKCk7XHJcbiAgICAgIGluaXRpYWxpemVHYW1lKCk7XHJcbiAgICB9XHJcbiAgfSwgSU5URVJWQUxTLnVwZGF0ZUdhbWVTdGF0ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVNwcml0ZXNGcm9tUmVwbGF5U25hcHNob3Qoc25hcHNob3QpIHtcclxuICBjb25zdCB7IGhlcm8sIGR1bW15RW5lbWllcywgc21hcnRFbmVtaWVzLCBsdmwgfSA9IHNuYXBzaG90O1xyXG4gIGNvbnN0IHNwZWVkTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3BlZWQnKTtcclxuICBzcGVlZExhYmVsLmlubmVySFRNTCA9IH5+KGhlcm8uc3BlZWQgKiAxMDApIC8gMTAwO1xyXG4gIGNvbnN0IHVuaXRzID0gW2hlcm8sIC4uLmR1bW15RW5lbWllcywgLi4uc21hcnRFbmVtaWVzXTtcclxuICB1bml0cy5mb3JFYWNoKHJlcGxheUl0ZW0gPT4gcmVwbGF5SXRlbS51bml0LnNldE5leHRTcHJpdGUoKSk7XHJcbiAgdXBkYXRlTGV2ZWxMYWJlbChsdmwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVVbml0c1Bvc2l0aW9uRnJvbVJlcGxheVNuYXBzaG90KGN0eCwgc25hcHNob3QsIGxhbmRzY2FwZSkge1xyXG4gIGNvbnN0IHsgaGVybywgZHVtbXlFbmVtaWVzLCBzbWFydEVuZW1pZXMsIGhlcm9CdWxsZXRzLCBidWZmSXRlbSB9ID0gc25hcHNob3Q7XHJcbiAgY2xlYXJDYW52YXMoY3R4KTtcclxuICBsYW5kc2NhcGUuZHJhdyhjdHgpO1xyXG4gIHVwZGF0ZVVuaXRQb3NpdGlvbihoZXJvKTtcclxuICBoZXJvLnVuaXQuc3ByaXRlLnggPSBoZXJvLnNwcml0ZVg7XHJcbiAgaGVyby51bml0LnNwcml0ZS55ID0gaGVyby5zcHJpdGVZO1xyXG4gIGhlcm8udW5pdC5zcGVlZCA9IGhlcm8uc3BlZWQ7XHJcbiAgaGVyby51bml0Lm5ld1BvcygpLnVwZGF0ZShjdHgpO1xyXG4gIHVwZGF0ZVJlcGxheUl0ZW1zQXJyYXkoY3R4LCBkdW1teUVuZW1pZXMpO1xyXG4gIHVwZGF0ZVJlcGxheUl0ZW1zQXJyYXkoY3R4LCBzbWFydEVuZW1pZXMsIGhlcm8udW5pdCk7XHJcbiAgdXBkYXRlUmVwbGF5SXRlbXNBcnJheShjdHgsIGhlcm9CdWxsZXRzKTtcclxuICBidWZmSXRlbSAmJiBidWZmSXRlbS5kcmF3KGN0eClcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlUmVwbGF5SXRlbXNBcnJheShjdHgsIGFycmF5LCBoZXJvKSB7XHJcbiAgYXJyYXkuZm9yRWFjaChyZXBsYXlJdGVtID0+IHtcclxuICAgIHVwZGF0ZVVuaXRQb3NpdGlvbihyZXBsYXlJdGVtKTtcclxuICAgIHJlcGxheUl0ZW0udW5pdC53aWR0aCA9IHJlcGxheUl0ZW0ud2lkdGg7XHJcbiAgICByZXBsYXlJdGVtLnVuaXQuaGVpZ2h0ID0gcmVwbGF5SXRlbS5oZWlnaHQ7XHJcbiAgICByZXBsYXlJdGVtLnVuaXQubmV3UG9zKGhlcm8pLnVwZGF0ZShjdHgpXHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVVuaXRQb3NpdGlvbihyZXBsYXlJdGVtKSB7XHJcbiAgcmVwbGF5SXRlbS51bml0LnggPSByZXBsYXlJdGVtLnBvc1g7XHJcbiAgcmVwbGF5SXRlbS51bml0LnkgPSByZXBsYXlJdGVtLnBvc1k7XHJcbn1cclxuIiwiaW1wb3J0IHsgaW5pdGlhbGl6ZUdhbWUsIHN0YXJ0R2FtZSB9IGZyb20gJy4vbWFpbic7XHJcbmltcG9ydCB7IGdldFNjb3JlRnJvbURhdGFiYXNlIH0gZnJvbSAnLi91dGlscy9yZXF1ZXN0VXRpbHMnO1xyXG5pbXBvcnQgeyBnYW1lIH0gZnJvbSAnLi9tYWluJztcclxuXHJcbmNvbnN0IHNwcml0ZVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3ByaXRlLXdyYXBwZXInKTtcclxuY29uc3QgZ2FtZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLWNvbnRhaW5lcicpO1xyXG5jb25zdCBpbWFnZURhdGFBcnJheSA9IFtcclxuICB7IHNyYzogXCIuL2ltZy9oZXJvLnBuZ1wiLCBjbGFzc05hbWU6IFwiaGVyby1zcHJpdGVcIiB9LFxyXG4gIHsgc3JjOiBcIi4vaW1nL3N3b3JkLnBuZ1wiLCBjbGFzc05hbWU6IFwic3dvcmRcIiB9LFxyXG4gIHsgc3JjOiBcIi4vaW1nL3Nob2VzLnBuZ1wiLCBjbGFzc05hbWU6IFwic2hvZXNcIiB9LFxyXG4gIHsgc3JjOiBcIi4vaW1nL3NoaWVsZC5wbmdcIiwgY2xhc3NOYW1lOiBcInNoaWVsZFwiIH0sXHJcbiAgeyBzcmM6IFwiLi9pbWcvbGFuZHNjYXBlLnBuZ1wiLCBjbGFzc05hbWU6IFwibGFuZHNjYXBlXCIgfSxcclxuICB7IHNyYzogXCIuL2ltZy9pY2UtZGVtb24ucG5nXCIsIGNsYXNzTmFtZTogXCJpY2UtZGVtb25cIiB9LFxyXG4gIHsgc3JjOiBcIi4vaW1nL21hc2hyb29tLnBuZ1wiLCBjbGFzc05hbWU6IFwibWFzaHJvb21cIiB9XHJcbl1cclxuXHJcbmxldCByZXF1ZXN0VGltZXI7XHJcblxyXG5jb25zdCByb3V0ZXMgPSBbXHJcbiAge1xyXG4gICAgbWF0Y2g6ICcnLFxyXG4gICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICdnYW1lJztcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBtYXRjaDogJ2dhbWUnLFxyXG4gICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICBjaGFuZ2VTdHlsZVRvR2FtZURpc3BsYXkoKTtcclxuICAgICAgY2hhbmdlQWN0aXZlUGFnZSgnZ2FtZScpO1xyXG4gICAgICBnYW1lQ29udGFpbmVyLmlubmVySFRNTCA9IGdlbmVyYXRlR2FtZUNvbnRlbnQoKTtcclxuICAgICAgaWYgKCFzcHJpdGVXcmFwcGVyLmlubmVySFRNTCkge1xyXG4gICAgICAgIGFkZFNwcml0ZUNvbnRlbnRBbmRJbml0aWFsaXplR2FtZShzcHJpdGVXcmFwcGVyLCBpbml0aWFsaXplR2FtZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW5pdGlhbGl6ZUdhbWUoKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9uTGVhdmU6ICgpID0+IHtcclxuICAgICAgY2hhbmdlU3R5bGVUb0luZm9ybWF0aW9uRGlzcGxheSgpO1xyXG4gICAgICB1bnN1YnNjcmliZUFuZENsZWFyQ3VycmVudEdhbWVTdGF0ZSgpO1xyXG4gICAgICByZW1vdmVBY3RpdmVQYWdlKCdnYW1lJyk7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAgbWF0Y2g6ICdzY29yZXMnLFxyXG4gICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICBjaGFuZ2VBY3RpdmVQYWdlKCdzY29yZXMnKTtcclxuICAgICAgcmVxdWVzdFRpbWVyID0gc2ltdWxhdGVMb25nSHR0cFJlcXVlc3QoKTtcclxuICAgIH0sXHJcbiAgICBvbkxlYXZlOiAoKSA9PiB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwocmVxdWVzdFRpbWVyKTtcclxuICAgICAgcmVtb3ZlQWN0aXZlUGFnZSgnc2NvcmVzJyk7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAgbWF0Y2g6ICdydWxlcycsXHJcbiAgICBvbkVudGVyOiAoKSA9PiB7XHJcbiAgICAgIGNoYW5nZUFjdGl2ZVBhZ2UoJ3J1bGVzJyk7XHJcbiAgICAgIGdhbWVDb250YWluZXIuaW5uZXJIVE1MID0gZ2VuZXJhdGVSdWxlc0NvbnRlbnQoKTtcclxuICAgIH0sXHJcbiAgICBvbkxlYXZlOiAoKSA9PiB7XHJcbiAgICAgIHJlbW92ZUFjdGl2ZVBhZ2UoJ3J1bGVzJyk7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAgbWF0Y2g6ICdhdXRob3InLFxyXG4gICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICBjaGFuZ2VBY3RpdmVQYWdlKCdhdXRob3InKTtcclxuICAgICAgZ2FtZUNvbnRhaW5lci5pbm5lckhUTUwgPSBnZW5lcmF0ZUF1dGhvckNvbnRlbnQoKTtcclxuICAgIH0sXHJcbiAgICBvbkxlYXZlOiAoKSA9PiB7XHJcbiAgICAgIHJlbW92ZUFjdGl2ZVBhZ2UoJ2F1dGhvcicpO1xyXG4gICAgfVxyXG4gIH0sXHJcbl1cclxuXHJcbmZ1bmN0aW9uIHVuc3Vic2NyaWJlQW5kQ2xlYXJDdXJyZW50R2FtZVN0YXRlKCkge1xyXG4gIGdhbWUuc3RvcEdhbWVBbmRDbGVhclN0YXRlKCk7XHJcbiAgY2xlYXJJbnRlcnZhbChnYW1lLnJlcGxheS5zcHJpdGVUaW1lcik7XHJcbiAgY2xlYXJJbnRlcnZhbChnYW1lLnJlcGxheS5wb3NpdGlvblRpbWVyKTtcclxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaW5pdGlhbGl6ZUdhbWUpXHJcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHN0YXJ0R2FtZSlcclxufVxyXG5cclxuZnVuY3Rpb24gc2ltdWxhdGVMb25nSHR0cFJlcXVlc3QoKSB7XHJcbiAgZ2FtZUNvbnRhaW5lci5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImFyZW5hXCI+PGRpdiBjbGFzcz1cImxkcy1yaXBwbGVcIj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PC9kaXY+PC9kaXY+JztcclxuICByZXR1cm4gc2V0VGltZW91dCgoKSA9PlxyXG4gICAgZ2V0U2NvcmVGcm9tRGF0YWJhc2UoKVxyXG4gICAgICAudGhlbihyZXMgPT4gZ2FtZUNvbnRhaW5lci5pbm5lckhUTUwgPSBnZW5lcmF0ZVNjb3JlQ29udGVudChyZXMpKVxyXG4gICAgLCAxMDAwKVxyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VBY3RpdmVQYWdlKG5ld1BhZ2UpIHtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbaHJlZj1cIiMke25ld1BhZ2V9XCJdYCkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZUFjdGl2ZVBhZ2UocGFnZSkge1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtocmVmPVwiIyR7cGFnZX1cIl1gKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlU3R5bGVUb0dhbWVEaXNwbGF5KCkge1xyXG4gIGdhbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYXJlbmEnKVxyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VTdHlsZVRvSW5mb3JtYXRpb25EaXNwbGF5KCkge1xyXG4gIGdhbWVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnYXJlbmEnKVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVNjb3JlQ29udGVudChzY29yZXMpIHtcclxuICBjb25zdCBsaXN0SXRlbXMgPSBzY29yZXMubWFwKChpdGVtLCBpKSA9PlxyXG4gICAgYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICR7aSArIDF9KSAke2l0ZW0ubmFtZX1cclxuICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1wcmltYXJ5IGJhZGdlLXBpbGxcIj4ke2l0ZW0uc2NvcmV9PC9zcGFuPlxyXG4gICAgPC9saT5gKS5qb2luKCcnKTtcclxuXHJcbiAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIG1hcmdpbi10b3BcIj5cclxuICAgICAgICAgICAgPGg0PkJlc3Qgc2NvcmVzOjwvaDQ+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QtZ3JvdXBcIj5cclxuICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgVXNlcm5hbWU6XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj5TY29yZTo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAke2xpc3RJdGVtc31cclxuICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgIDwvZGl2PmA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFNwcml0ZUNvbnRlbnRBbmRJbml0aWFsaXplR2FtZShjb250YWluZXIsIGNiKSB7XHJcbiAgbGV0IGxvYWRDb3VudGVyID0gMDtcclxuICBpbWFnZURhdGFBcnJheS5mb3JFYWNoKGltZyA9PiB7XHJcbiAgICBjb25zdCBuZXdJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgbmV3SW1hZ2UuY2xhc3NOYW1lID0gaW1nLmNsYXNzTmFtZTtcclxuICAgIG5ld0ltYWdlLnNyYyA9IGltZy5zcmM7XHJcbiAgICBuZXdJbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgIGxvYWRDb3VudGVyKytcclxuICAgICAgaWYgKGxvYWRDb3VudGVyID09PSBpbWFnZURhdGFBcnJheS5sZW5ndGgpIHtcclxuICAgICAgICBjYigpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0ltYWdlKTtcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUdhbWVDb250ZW50KCkge1xyXG4gIHJldHVybiBgXHJcbiAgPGRpdiBjbGFzcz1cImxldmVsLWNvbnRhaW5lclwiPlxyXG4gICAgTGV2ZWw6XHJcbiAgICA8c3BhbiBjbGFzcz1cImxldmVsXCI+MTwvc3Bhbj5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwic2NvcmUtY29udGFpbmVyXCI+XHJcbiAgICBTY29yZTpcclxuICAgIDxzcGFuIGNsYXNzPVwic2NvcmVcIj4wPC9zcGFuPlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJzcGVlZC1jb250YWluZXJcIj5cclxuICAgIFNwZWVkOlxyXG4gICAgPHNwYW4gY2xhc3M9XCJzcGVlZFwiPjA8L3NwYW4+XHJcbiAgPC9kaXY+XHJcbiAgPGRpdiBjbGFzcz1cInJlcGxheS1jb250YWluZXJcIj5cclxuICAgIDxidXR0b24gY2xhc3M9XCJidG5cIj5TaG93IHJlcGxheTwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG4gIDxjYW52YXM+PC9jYW52YXM+XHJcbiAgYFxyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVJ1bGVzQ29udGVudCgpIHtcclxuICByZXR1cm4gYDxkaXYgY2xhc3M9XCJjb250YWluZXIgbWFyZ2luLXRvcFwiPlxyXG4gICAgICAgICAgICA8aDM+UnVsZXM6PC9oMz5cclxuICAgICAgICAgICAgPGg1Pk1lY2hhbmljczo8L2g1PlxyXG4gICAgICAgICAgICA8cD5UaGUgZ2FtZSBpcyBhYm91dCBvZiBoZXJvIGFuZCBoaXMgZW5lbWllcy4gVXNlciBjYW4gbWFuaXB1bGF0ZSB0aGUgaGVyb1xyXG4gICAgICAgICAgICAgICAgd2l0aCBhcnJvdyBidXR0b25zIDxjb2RlPvCfoIAg8J+ggfCfoIMg8J+ggjwvY29kZT4gd2hlcmUgcHVzaCBvZiBlYWNoIGNoYW5nZSBoZXJvIGRpcmVjdGlvbiBcclxuICAgICAgICAgICAgICAgIHRvIHRoZSBhcnJvdyBkaXJlY3Rpb24uIEFsc28geW91IGNhbiBzdG9wIGhlcm8sIHdpdGhcclxuICAgICAgICAgICAgICAgIDxjb2RlPkN0cmw8L2NvZGU+IGJ1dHRvbi4gPC9wPiBHYW1lIGZpbmlzaCB3aGVuIGFueSBvZiB0aGUgZW5lbWllcyBjYXRjaGVzIGhlcm8uXHJcbiAgICAgICAgICAgIDxwPkhlcm8gaGFzIGFiaWxpdHkgdG8gc2hvb3Qgd2l0aCBoaXMgZ3VuIHRvIHRoZSBuZWFyZXN0IGVuZW1pZXMuIFVzZXIgZG8gaXQgd2l0aCB0aGVcclxuICAgICAgICAgICAgICAgIG1vdXNlLCBzaG9vdCBhY3Rpb24gb2NjdXJzIGlmIHVzZXIgcHJlc3NcclxuICAgICAgICAgICAgICAgIDxjb2RlPmxlZnQgYnV0dG9uPC9jb2RlPiBtb3VzZS4gSGVybyBoYXMgc3BlZWQgYWNjZWxlcmF0aW9uIGlmIG1vdmVzIHRvIG9uZSBkaXJlY3Rpb24uIElmXHJcbiAgICAgICAgICAgICAgICBoZSBjaGFuZ2VzIGl0LCBjdXJyZW50IGhlcm8gc3BlZWQgZGlzY2FyZCB0byBtaW5pbXVtLlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDxoNT5FbmVtaWVzOjwvaDU+XHJcbiAgICAgICAgICAgIDxwPlRoZXJlIGFyZSBzZXZlcmFsIGVuZW1pZXM6IGR1bW15IGVuZW1pZXMsIHdobyBtb3ZlIG9ubHkgd2l0aCBzdGFydCBkaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBhbmQgc21hcnQgZW5lbXksIHdobyBiZWdpbiB0byBwdXJzdWUgaWYgc2VlIGhlcm8gYXQgc29tZSByYW5nZS4gU21hcnRcclxuICAgICAgICAgICAgICAgIGVuZW15IGhhcyBhbiBhYmlsaXR5IHRvIGluY3JlYXNlIGhpcyBzaXplLCBzcGVlZCBhbmQgZGVmZW5zZSBieSBlYXRpbmdcclxuICAgICAgICAgICAgICAgIGhpcyB0cmliZXNtZW4uXHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPGg1PkJ1ZmZzOjwvaDU+XHJcbiAgICAgICAgICAgIDxwPkF2ZXJhZ2UgYnVmZiB0aW1lIGlzIDxjb2RlPjIwPC9jb2RlPiBzZWNvbmRzLiBIZXJvIGNhbiBhY3RpdmF0ZSBidWZmIGlmIGNhdGNoZXMgaXQuIFxyXG4gICAgICAgICAgICAgICAgQXQgdGhlIGdhbWUgZXZlcnkgPGNvZGU+ODwvY29kZT4gc2Vjb25kcyBnZW5lcmF0ZXMgbmV3IGJ1ZmYgYW5kIG9uIHRoZSBmaWVsZCBjYW4gYmUgb25seSBvbmUgYnVmZlxyXG4gICAgICAgICAgICAgICAgaXRlbS4gSGVybyBjYW4gc3RhY2sgYnVmZnMgaWYgY2F0Y2hlcyBtb3JlIHRoYW4gb25lLiBUaGVyZSBhcmUgc2V2ZXJhbCBidWZmcyBhdCB0aGUgZ2FtZTo8L3A+XHJcbiAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2ltZy9zd29yZC5wbmdcIj4gLSBpbXByb3ZlIGhlcm8ncyBndW4gc2l6ZSBhbmQgZGFtYWdlLiA8c3BhbiBjbGFzcz1cInJlZFwiPlJlZDwvc3Bhbj4gbGluZSBpbmRpY2F0b3IgXHJcbiAgICAgICAgICAgICAgICBhcHBlYXJzIHdoZW4gaGVybyB0YWtlIHRoaXMgYnVmZi5cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWcvc2hvZXMucG5nXCI+IC0gaW1wcm92ZSBoZXJvJ3Mgc3BlZWQgYW5kIHdoZW4gdGhlIGJ1ZmYgYWN0aXZhdGVkIGRlY3JlYXNlIHNwZWVkXHJcbiAgICAgICAgICAgICAgICBvZiBhbGwgZW5lbWllcyBhdCBnYW1lIGZpZWxkLiA8c3BhbiBjbGFzcz1cImJsdWVcIj5CbHVlPC9zcGFuPiBsaW5lIGluZGljYXRvciBhcHBlYXJzIHdoZW4gaGVybyB0YWtlIHRoaXMgYnVmZi5cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWcvc2hpZWxkLnBuZ1wiPiAtIG1ha2UgaGVybyBpbW1vcnRhbC4gU21hcnQgZW5lbWllcyBiZWdpbiB0byBydW4gYXdheSBmcm9tIHRoZSBoZXJvLlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJibGFja1wiPkJsYWNrPC9zcGFuPiBsaW5lIGluZGljYXRvciBhcHBlYXJzIHdoZW4gaGVybyB0YWtlIHRoaXMgYnVmZi5cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8aDU+THZsIHVwIGFuZCBzY29yZTo8L2g1PlxyXG4gICAgICAgICAgICA8cD5FdmVyeSA8Y29kZT4xMDwvY29kZT4gc2Vjb25kcyBoZXJvIHJlYWNoIG5ldyBsZXZlbC4gV2l0aCBlYWNoIG5ldyBsZXZlbCBhdCBnYW1lIGZpZWxkXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVzIGEgc3RhY2sgb2YgZHVtbXkgZW5lbWllcy4gQW1vdW50IG9mIGNyZWF0dXJlcyBhdCB0aGUgc3RhY2tcclxuICAgICAgICAgICAgICAgIGlzIGVxdWFsZW50IHRvIHRoZSBuZXcgbGV2ZWwuIEFsc28gZXZlcnkgbmV3IGxldmVsIHRoZSBzaXplIG9mIGNyZWF0dXJlc1xyXG4gICAgICAgICAgICAgICAgYW5kIHNwZWVkIG9mIGR1bW15IGVuZW1pZXMgaW5jcmVhc2VzLiBTY29yZSBpcyBlcXVhbGVudCB0byB0aGUgdGltZVxyXG4gICAgICAgICAgICAgICAgdGhhdCBoZXJvIHByZXNlbnQgYXQgZ2FtZSBmaWVsZC5cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8cD5Hb29kIGx1Y2sgYW5kIGVuam95ITwvcD5cclxuICAgICAgICAgIDwvZGl2PmBcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVBdXRob3JDb250ZW50KCkge1xyXG4gIHJldHVybiBgPGRpdiBjbGFzcz1cImNvbnRhaW5lciBtYXJnaW4tdG9wXCI+XHJcbiAgICAgICAgICAgIDxoMz5BdXRob3IgcGFnZTo8L2gzPlxyXG4gICAgICAgICAgICA8cD5IZWxsbywgbXkgbmFtZSBpcyBFdmdlbml5IGFuZCBpJ20gdGhlIGF1dGhvciBvZiB0aGUgZ2FtZS4gSWYgeW91IGhhdmUgYW55XHJcbiAgICAgICAgICAgIHF1ZXN0aW9ucyB5b3UgY2FuIGZpbmQgbWUgaGVyZSA8YSBocmVmPVwiaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2luL2V2Z2VuaXktZGFpbm92aWNoL1wiPkxpbmtlbkluPC9hPlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDxwPkdhbWUgaXMgZGV2ZWxvcGVkIHdpdGggSmF2YXNjcmlwdCBhbmQgQm9vdHN0cmFwIGZvciBzdHlsaW5nLjwvcD5cclxuICAgICAgICAgIDwvZGl2PmBcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVzOyIsIlxyXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJDYW52YXMoY3R4KSB7XHJcbiAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjdHguY2FudmFzLmNsaWVudFdpZHRoLCBjdHguY2FudmFzLmNsaWVudEhlaWdodCk7XHJcbn0iLCJcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEhlcm9Db250cm9scyhoZXJvLCBjcmVhdGVCdWxsZXQpIHtcclxuICBzdWJzcmliZVRvTW92ZShoZXJvKTtcclxuICBzdWJzY3JpYmVUb1Nob290KGNyZWF0ZUJ1bGxldCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1YnNjcmliZVRvU2hvb3QoY3JlYXRlQnVsbGV0KSB7XHJcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY2FudmFzJyk7XHJcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xyXG4gICAgY3JlYXRlQnVsbGV0KGV2ZW50Lm9mZnNldFgsIGV2ZW50Lm9mZnNldFkpO1xyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1YnNyaWJlVG9Nb3ZlKGhlcm8pIHtcclxuICBjb25zdCB7IGRpciB9ID0gaGVybztcclxuICBsZXQgcHJldmlvdXNLZXlDb2RlO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGV2ZW50ID0+IHtcclxuICAgIHByZXZpb3VzS2V5Q29kZSA9IGNoYW5nZVNwZWVkSWZIZXJvQ2hhbmdlZERpcmVjdGlvbihwcmV2aW91c0tleUNvZGUsIGV2ZW50LmtleUNvZGUsIGhlcm8pO1xyXG4gICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XHJcbiAgICAgIGNhc2UgMzg6IHtcclxuICAgICAgICBoZXJvLnVwZGF0ZVNwcml0ZURpcmVjdGlvbigndG9wJyk7XHJcbiAgICAgICAgZGlyLnkgPSAtMTtcclxuICAgICAgICBkaXIueCA9IDA7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSAzOToge1xyXG4gICAgICAgIGhlcm8udXBkYXRlU3ByaXRlRGlyZWN0aW9uKCdyaWdodCcpO1xyXG4gICAgICAgIGRpci55ID0gMDtcclxuICAgICAgICBkaXIueCA9IDE7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSA0MDoge1xyXG4gICAgICAgIGhlcm8udXBkYXRlU3ByaXRlRGlyZWN0aW9uKCdib3R0b20nKTtcclxuICAgICAgICBkaXIueSA9IDE7XHJcbiAgICAgICAgZGlyLnggPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgMzc6IHtcclxuICAgICAgICBoZXJvLnVwZGF0ZVNwcml0ZURpcmVjdGlvbignbGVmdCcpO1xyXG4gICAgICAgIGRpci54ID0gLTE7XHJcbiAgICAgICAgZGlyLnkgPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgMTc6IHtcclxuICAgICAgICBoZXJvLnNwZWVkID0gMDtcclxuICAgICAgICBkaXIueCA9IDA7XHJcbiAgICAgICAgZGlyLnkgPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVNwZWVkSWZIZXJvQ2hhbmdlZERpcmVjdGlvbihwcmV2aW91c0tleUNvZGUsIG5ld0tleUNvZGUsIGhlcm8pIHtcclxuICBpZiAocHJldmlvdXNLZXlDb2RlICE9PSBuZXdLZXlDb2RlKSB7XHJcbiAgICBoZXJvLm1ha2VIZXJvU3BlZWRQYXJhbXNEZWZhdWx0KCk7XHJcbiAgICBpZiAobmV3S2V5Q29kZSAhPT0gMTcpIHtcclxuICAgICAgaGVyby5zZXROZXdTcGVlZFRpbWVyKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3S2V5Q29kZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHByZXZpb3VzS2V5Q29kZTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4iLCJpbXBvcnQgeyBjdXJyZW50QnVsbGV0IH0gZnJvbSAnLi4vY3JlYXR1cmVzL2J1bGxldCdcclxuaW1wb3J0IHsgQlVGRl9QQVJBTVMsIEJVTExFVF9QQVJBTVMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBpZlVuaXRzVG91Y2hFYWNoT3RoZXIgfSBmcm9tICcuL2dlb21ldHJ5VXRpbHMnO1xyXG5pbXBvcnQgeyBidWZmVHlwZXMgfSBmcm9tICcuLi9pdGVtcy9idWZmcy9idWZmR2VuZXJhdG9yJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRFbmVteURpZUlmQnVsbGV0SGl0c0hpbShlbmVteSwgYnVsbGV0KSB7XHJcbiAgY29uc3QgaXNDb250YWN0ID0gaWZVbml0c1RvdWNoRWFjaE90aGVyKGVuZW15LCBidWxsZXQpXHJcbiAgaWYgKGlzQ29udGFjdCkge1xyXG4gICAgZW5lbXkgPSBkYW1hZ2VVbml0KGVuZW15KVxyXG4gIH1cclxuICBpZiAoaXNDb250YWN0ICYmIChlbmVteS53aWR0aCA8IEJVTExFVF9QQVJBTVMubWluQ3JlYXR1cmVTaXplIHx8IGVuZW15LmhlaWdodCA8IEJVTExFVF9QQVJBTVMubWluQ3JlYXR1cmVTaXplKSkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZGFtYWdlVW5pdCh1bml0KSB7XHJcbiAgY29uc3QgeyBzcGVlZERlY3JlYXNlIH0gPSBjdXJyZW50QnVsbGV0O1xyXG4gIGNvbnN0IG1hc3MgPSB1bml0LndpZHRoICogdW5pdC5oZWlnaHQ7XHJcblxyXG4gIGNvbnN0IGhlcm9EYW1hZ2UgPSBnZXRIZXJvRGFtYWdlVG9Vbml0KHVuaXQpO1xyXG4gIGNvbnN0IGsgPSAobWFzcyAtIGhlcm9EYW1hZ2UpIC8gbWFzcztcclxuICB1bml0LndpZHRoICo9IGs7XHJcbiAgdW5pdC5oZWlnaHQgKj0gaztcclxuICB1bml0LnNwZWVkID4gc3BlZWREZWNyZWFzZSA/IHVuaXQuc3BlZWQgLT0gc3BlZWREZWNyZWFzZSA6IDA7XHJcbiAgcmV0dXJuIHVuaXQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEhlcm9EYW1hZ2VUb1VuaXQodW5pdCkge1xyXG4gIGNvbnN0IHsgZGFtYWdlIH0gPSBjdXJyZW50QnVsbGV0O1xyXG4gIGNvbnN0IGRlZmVuc2UgPSB1bml0LmRlZmVuc2UgfHwgMDtcclxuICByZXR1cm4gZGFtYWdlIC0gZGVmZW5zZSA+IDAgPyBkYW1hZ2UgLSBkZWZlbnNlIDogQlVMTEVUX1BBUkFNUy5taW5EYW1hZ2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRCdWZmSW5kaWNhdG9yKGhlcm8sIGNvbG9yKSB7XHJcbiAgY29uc3QgaWQgPSBEYXRlLm5vdygpO1xyXG4gIGNvbnN0IG5ld0J1ZmYgPSB7XHJcbiAgICBpZDogaWQsXHJcbiAgICB0aW1lOiAwLFxyXG4gICAgdHlwZTogY29sb3IsXHJcbiAgfVxyXG4gIGhlcm8uY3VycmVudEJ1ZmZzLnB1c2gobmV3QnVmZilcclxuICBhZGRCdWZmVGltZXJUb0hlcm8oaGVybywgaWQpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEJ1ZmZUaW1lclRvSGVybyhoZXJvLCBpZCkge1xyXG4gIGNvbnN0IGJ1ZmYgPSBoZXJvLmN1cnJlbnRCdWZmcy5maW5kKGJ1ZmYgPT4gaWQgPT09IGJ1ZmYuaWQpXHJcbiAgYnVmZi50aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgIGJ1ZmYudGltZSArPSAxO1xyXG4gICAgaWYgKGJ1ZmYudGltZSA+PSBCVUZGX1BBUkFNUy5idWZmVGltZSAvIDEwMDApIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbChidWZmLnRpbWVyKTtcclxuICAgICAgaGVyby5jdXJyZW50QnVmZnMuc2hpZnQoKTtcclxuICAgICAgY29uc3QgaGFzQW5vdGhlclNoaWVsZCA9IGhlcm8uY3VycmVudEJ1ZmZzLnNvbWUoYnVmZiA9PiBidWZmLnR5cGUgPT09IGJ1ZmZUeXBlc1sxXS5jb2xvcilcclxuICAgICAgaGVyby5pc0ltbW9ydGFsID0gaGFzQW5vdGhlclNoaWVsZDtcclxuICAgIH1cclxuICB9LCAxMDAwKVxyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRDZW50ZXJDb29yZGluYXRlcyh1bml0KSB7XHJcbiAgcmV0dXJuIFt1bml0LnggKyAwLjUgKiB1bml0LndpZHRoLCB1bml0LnkgKyAwLjUgKiB1bml0LmhlaWdodF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREaXN0YW5jZUJldHdlZW5Vbml0cyh1bml0MSwgdW5pdDIpIHtcclxuICBjb25zdCBbeDEsIHkxXSA9IGdldENlbnRlckNvb3JkaW5hdGVzKHVuaXQxKTtcclxuICBjb25zdCBbeDIsIHkyXSA9IGdldENlbnRlckNvb3JkaW5hdGVzKHVuaXQyKTtcclxuICByZXR1cm4gTWF0aC5wb3coTWF0aC5wb3coeDEgLSB4MiwgMikgKyBNYXRoLnBvdyh5MSAtIHkyLCAyKSwgMC41KTtcclxufVxyXG5cclxuY29uc3QgUElYRUxfQk9SREVSID0gMlxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlmVW5pdHNUb3VjaEVhY2hPdGhlcih1bml0MSwgdW5pdDIsIGRlbHRhID0gMCkge1xyXG4gIGNvbnN0IFt4MSwgeTFdID0gZ2V0Q2VudGVyQ29vcmRpbmF0ZXModW5pdDEpO1xyXG4gIGNvbnN0IFt4MiwgeTJdID0gZ2V0Q2VudGVyQ29vcmRpbmF0ZXModW5pdDIpO1xyXG4gIHJldHVybiAoXHJcbiAgICBNYXRoLmFicyh4MiAtIHgxKSA8ICh1bml0MS53aWR0aCArIHVuaXQyLndpZHRoIC0gUElYRUxfQk9SREVSIC0gZGVsdGEpIC8gMlxyXG4gICAgJiYgTWF0aC5hYnMoeTIgLSB5MSkgPCAodW5pdDEuaGVpZ2h0ICsgdW5pdDIuaGVpZ2h0IC0gUElYRUxfQk9SREVSIC0gZGVsdGEpIC8gMlxyXG4gICk7XHJcbn1cclxuXHJcbmNvbnN0IFNBRkVfRElTVEFOQ0UgPSAyMDA7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNEaXN0YW5jZUJldHdlZW5Vbml0c01vcmVUaGFuU2FmZSh1bml0MSwgdW5pdDIsIGRpc3QgPSBTQUZFX0RJU1RBTkNFKSB7XHJcbiAgcmV0dXJuIGdldERpc3RhbmNlQmV0d2VlblVuaXRzKHVuaXQxLCB1bml0MikgPiBkaXN0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbW92ZVRvQW5vdGhlclNpZGVJZkdvQmV5b25jZUNhbnZhcyhjdHgsIHVuaXQpIHtcclxuICBsZXQgd2lkdGggPSBjdHguY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gIGxldCBoZWlnaHQgPSBjdHguY2FudmFzLmNsaWVudEhlaWdodDtcclxuXHJcbiAgaWYgKHVuaXQueCA+IHdpZHRoKSB7XHJcbiAgICB1bml0LnggPSAwO1xyXG4gIH0gZWxzZSBpZiAodW5pdC54IDwgMCkge1xyXG4gICAgdW5pdC54ID0gd2lkdGg7XHJcbiAgfVxyXG4gIGlmICh1bml0LnkgPiBoZWlnaHQpIHtcclxuICAgIHVuaXQueSA9IDA7XHJcbiAgfSBlbHNlIGlmICh1bml0LnkgPCAwKSB7XHJcbiAgICB1bml0LnkgPSBoZWlnaHQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudHNJbnNpZGVDYW52YXMoY3R4LCB1bml0cykge1xyXG4gIGNvbnN0IHdpZHRoID0gY3R4LmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICBjb25zdCBoZWlnaHQgPSBjdHguY2FudmFzLmNsaWVudEhlaWdodDtcclxuXHJcbiAgbGV0IGlzSW5zaWRlQ2FudmFzO1xyXG4gIHJldHVybiB1bml0cy5maWx0ZXIodW5pdCA9PiB7XHJcbiAgICBpc0luc2lkZUNhbnZhcyA9IHVuaXQueCA8IHdpZHRoICYmIHVuaXQueCA+IDAgJiYgdW5pdC55IDwgaGVpZ2h0ICYmIHVuaXQueSA+IDA7XHJcbiAgICBpZiAoaXNJbnNpZGVDYW52YXMpIHtcclxuICAgICAgdW5pdC5uZXdQb3MoKS51cGRhdGUoY3R4KTtcclxuICAgIH1cclxuICAgIHJldHVybiBpc0luc2lkZUNhbnZhcztcclxuICB9KTtcclxufVxyXG4iLCJjb25zdCBVUkwgPSAnaHR0cHM6Ly9zaG9vdGVyLWdhbWUtMmExYmUuZmlyZWJhc2Vpby5jb20vc3RhdGlzdGljcy8uanNvbic7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VuZFJlc3VsdFRvRGF0YWJhc2Uoc2NvcmUsIG5hbWUpIHtcclxuICBmZXRjaChVUkwsIHtcclxuICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzY29yZSwgbmFtZSB9KVxyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTY29yZUZyb21EYXRhYmFzZSgpIHtcclxuICByZXR1cm4gZmV0Y2goYCR7VVJMfT9vcmRlckJ5PVxcXCJzY29yZVxcXCImbGltaXRUb0xhc3Q9OGAsIHsgbWV0aG9kOiAnR0VUJyB9KVxyXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgLnRoZW4oZGF0YSA9PiBnZXRUb3A4KGRhdGEpKVxyXG4gICAgLmNhdGNoKCgpID0+IGNvbnNvbGUubG9nKCdzZXJ2ZXIgZXJyb3InKSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRvcDgoZGF0YSkge1xyXG4gIGNvbnN0IGFycmF5ID0gT2JqZWN0LnZhbHVlcyhkYXRhKTtcclxuICByZXR1cm4gYXJyYXkuc29ydCgoYSwgYikgPT4gYS5zY29yZSA8IGIuc2NvcmUpO1xyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvdXRlcihyb3V0ZVBhcmFtcykge1xyXG4gIHRoaXMucm91dGVzID0gcm91dGVQYXJhbXMgfHwgW107XHJcbiAgdGhpcy5jdXJyZW50Um91dGU7XHJcbiAgdGhpcy5wcmV2aW91c1JvdXRlO1xyXG4gIHRoaXMuY3VycmVudFBhcmFtcztcclxuICB0aGlzLnByZXZpb3VzUGFyYW1zO1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgdGhpcy5oYW5kbGVyKHdpbmRvdy5sb2NhdGlvbi5oYXNoKTtcclxuICB9KTtcclxuICB0aGlzLmhhbmRsZXIod2luZG93LmxvY2F0aW9uLmhhc2gpO1xyXG59XHJcblxyXG5Sb3V0ZXIucHJvdG90eXBlID0ge1xyXG4gIGhhbmRsZXI6IGZ1bmN0aW9uIChoYXNoKSB7XHJcbiAgICB0aGlzLnByZXZpb3VzUm91dGUgPSB0aGlzLmN1cnJlbnRSb3V0ZTtcclxuICAgIHRoaXMucHJldmlvdXNQYXJhbXMgPSB0aGlzLmN1cnJlbnRQYXJhbXM7XHJcbiAgICB0aGlzLmN1cnJlbnRSb3V0ZSA9IHRoaXMuZmluZE5ld1JvdXRlKGhhc2gpO1xyXG4gICAgdGhpcy5sYXVuY2hIYW5kbGVycygpO1xyXG4gIH0sXHJcbiAgZmluZE5ld1JvdXRlOiBmdW5jdGlvbiAoaGFzaCkge1xyXG4gICAgaGFzaCA9IGhhc2guc2xpY2UoMSk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvdXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMucm91dGVzW2ldO1xyXG4gICAgICBpZiAodHlwZW9mIGVsZW1lbnQubWF0Y2ggPT0gJ3N0cmluZycgJiYgZWxlbWVudC5tYXRjaCA9PT0gaGFzaCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBhcmFtcyA9ICcnO1xyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5tYXRjaCA9PSAnZnVuY3Rpb24nICYmIGVsZW1lbnQubWF0Y2goaGFzaCkpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQYXJhbXMgPSAnJztcclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZWxlbWVudC5tYXRjaCBpbnN0YW5jZW9mIFJlZ0V4cCAmJiBlbGVtZW50Lm1hdGNoLnRlc3QoaGFzaCkpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQYXJhbXMgPSBoYXNoLm1hdGNoKGVsZW1lbnQubWF0Y2gpIHx8IFtdO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBhcmFtcy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIGxhdW5jaEhhbmRsZXJzKCkge1xyXG4gICAgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJldmlvdXNSb3V0ZSAmJlxyXG4gICAgICAgICAgdGhpcy5wcmV2aW91c1JvdXRlLm9uTGVhdmUgJiZcclxuICAgICAgICAgIHRoaXMucHJldmlvdXNSb3V0ZS5vbkxlYXZlKHRoaXMucHJldmlvdXNQYXJhbXMpO1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50Um91dGUgJiZcclxuICAgICAgICAgIHRoaXMuY3VycmVudFJvdXRlLm9uQmVmb3JlRW50ZXIgJiZcclxuICAgICAgICAgIHRoaXMuY3VycmVudFJvdXRlLm9uQmVmb3JlRW50ZXIodGhpcy5jdXJyZW50UGFyYW1zKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFJvdXRlICYmXHJcbiAgICAgICAgICB0aGlzLmN1cnJlbnRSb3V0ZS5vbkVudGVyICYmXHJcbiAgICAgICAgICB0aGlzLmN1cnJlbnRSb3V0ZS5vbkVudGVyKHRoaXMuY3VycmVudFBhcmFtcyk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufTsiLCJpbXBvcnQgeyBJTlRFUlZBTFMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBzZW5kUmVzdWx0VG9EYXRhYmFzZSB9IGZyb20gJy4vcmVxdWVzdFV0aWxzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVMZXZlbExhYmVsKGx2bCkge1xyXG4gIGNvbnN0IGxldmVsTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGV2ZWwnKTtcclxuICBsZXZlbExhYmVsLmlubmVySFRNTCA9IGx2bDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dSZXBsYXlCdXR0b24oKSB7XHJcbiAgY29uc3QgcmVwbGF5QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlcGxheS1jb250YWluZXInKTtcclxuICByZXBsYXlCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVNjb3JlTGFiZWwoY3VycmVudFRpbWUsIHN0YXJ0VGltZSkge1xyXG4gIGN1cnJlbnRUaW1lICs9IElOVEVSVkFMUy51cGRhdGVHYW1lU3RhdGU7XHJcbiAgY29uc3QgdmFsdWUgPSAoY3VycmVudFRpbWUgLSBzdGFydFRpbWUpIC8gMTA7XHJcbiAgY29uc3Qgc2NvcmVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2NvcmVcIik7XHJcbiAgc2NvcmVMYWJlbC5pbm5lckhUTUwgPSB2YWx1ZTtcclxuICByZXR1cm4gY3VycmVudFRpbWUgKyBJTlRFUlZBTFMudXBkYXRlR2FtZVN0YXRlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2hvd0xvc2VNZXNzYWdlKCkge1xyXG4gIGNvbnN0IHNjb3JlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNjb3JlXCIpO1xyXG4gIGNvbnN0IHNjb3JlID0gc2NvcmVMYWJlbC5pbm5lclRleHQ7XHJcbiAgY29uc3QgbmFtZSA9IHByb21wdChcIlNvcnJ5LCBidXQgeW91IGxvc2UsIHlvdXIgc2NvcmUgaXMgXCIgKyBzY29yZSwgJ1VzZXInKTtcclxuICBzZW5kUmVzdWx0VG9EYXRhYmFzZSgrc2NvcmUsIG5hbWUgfHwgJ1VzZXInKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZVRvU2hvd1JlcGxheShjYikge1xyXG4gIGNvbnN0IHJlcGxheUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXBsYXktY29udGFpbmVyJyk7XHJcbiAgcmVwbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2IsIHsgb25jZTogdHJ1ZSB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVSZXBsYXlCdXR0b24oKSB7XHJcbiAgY29uc3QgcmVwbGF5QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlcGxheS1jb250YWluZXInKTtcclxuICByZXBsYXlCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG59Il19
