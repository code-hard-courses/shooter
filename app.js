!function o(a,u,s){function c(t,e){if(!u[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(f)return f(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=u[t]={exports:{}};a[t][0].call(i.exports,function(e){return c(a[t][1][e]||e)},i,i.exports,o,a,u,s)}return u[t].exports}for(var f="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RandomBuff=function(e,t,n,r,i){var o=a[~~(3*Math.random())];return new o.constructor(e,t,n,r,i,o.selector)};var r=e("./sword"),i=e("./shield"),o=e("./shoes"),a=[{selector:".sword",constructor:r.Sword},{selector:".shield",constructor:i.Shield},{selector:".shoes",constructor:o.Shoes}]},{"./shield":3,"./shoes":4,"./sword":5}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.BuffItem=function(){function a(e,t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.ctx=e,this.width=t,this.height=n,this.x=r,this.y=i,this.sprite={x:0,y:0,width:16,height:16},this.image=document.querySelector(o)}return r(a,[{key:"draw",value:function(e){var t=this.image,n=this.sprite,r=this.x,i=this.y,o=this.width,a=this.height;return e.drawImage(t,n.x,n.y,n.width,n.height,r,i,o,a),this}}]),a}()},{}],3:[function(e,t,n){"use strict";var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Shield=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./buff-item");n.Shield=function(e){function a(e,t,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i.BuffItem),r(a,[{key:"activateBuff",value:function(e,t){e.hero.isImmortal=!0,setTimeout(function(){return e.hero.isImmortal=!1},t)}}]),a}()},{"./buff-item":2}],4:[function(e,t,n){"use strict";var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Shoes=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./buff-item");function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n.Shoes=function(e){function a(e,t,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i.BuffItem),r(a,[{key:"activateBuff",value:function(e,t){e.hero.speed*=2;var n=[].concat(o(e.smartEnemies),o(e.dummyEnemies));n.forEach(function(e){return e.speed/=2}),setTimeout(function(){e.hero.speed/=2,n.forEach(function(e){return e.speed*=2})},t)}}]),a}()},{"./buff-item":2}],5:[function(e,t,n){"use strict";var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Sword=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./buff-item"),o=e("../creatures/bullet");n.Sword=function(e){function a(e,t,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i.BuffItem),r(a,[{key:"activateBuff",value:function(e,t){(0,o.growBullet)(),setTimeout(function(){return(0,o.shrinkBullet)()},t)}}]),a}()},{"../creatures/bullet":7,"./buff-item":2}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.addHeroControls=function(e,t){i=e,o=i.dir,a=void 0,document.addEventListener("keydown",function(e){var t,n,r;switch(t=a,n=e.keyCode,r=i,a=t!==n?(r.makeHeroSpeedParamsDefault(),r.setNewSpeedTimer(),n):t,e.keyCode){case 38:i.updateSpriteDirection("top"),o.y=-1,o.x=0;break;case 39:i.updateSpriteDirection("right"),o.y=0,o.x=1;break;case 40:i.updateSpriteDirection("bottom"),o.y=1,o.x=0;break;case 37:i.updateSpriteDirection("left"),o.x=-1,o.y=0;break;case 17:o.x=0,o.y=0}}),n=t,r.addEventListener("mousedown",function(e){n(e.offsetX,e.offsetY)});var n;var i,o,a},n.moveToAnotherSideIfGoBeyonceCanvas=function(e,t){var n=e.canvas.clientWidth,r=e.canvas.clientHeight;t.x>n?t.x=0:t.x<0&&(t.x=n);t.y>r?t.y=0:t.y<0&&(t.y=r)};var r=document.querySelector("canvas")},{}],7:[function(e,t,n){"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Bullet=n.BULLET=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.growBullet=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:2;l.size*=e},n.shrinkBullet=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:2;l.size/=e};var i=e("./unit");var l=n.BULLET={size:6,damage:20,speedDecrease:.15};n.Bullet=function(e){function f(e,t,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:l.size,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:l.size,u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:10,s=8<arguments.length&&void 0!==arguments[8]?arguments[8]:"black";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":h(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e,o,a,t-l.size/2,n-l.size/2,r,i,u));return c.color=s,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":h(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,i.Unit),r(f,[{key:"newPos",value:function(){return this.x+=this.speed*this.dir.x,this.y+=this.speed*this.dir.y,this}},{key:"update",value:function(e){return e.beginPath(),e.fillStyle=this.color,e.arc(this.x,this.y,l.size,0,2*Math.PI,!0),e.fill(),this}}]),f}()},{"./unit":11}],8:[function(e,t,n){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.DummyEnemy=n.BASE_DUMMY_SIZE=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./unit");n.BASE_DUMMY_SIZE=25;var a=document.querySelector(".dummy-enemy-sprite"),o=3,u=1,s=0,h=2;n.DummyEnemy=function(e){function c(e,t,n,r,i,o,a){var u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:.5;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":f(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,n,r,i,o,a,u));return s.sprite={baseX:0,baseY:0,x:0,y:16*s.getSpriteLayerValue(s.dir.x,s.dir.y),width:16,height:16,deltaX:16,deltaY:16},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":f(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Unit),r(c,[{key:"setNextSprite",value:function(){this.sprite.x<16?this.sprite.x+=this.sprite.deltaX:this.sprite.x=this.sprite.baseX}},{key:"update",value:function(e){var t=this.sprite,n=this.x,r=this.y,i=this.width,o=this.height;return e.drawImage(a,t.x,t.y,t.width,t.height,n,r,i,o),this}},{key:"getSpriteLayerValue",value:function(e,t){return Math.abs(e)>Math.abs(t)?0<e?s:u:0<t?h:o}}]),c}()},{"./unit":11}],9:[function(e,t,n){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Hero=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./unit");var o={top:2,left:3,right:0,bottom:1},a=document.querySelector(".hero-sprite"),u=document.querySelector(".speed");n.Hero=function(e){function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:30,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:50,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:50,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:50,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":f(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,n,r,i,o,a,u));return s.isImmortal=!1,s.accelerationStartTime=0,s.currentAccelerationTimer="",s.sprite={baseX:9,baseY:2,x:9,y:2,width:16,height:26,deltaX:32,deltaY:32},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":f(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Unit),r(c,[{key:"setNextSprite",value:function(){this.sprite.y<96?this.sprite.y+=this.sprite.deltaY:this.sprite.y=this.sprite.baseY}},{key:"update",value:function(e){u.innerHTML=~~(100*this.speed)/100;var t=this.sprite,n=this.x,r=this.y,i=this.width,o=this.height;return e.drawImage(a,t.x,t.y,t.width,t.height,n,r,i,o),this}},{key:"updateSpriteDirection",value:function(e){this.sprite.x=this.sprite.baseX+o[e]*this.sprite.deltaX}},{key:"makeHeroSpeedParamsDefault",value:function(){this.currentAccelerationTimer&&clearInterval(this.currentAccelerationTimer),this.speed=1,this.accelerationStartTime=0}},{key:"setNewSpeedTimer",value:function(){var e=this,t=this.speed;this.accelerationStartTime=0,this.currentAccelerationTimer=setInterval(function(){e.accelerationStartTime+=50,e.speed=t+5e-4*e.accelerationStartTime,3e3<=e.accelerationStartTime&&clearInterval(e.currentAccelerationTimer)},50)}}]),c}()},{"./unit":11}],10:[function(e,t,n){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.SmartEnemy=n.BASE_SMART_SIZE=void 0;var u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./unit"),s=e("../utils");n.BASE_SMART_SIZE=16;var a=document.querySelector(".smart-enemy-sprite"),o=10,h=5,l="13px Arial";n.SmartEnemy=function(e){function c(e,t,n,r,i,o,a){var u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:.6;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":f(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,n,r,i,o,a,u));return s.sprite={baseX:0,baseY:0,x:0,y:0,width:16,height:16,deltaX:16,deltaY:16},s.defense=0,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":f(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Unit),r(c,[{key:"setNextSprite",value:function(){this.sprite.x<48?this.sprite.x+=this.sprite.deltaX:this.sprite.x=this.sprite.baseX}},{key:"newPos",value:function(e){return this.updateDirection(e),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"newPos",this).call(this),this}},{key:"update",value:function(e){var t=this.sprite,n=this.x,r=this.y,i=this.width,o=this.height;return e.drawImage(a,t.x,t.y,t.width,t.height,n,r,i,o),this}},{key:"showWarningMessage",value:function(e){this.ctx.font=l,this.ctx.strokeText(e,this.x+o,this.y-h)}},{key:"updateDirection",value:function(e){var t=this.getFearParams(e.isImmortal);if(!(0,s.isDistanceBetweenUnitsMoreThanSafe)(e,this,t.distance)){var n=(0,s.getCenterCoordinates)(e),r=u(n,2),i=r[0],o=r[1],a=Math.atan2(i-this.x-this.width/2,o-this.y-this.height/2)+Math.PI;this.dir.y=t.isFear*Math.cos(a),this.dir.x=t.isFear*Math.sin(a),this.showWarningMessage(t.message)}}},{key:"getFearParams",value:function(e){return e?{distance:300,isFear:1,message:"You don't catch me!"}:{distance:200,isFear:-1,message:"I see you"}}},{key:"eat",value:function(e){var t=this.width*this.height,n=e.width*e.height,r=Math.pow((t+n)/t,.5);this.width*=r,this.height*=r,this.defense=Math.max(this.defense,e.defense)+3,this.speed=.6<this.speed?this.speed+=.1:.6,this.x=(this.x*t+e.x*n)/(t+n),this.y=(this.y*t+e.y*n)/(t+n)}}]),c}()},{"../utils":14,"./unit":11}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Unit=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("../controls");n.Unit=function(){function s(e,t,n,r,i,o,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.ctx=e,this.width=t,this.height=n,this.speed=u,this.x=r,this.y=i,this.dir={x:o,y:a}}return r(s,[{key:"newPos",value:function(){return this.x+=this.speed*this.dir.x,this.y+=this.speed*this.dir.y,(0,i.moveToAnotherSideIfGoBeyonceCanvas)(this.ctx,this),this}}]),s}()},{"../controls":6}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Game=void 0;var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./creatures/hero"),a=e("./creatures/dummyEnemy"),u=e("./creatures/smartEnemy"),c=e("./controls"),f=e("./utils"),h=e("./creatures/bullet"),o=e("./buffs/buff-generator"),l=e("./main");function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var d=document.querySelector(".score");n.Game=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.startTime=Date.now(),this.currentTime=Date.now(),this.canvas.width=700,this.canvas.height=700,this.ctx=this.canvas.getContext("2d"),this.hero=new i.Hero(this.ctx),this.dummyEnemies=[],this.smartEnemies=[],this.heroBullets=[],this.timers=[],this.buffItem="",this.handleHeroPosition()}return r(t,[{key:"start",value:function(){var n=this,e=setInterval(function(){return n.updateGame()},10),t=setInterval(function(){return n.updateSprites()},200),r=setInterval(function(){return n.addEnemy(n.smartEnemies,u.SmartEnemy,u.BASE_SMART_SIZE)},2e3),i=setInterval(function(){return n.addEnemy(n.dummyEnemies,a.DummyEnemy,a.BASE_DUMMY_SIZE)},4e3),o=setInterval(function(){return n.addBuffItem()},12e3);this.timers.push(e,t,r,i,o),(0,c.addHeroControls)(this.hero,function(e,t){return n.addBullet(e,t)})}},{key:"updateGame",value:function(){this.updateScore(),this.updateCanvasState()}},{key:"updateScore",value:function(){this.currentTime=this.currentTime+10;var e=(this.currentTime-this.startTime)/1e3;d.innerHTML=e}},{key:"updateSprites",value:function(){[this.hero].concat(y(this.dummyEnemies),y(this.smartEnemies)).forEach(function(e){return e.setNextSprite()})}},{key:"updateCanvasState",value:function(){this.ctx.clearRect(0,0,this.ctx.canvas.clientWidth,this.ctx.canvas.clientHeight),this.handleHeroPosition(),this.handleBuffItemPosition(),this.handleDummyEnemiesPosition(),this.handleSmartEnemiesPosition(),this.handleHeroBulletsPosition(),this.handleEnemiesDeath(),this.handleHeroDeath(),this.handleBuffs()}},{key:"handleHeroPosition",value:function(){this.hero.newPos().update(this.ctx)}},{key:"handleBuffItemPosition",value:function(){this.buffItem&&this.buffItem.draw(this.ctx)}},{key:"handleDummyEnemiesPosition",value:function(){var t=this;this.dummyEnemies.forEach(function(e){return e.newPos().update(t.ctx)})}},{key:"handleSmartEnemiesPosition",value:function(){var r=this;this.smartEnemies=this.smartEnemies.reduce(function(e,t){if(e.some(function(e){return(0,f.ifUnitsTouchEachOther)(e,t)}))return e;var n=r.smartEnemies.find(function(e){return(0,f.ifUnitsTouchEachOther)(e,t)&&e!==t});return n&&t.eat(n),e.push(t),e},[]),this.smartEnemies.forEach(function(e){return e.newPos(r.hero).update(r.ctx)})}},{key:"handleHeroBulletsPosition",value:function(){var t=this,n=this.ctx.canvas.clientWidth,r=this.ctx.canvas.clientHeight,i=void 0;this.heroBullets=this.heroBullets.filter(function(e){return(i=e.x<n&&0<e.x&&e.y<r&&0<e.y)&&e.newPos().update(t.ctx),i})}},{key:"handleEnemiesDeath",value:function(){var n=this,e=[],r=[],i=[],o=[].concat(y(this.smartEnemies),y(this.dummyEnemies));this.smartEnemies.forEach(function(t){n.heroBullets.some(function(e){return n.shouldEnemyDieIfBulletHitsHim(t,e)})||e.push(t)}),this.dummyEnemies.forEach(function(t){n.heroBullets.some(function(e){return n.shouldEnemyDieIfBulletHitsHim(t,e)})||r.push(t)}),this.heroBullets.forEach(function(t){o.some(function(e){return n.shouldEnemyDieIfBulletHitsHim(e,t)})||i.push(t)}),this.smartEnemies=e,this.dummyEnemies=r,this.heroBullets=i}},{key:"handleHeroDeath",value:function(){var t=this;if(!this.hero.isImmortal){[].concat(y(this.dummyEnemies),y(this.smartEnemies)).some(function(e){return(0,f.ifUnitsTouchEachOther)(t.hero,e,5)})&&this.finishGame()}}},{key:"finishGame",value:function(){this.timers.map(function(e){return clearInterval(e)});var e=d.innerText,t=prompt("You lose, your score is "+e,"User");(0,l.sendResultToDatabase)(e,t||"User"),setTimeout(function(){return(0,l.initializeGame)()},10)}},{key:"handleBuffs",value:function(){if((0,f.ifUnitsTouchEachOther)(this.hero,this.buffItem)){this.buffItem.activateBuff(this,2e4),this.buffItem=""}}},{key:"shouldEnemyDieIfBulletHitsHim",value:function(e,t){var n=(0,f.ifUnitsTouchEachOther)(e,t);return n&&(e=this.damageUnit(e)),!(!n||!(e.width<25||e.height<25))}},{key:"damageUnit",value:function(e){var t=h.BULLET.damage,n=h.BULLET.speedDecrease,r=e.width*e.height,i=(r-(0<t-e.defense?t-e.defense:4))/r;return e.width*=i,e.height*=i,e.speed>n&&(e.speed-=n),e}},{key:"addEnemy",value:function(e,t,n){var r=this.generateRandomPositionAndDirection(this.hero,n),i=r.size,o=r.x,a=r.y,u=r.alfaX,s=r.alfaY,c=new t(this.ctx,i,i,o,a,u,s);e.push(c)}},{key:"addBullet",value:function(e,t){var n=(0,f.getCenterCoordinates)(this.hero),r=s(n,2),i=r[0],o=r[1],a=Math.atan2(i-e,o-t)+Math.PI,u=new h.Bullet(this.ctx,i,o,Math.sin(a),Math.cos(a));this.heroBullets.push(u)}},{key:"addBuffItem",value:function(){var e=this.generateRandomPositionAndDirection(this.hero,0),t=e.x,n=e.y,r=new o.RandomBuff(this.ctx,20,20,t,n);this.buffItem=r}},{key:"generateRandomPositionAndDirection",value:function(e,t){for(var n=void 0,r=void 0,i=20*Math.random()+t;n=Math.random()*this.ctx.canvas.clientWidth,r=Math.random()*this.ctx.canvas.clientHeight,!(0,f.isDistanceBetweenUnitsMoreThanSafe)(e,{x:n,y:r,width:i,height:i}););return{x:n,y:r,alfaX:2*Math.random()-1,alfaY:2*Math.random()-1,size:i}}}]),t}()},{"./buffs/buff-generator":1,"./controls":6,"./creatures/bullet":7,"./creatures/dummyEnemy":8,"./creatures/hero":9,"./creatures/smartEnemy":10,"./main":13,"./utils":14}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initializeGame=f,n.sendResultToDatabase=function(e,t){fetch(s,{method:"POST",body:JSON.stringify({score:e,name:t})})},n.getScoreFromDatabase=l;var r=e("./game-arena"),i=void 0,o=document.querySelector(".score"),a=document.querySelector(".speed"),u=document.querySelector("canvas"),s="https://shooter-game-2a1be.firebaseio.com/statistics/.json",c=[];function f(){l(),i=new r.Game(u),o.innerHTML=0,a.innerHTML=0,document.addEventListener("keydown",h,{once:!0})}function h(){i.start()}function l(){fetch(s,{method:"GET"}).then(function(e){return e.json()}).then(function(e){c=e,console.log(c)}).catch(function(e){return console.log("misterious error")})}f()},{"./game-arena":12}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var h=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function l(e){return[e.x+.5*e.width,e.y+.5*e.height]}function r(e,t){var n=l(e),r=h(n,2),i=r[0],o=r[1],a=l(t),u=h(a,2),s=u[0],c=u[1];return Math.pow(Math.pow(i-s,2)+Math.pow(o-c,2),.5)}n.getCenterCoordinates=l,n.getDistanceBetweenUnits=r,n.ifUnitsTouchEachOther=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=l(e),i=h(r,2),o=i[0],a=i[1],u=l(t),s=h(u,2),c=s[0],f=s[1];return Math.abs(c-o)<(e.width+t.width-y-n)/2&&Math.abs(f-a)<(e.height+t.height-y-n)/2},n.isDistanceBetweenUnitsMoreThanSafe=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:i;return r(e,t)>n},n.mergeUnits=function(e,t){var n=e.width*e.height,r=t.width*t.height,i=Math.pow((n+r)/n,.5);return e.width*=i,e.height*=i,e};var y=2;var i=200},{}]},{},[13]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJmcm9udGVuZC9qcy9idWZmcy9idWZmLWdlbmVyYXRvci5qcyIsImZyb250ZW5kL2pzL2J1ZmZzL2J1ZmYtaXRlbS5qcyIsImZyb250ZW5kL2pzL2J1ZmZzL3NoaWVsZC5qcyIsImZyb250ZW5kL2pzL2J1ZmZzL3Nob2VzLmpzIiwiZnJvbnRlbmQvanMvYnVmZnMvc3dvcmQuanMiLCJmcm9udGVuZC9qcy9jb250cm9scy5qcyIsImZyb250ZW5kL2pzL2NyZWF0dXJlcy9idWxsZXQuanMiLCJmcm9udGVuZC9qcy9jcmVhdHVyZXMvZHVtbXlFbmVteS5qcyIsImZyb250ZW5kL2pzL2NyZWF0dXJlcy9oZXJvLmpzIiwiZnJvbnRlbmQvanMvY3JlYXR1cmVzL3NtYXJ0RW5lbXkuanMiLCJmcm9udGVuZC9qcy9jcmVhdHVyZXMvdW5pdC5qcyIsImZyb250ZW5kL2pzL2dhbWUtYXJlbmEuanMiLCJmcm9udGVuZC9qcy9tYWluLmpzIiwiZnJvbnRlbmQvanMvdXRpbHMuanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiUmFuZG9tQnVmZiIsImN0eCIsIndpZHRoIiwiaGVpZ2h0IiwieCIsInkiLCJidWZmVHlwZSIsImJ1ZmZUeXBlcyIsIk1hdGgiLCJyYW5kb20iLCJjb25zdHJ1Y3RvciIsInNlbGVjdG9yIiwiX3N3b3JkIiwiX3NoaWVsZCIsIl9zaG9lcyIsIlN3b3JkIiwiU2hpZWxkIiwiU2hvZXMiLCJCdWZmSXRlbSIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJzcHJpdGUiLCJpbWFnZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImRyYXdJbWFnZSIsIl9idWZmSXRlbSIsInR5cGUiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9fcHJvdG9fXyIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwiZ2FtZU9iamVjdCIsInRpbWUiLCJoZXJvIiwiaXNJbW1vcnRhbCIsInNldFRpbWVvdXQiLCJzcGVlZCIsImVuZW1pZXMiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJzbWFydEVuZW1pZXMiLCJkdW1teUVuZW1pZXMiLCJmb3JFYWNoIiwiZW5lbXkiLCJfYnVsbGV0IiwiZ3Jvd0J1bGxldCIsInNocmlua0J1bGxldCIsImFkZEhlcm9Db250cm9scyIsImNyZWF0ZUJ1bGxldCIsImRpciIsInByZXZpb3VzS2V5Q29kZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsIm5ld0tleUNvZGUiLCJrZXlDb2RlIiwibWFrZUhlcm9TcGVlZFBhcmFtc0RlZmF1bHQiLCJzZXROZXdTcGVlZFRpbWVyIiwidXBkYXRlU3ByaXRlRGlyZWN0aW9uIiwiY2FudmFzIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJtb3ZlVG9Bbm90aGVyU2lkZUlmR29CZXlvbmNlQ2FudmFzIiwidW5pdCIsIkZJRUxEX1dJRFRIIiwiY2xpZW50V2lkdGgiLCJGSUVMRF9IRUlHSFQiLCJjbGllbnRIZWlnaHQiLCJwYXJhbSIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIkJVTExFVCIsInNpemUiLCJfdW5pdCIsImRhbWFnZSIsInNwZWVkRGVjcmVhc2UiLCJCdWxsZXQiLCJhbGZhWCIsImFsZmFZIiwiY29sb3IiLCJfdGhpcyIsIlVuaXQiLCJiZWdpblBhdGgiLCJmaWxsU3R5bGUiLCJhcmMiLCJQSSIsImZpbGwiLCJCQVNFX0RVTU1ZX1NJWkUiLCJpbWciLCJTUFJJVEVfTEFZRVIiLCJEdW1teUVuZW15IiwiYmFzZVgiLCJiYXNlWSIsImdldFNwcml0ZUxheWVyVmFsdWUiLCJkZWx0YVgiLCJkZWx0YVkiLCJhYnMiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJzcGVlZExhYmVsIiwiSGVybyIsImFjY2VsZXJhdGlvblN0YXJ0VGltZSIsImN1cnJlbnRBY2NlbGVyYXRpb25UaW1lciIsImlubmVySFRNTCIsImRpcmVjdGlvbiIsImNsZWFySW50ZXJ2YWwiLCJfdGhpczIiLCJzdGFydFNwZWVkIiwic2V0SW50ZXJ2YWwiLCJfdXRpbHMiLCJCQVNFX1NNQVJUX1NJWkUiLCJNRVNTQUdFIiwiU21hcnRFbmVteSIsImRlZmVuc2UiLCJ1cGRhdGVEaXJlY3Rpb24iLCJfZ2V0IiwicHJvdG90eXBlIiwidGV4dCIsImZvbnQiLCJzdHJva2VUZXh0IiwiZmVhclBhcmFtcyIsImdldEZlYXJQYXJhbXMiLCJpc0Rpc3RhbmNlQmV0d2VlblVuaXRzTW9yZVRoYW5TYWZlIiwiZGlzdGFuY2UiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXMiLCJnZXRDZW50ZXJDb29yZGluYXRlcyIsIl9nZXRDZW50ZXJDb29yZGluYXRlczIiLCJfc2xpY2VkVG9BcnJheSIsImhlcm9YIiwiaGVyb1kiLCJhbmdsZSIsImF0YW4yIiwiaXNGZWFyIiwiY29zIiwic2luIiwic2hvd1dhcm5pbmdNZXNzYWdlIiwibWVzc2FnZSIsInMxIiwiczIiLCJrIiwicG93IiwibWF4IiwiX2NvbnRyb2xzIiwiX2hlcm8iLCJfZHVtbXlFbmVteSIsIl9zbWFydEVuZW15IiwiX2J1ZmZHZW5lcmF0b3IiLCJfbWFpbiIsInNjb3JlTGFiZWwiLCJHYW1lIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsImN1cnJlbnRUaW1lIiwiZ2V0Q29udGV4dCIsImhlcm9CdWxsZXRzIiwidGltZXJzIiwiYnVmZkl0ZW0iLCJoYW5kbGVIZXJvUG9zaXRpb24iLCJ0aW1lcjEiLCJ1cGRhdGVHYW1lIiwidGltZXIyIiwidXBkYXRlU3ByaXRlcyIsInRpbWVyMyIsImFkZEVuZW15IiwidGltZXI0IiwidGltZXI1IiwiYWRkQnVmZkl0ZW0iLCJwdXNoIiwiYWRkQnVsbGV0IiwidXBkYXRlU2NvcmUiLCJ1cGRhdGVDYW52YXNTdGF0ZSIsInZhbHVlIiwic2V0TmV4dFNwcml0ZSIsImNsZWFyUmVjdCIsImhhbmRsZUJ1ZmZJdGVtUG9zaXRpb24iLCJoYW5kbGVEdW1teUVuZW1pZXNQb3NpdGlvbiIsImhhbmRsZVNtYXJ0RW5lbWllc1Bvc2l0aW9uIiwiaGFuZGxlSGVyb0J1bGxldHNQb3NpdGlvbiIsImhhbmRsZUVuZW1pZXNEZWF0aCIsImhhbmRsZUhlcm9EZWF0aCIsImhhbmRsZUJ1ZmZzIiwibmV3UG9zIiwidXBkYXRlIiwiZHJhdyIsIl90aGlzMyIsInJlZHVjZSIsIm5ld0FycmF5IiwiY3VycmVudEVuZW15Iiwic29tZSIsImlmVW5pdHNUb3VjaEVhY2hPdGhlciIsInNlY29uZEVuZW15IiwiZmluZCIsImVhdCIsIl90aGlzNCIsImlzSW5zaWRlQ2FudmFzIiwiZmlsdGVyIiwiYnVsbGV0IiwiX3RoaXM1IiwibmV3U21hcnRFbmVtaWVzIiwibmV3RHVtbXlFbmVtaWVzIiwibmV3QnVsbGV0cyIsImFsbEVuZW1pZXMiLCJzaG91bGRFbmVteURpZUlmQnVsbGV0SGl0c0hpbSIsIl90aGlzNiIsImZpbmlzaEdhbWUiLCJtYXAiLCJ0aW1lciIsInNjb3JlIiwiaW5uZXJUZXh0IiwibmFtZSIsInByb21wdCIsInNlbmRSZXN1bHRUb0RhdGFiYXNlIiwiaW5pdGlhbGl6ZUdhbWUiLCJhY3RpdmF0ZUJ1ZmYiLCJpc0NvbnRhY3QiLCJkYW1hZ2VVbml0IiwibWFzcyIsImVuZW15QXJyYXkiLCJjcmVhdHVyZUNvbnN0cnVjdG9yIiwiYmFzZVNpemUiLCJfZ2VuZXJhdGVSYW5kb21Qb3NpdGkiLCJnZW5lcmF0ZVJhbmRvbVBvc2l0aW9uQW5kRGlyZWN0aW9uIiwiX2dlbmVyYXRlUmFuZG9tUG9zaXRpMiIsImZldGNoIiwiVVJMIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRTY29yZUZyb21EYXRhYmFzZSIsIl9nYW1lQXJlbmEiLCJnYW1lIiwiYmVzdFNjb3JlcyIsInN0YXJ0R2FtZSIsIm9uY2UiLCJzdGFydCIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJkYXRhIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJnZXREaXN0YW5jZUJldHdlZW5Vbml0cyIsInVuaXQxIiwidW5pdDIiLCJ4MSIsInkxIiwiX2dldENlbnRlckNvb3JkaW5hdGVzMyIsIl9nZXRDZW50ZXJDb29yZGluYXRlczQiLCJ4MiIsInkyIiwiZGVsdGEiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXM1IiwiX2dldENlbnRlckNvb3JkaW5hdGVzNiIsIl9nZXRDZW50ZXJDb29yZGluYXRlczciLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXM4IiwiUElYRUxfQk9SREVSIiwiZGlzdCIsIlNBRkVfRElTVEFOQ0UiLCJtZXJnZVVuaXRzIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxJQUFBRSxFQUFBLG1CQUFBQyxTQUFBQSxRQUFBLElBQUFGLEdBQUFDLEVBQUEsT0FBQUEsRUFBQUYsR0FBQSxHQUFBLEdBQUFJLEVBQUEsT0FBQUEsRUFBQUosR0FBQSxHQUFBLElBQUFLLEVBQUEsSUFBQUMsTUFBQSx1QkFBQU4sRUFBQSxLQUFBLE1BQUFLLEVBQUFFLEtBQUEsbUJBQUFGLEVBQUEsSUFBQUcsRUFBQVgsRUFBQUcsR0FBQSxDQUFBUyxRQUFBLElBQUFiLEVBQUFJLEdBQUEsR0FBQVUsS0FBQUYsRUFBQUMsUUFBQSxTQUFBZCxHQUFBLE9BQUFJLEVBQUFILEVBQUFJLEdBQUEsR0FBQUwsSUFBQUEsSUFBQWEsRUFBQUEsRUFBQUMsUUFBQWQsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxPQUFBRCxFQUFBRyxHQUFBUyxRQUFBLElBQUEsSUFBQUwsRUFBQSxtQkFBQUQsU0FBQUEsUUFBQUgsRUFBQSxFQUFBQSxFQUFBRixFQUFBYSxPQUFBWCxJQUFBRCxFQUFBRCxFQUFBRSxJQUFBLE9BQUFELEVBQUEsQ0FBQSxDQUFBYSxFQUFBLENBQUEsU0FBQVQsRUFBQVUs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NEwsRUFDNUNsSSxFQUQ0Q3lILEdBQUFVLEVBQUFqSSxFQUFBZ0ksRUFBQSxHQUFBUCxFQUFBUSxFQUFBLEdBQUFQLEVBQUFPLEVBQUEsR0FBQUMsRUFFNUNwSSxFQUY0QzBILEdBQUFXLEVBQUFuSSxFQUFBa0ksRUFBQSxHQUFBTCxFQUFBTSxFQUFBLEdBQUFMLEVBQUFLLEVBQUEsR0FHN0QsT0FDRTVQLEtBQUF3RixJQUFTOEosRUFBVEosSUFBcUJGLEVBQUF0UCxNQUFjdVAsRUFBZHZQLE1BQUFtUSxFQUFETCxHQUFwQixHQUNHeFAsS0FBQXdGLElBQVMrSixFQUFUSixJQUFxQkgsRUFBQXJQLE9BQWVzUCxFQUFmdFAsT0FBQWtRLEVBQURMLEdBRnpCLEtBUWNwSSxtQ0FBVCxTQUFBNEgsRUFBQUMsR0FBZ0YsSUFBdEJhLEVBQXNCLEVBQUFqTSxVQUFBeEUsYUFBQXlFLElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUFma00sRUFDdEUsT0FBT2hCLEVBQUFDLEVBQUFDLEdBQVBhLEtBR2NFLFdBQVQsU0FBQWhCLEVBQUFDLEdBQ0wsSUFBTTlHLEVBQUs2RyxFQUFBdFAsTUFBY3NQLEVBQXpCclAsT0FDTXlJLEVBQUs2RyxFQUFBdlAsTUFBY3VQLEVBQXpCdFAsT0FDTTBJLEVBQUlySSxLQUFBc0ksS0FBVUgsRUFBREMsR0FBVEQsRUFBVixJQUdBLE9BRkE2RyxFQUFBdFAsT0FBQTJJLEVBQ0EyRyxFQUFBclAsUUFBQTBJLEVBQ0EyRyxHQXRCRixJQUFNYSxFQUFOLEVBVUEsSUFBTUUsRUFBTiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IHsgU3dvcmQgfSBmcm9tICcuL3N3b3JkJztcclxuaW1wb3J0IHsgU2hpZWxkIH0gZnJvbSAnLi9zaGllbGQnO1xyXG5pbXBvcnQgeyBTaG9lcyB9IGZyb20gJy4vc2hvZXMnO1xyXG5cclxuY29uc3QgYnVmZlR5cGVzID0gW3tcclxuICBzZWxlY3RvcjogJy5zd29yZCcsXHJcbiAgY29uc3RydWN0b3I6IFN3b3JkLFxyXG59LCB7XHJcbiAgc2VsZWN0b3I6ICcuc2hpZWxkJyxcclxuICBjb25zdHJ1Y3RvcjogU2hpZWxkLFxyXG59LCB7XHJcbiAgc2VsZWN0b3I6ICcuc2hvZXMnLFxyXG4gIGNvbnN0cnVjdG9yOiBTaG9lcyxcclxufV1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBSYW5kb21CdWZmKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSkge1xyXG4gIGNvbnN0IGJ1ZmZUeXBlID0gYnVmZlR5cGVzW35+KE1hdGgucmFuZG9tKCkgKiAzKV1cclxuICBjb25zdCBidWZmID0gYnVmZlR5cGUuY29uc3RydWN0b3JcclxuICByZXR1cm4gbmV3IGJ1ZmYoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBidWZmVHlwZS5zZWxlY3Rvcik7XHJcbn07IiwiXHJcbmV4cG9ydCBjbGFzcyBCdWZmSXRlbSB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBzZWxlY3Rvcikge1xyXG4gICAgdGhpcy5jdHggPSBjdHg7XHJcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gICAgdGhpcy5zcHJpdGUgPSB7XHJcbiAgICAgIHg6IDAsXHJcbiAgICAgIHk6IDAsXHJcbiAgICAgIHdpZHRoOiAxNixcclxuICAgICAgaGVpZ2h0OiAxNixcclxuICAgIH1cclxuICAgIHRoaXMuaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGRyYXcoY3R4KSB7XHJcbiAgICBjb25zdCB7IGltYWdlLCBzcHJpdGUsIHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IHRoaXNcclxuICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIHNwcml0ZS54LCBzcHJpdGUueSwgc3ByaXRlLndpZHRoLCBzcHJpdGUuaGVpZ2h0LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJ1ZmZJdGVtIH0gZnJvbSAnLi9idWZmLWl0ZW0nO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaWVsZCBleHRlbmRzIEJ1ZmZJdGVtIHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIHR5cGUpIHtcclxuICAgIHN1cGVyKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgdHlwZSk7XHJcbiAgfVxyXG5cclxuICBhY3RpdmF0ZUJ1ZmYoZ2FtZU9iamVjdCwgdGltZSkge1xyXG4gICAgZ2FtZU9iamVjdC5oZXJvLmlzSW1tb3J0YWwgPSB0cnVlO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiBnYW1lT2JqZWN0Lmhlcm8uaXNJbW1vcnRhbCA9IGZhbHNlLCB0aW1lKVxyXG4gIH1cclxufSIsImltcG9ydCB7IEJ1ZmZJdGVtIH0gZnJvbSAnLi9idWZmLWl0ZW0nO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNob2VzIGV4dGVuZHMgQnVmZkl0ZW0ge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgdHlwZSkge1xyXG4gICAgc3VwZXIoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCB0eXBlKTtcclxuICB9XHJcblxyXG4gIGFjdGl2YXRlQnVmZihnYW1lT2JqZWN0LCB0aW1lKSB7XHJcbiAgICBjb25zdCB2YWx1ZSA9IDI7XHJcbiAgICBnYW1lT2JqZWN0Lmhlcm8uc3BlZWQgKj0gdmFsdWU7XHJcbiAgICBjb25zdCBlbmVtaWVzID0gWy4uLmdhbWVPYmplY3Quc21hcnRFbmVtaWVzLCAuLi5nYW1lT2JqZWN0LmR1bW15RW5lbWllc107XHJcbiAgICBlbmVtaWVzLmZvckVhY2goZW5lbXkgPT4gZW5lbXkuc3BlZWQgLz0gdmFsdWUpO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBnYW1lT2JqZWN0Lmhlcm8uc3BlZWQgLz0gdmFsdWU7XHJcbiAgICAgIGVuZW1pZXMuZm9yRWFjaChlbmVteSA9PiBlbmVteS5zcGVlZCAqPSB2YWx1ZSk7XHJcbiAgICB9LCB0aW1lKVxyXG4gIH1cclxufSIsImltcG9ydCB7IEJ1ZmZJdGVtIH0gZnJvbSAnLi9idWZmLWl0ZW0nO1xyXG5pbXBvcnQgeyBncm93QnVsbGV0LCBzaHJpbmtCdWxsZXQgfSBmcm9tICcuLi9jcmVhdHVyZXMvYnVsbGV0JztcclxuXHJcbmV4cG9ydCBjbGFzcyBTd29yZCBleHRlbmRzIEJ1ZmZJdGVtIHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIHR5cGUpIHtcclxuICAgIHN1cGVyKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgdHlwZSk7XHJcbiAgfVxyXG5cclxuICBhY3RpdmF0ZUJ1ZmYoZ2FtZU9iamVjdCwgdGltZSkge1xyXG4gICAgZ3Jvd0J1bGxldCgpO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiBzaHJpbmtCdWxsZXQoKSwgdGltZSlcclxuICB9XHJcblxyXG59IiwiY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY2FudmFzJyk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkSGVyb0NvbnRyb2xzKGhlcm8sIGNyZWF0ZUJ1bGxldCkge1xyXG4gIHN1YnNyaWJlVG9Nb3ZlKGhlcm8pO1xyXG4gIHN1YnNjcmliZVRvU2hvb3QoY3JlYXRlQnVsbGV0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3Vic2NyaWJlVG9TaG9vdChjcmVhdGVCdWxsZXQpIHtcclxuICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZXZlbnQgPT4ge1xyXG4gICAgY3JlYXRlQnVsbGV0KGV2ZW50Lm9mZnNldFgsIGV2ZW50Lm9mZnNldFkpO1xyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1YnNyaWJlVG9Nb3ZlKGhlcm8pIHtcclxuICBjb25zdCB7IGRpciB9ID0gaGVybztcclxuICBsZXQgcHJldmlvdXNLZXlDb2RlO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGV2ZW50ID0+IHtcclxuICAgIHByZXZpb3VzS2V5Q29kZSA9IGNoYW5nZVNwZWVkSWZIZXJvQ2hhbmdlZERpcmVjdGlvbihwcmV2aW91c0tleUNvZGUsIGV2ZW50LmtleUNvZGUsIGhlcm8pO1xyXG4gICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XHJcbiAgICAgIGNhc2UgMzg6IHtcclxuICAgICAgICBoZXJvLnVwZGF0ZVNwcml0ZURpcmVjdGlvbigndG9wJyk7XHJcbiAgICAgICAgZGlyLnkgPSAtMTtcclxuICAgICAgICBkaXIueCA9IDA7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSAzOToge1xyXG4gICAgICAgIGhlcm8udXBkYXRlU3ByaXRlRGlyZWN0aW9uKCdyaWdodCcpO1xyXG4gICAgICAgIGRpci55ID0gMDtcclxuICAgICAgICBkaXIueCA9IDE7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSA0MDoge1xyXG4gICAgICAgIGhlcm8udXBkYXRlU3ByaXRlRGlyZWN0aW9uKCdib3R0b20nKTtcclxuICAgICAgICBkaXIueSA9IDE7XHJcbiAgICAgICAgZGlyLnggPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgMzc6IHtcclxuICAgICAgICBoZXJvLnVwZGF0ZVNwcml0ZURpcmVjdGlvbignbGVmdCcpO1xyXG4gICAgICAgIGRpci54ID0gLTE7XHJcbiAgICAgICAgZGlyLnkgPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgMTc6IHtcclxuICAgICAgICBkaXIueCA9IDA7XHJcbiAgICAgICAgZGlyLnkgPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVNwZWVkSWZIZXJvQ2hhbmdlZERpcmVjdGlvbihwcmV2aW91c0tleUNvZGUsIG5ld0tleUNvZGUsIGhlcm8pIHtcclxuICBpZiAocHJldmlvdXNLZXlDb2RlICE9PSBuZXdLZXlDb2RlKSB7XHJcbiAgICBoZXJvLm1ha2VIZXJvU3BlZWRQYXJhbXNEZWZhdWx0KCk7XHJcbiAgICBoZXJvLnNldE5ld1NwZWVkVGltZXIoKTtcclxuICAgIHJldHVybiBuZXdLZXlDb2RlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gcHJldmlvdXNLZXlDb2RlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVUb0Fub3RoZXJTaWRlSWZHb0JleW9uY2VDYW52YXMoY3R4LCB1bml0KSB7XHJcbiAgbGV0IEZJRUxEX1dJRFRIID0gY3R4LmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICBsZXQgRklFTERfSEVJR0hUID0gY3R4LmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcblxyXG4gIGlmICh1bml0LnggPiBGSUVMRF9XSURUSCkge1xyXG4gICAgdW5pdC54ID0gMDtcclxuICB9IGVsc2UgaWYgKHVuaXQueCA8IDApIHtcclxuICAgIHVuaXQueCA9IEZJRUxEX1dJRFRIO1xyXG4gIH1cclxuICBpZiAodW5pdC55ID4gRklFTERfSEVJR0hUKSB7XHJcbiAgICB1bml0LnkgPSAwO1xyXG4gIH0gZWxzZSBpZiAodW5pdC55IDwgMCkge1xyXG4gICAgdW5pdC55ID0gRklFTERfSEVJR0hUO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBVbml0IH0gZnJvbSBcIi4vdW5pdFwiO1xyXG5cclxuY29uc3QgU1BFRUQgPSAxMDtcclxuY29uc3QgQ09MT1IgPSBcImJsYWNrXCI7XHJcbmV4cG9ydCBjb25zdCBCVUxMRVQgPSB7XHJcbiAgc2l6ZTogNixcclxuICBkYW1hZ2U6IDIwLFxyXG4gIHNwZWVkRGVjcmVhc2U6IDAuMTVcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJ1bGxldCBleHRlbmRzIFVuaXQge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgeCwgeSwgYWxmYVgsIGFsZmFZLCB3aWR0aCA9IEJVTExFVC5zaXplLCBoZWlnaHQgPSBCVUxMRVQuc2l6ZSwgc3BlZWQgPSBTUEVFRCwgY29sb3IgPSBDT0xPUikge1xyXG4gICAgc3VwZXIoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4IC0gQlVMTEVULnNpemUgLyAyLCB5IC0gQlVMTEVULnNpemUgLyAyLCBhbGZhWCwgYWxmYVksIHNwZWVkKTtcclxuICAgIHRoaXMuY29sb3IgPSBjb2xvclxyXG4gIH1cclxuXHJcbiAgbmV3UG9zKCkge1xyXG4gICAgdGhpcy54ICs9IHRoaXMuc3BlZWQgKiB0aGlzLmRpci54O1xyXG4gICAgdGhpcy55ICs9IHRoaXMuc3BlZWQgKiB0aGlzLmRpci55O1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoY3R4KSB7XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgIGN0eC5hcmModGhpcy54LCB0aGlzLnksIEJVTExFVC5zaXplLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XHJcbiAgICBjdHguZmlsbCgpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ3Jvd0J1bGxldChwYXJhbSA9IDIpIHtcclxuICBCVUxMRVQuc2l6ZSAqPSBwYXJhbTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNocmlua0J1bGxldChwYXJhbSA9IDIpIHtcclxuICBCVUxMRVQuc2l6ZSAvPSBwYXJhbTtcclxufVxyXG4iLCJpbXBvcnQgeyBVbml0IH0gZnJvbSBcIi4vdW5pdFwiO1xyXG5cclxuY29uc3QgU1BFRUQgPSAwLjU7XHJcblxyXG5leHBvcnQgY29uc3QgQkFTRV9EVU1NWV9TSVpFID0gMjU7XHJcbmNvbnN0IGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kdW1teS1lbmVteS1zcHJpdGUnKTtcclxuY29uc3QgU1BSSVRFX0xBWUVSID0ge1xyXG4gIHRvcDogMyxcclxuICBsZWZ0OiAxLFxyXG4gIHJpZ2h0OiAwLFxyXG4gIGJvdHRvbTogMlxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRHVtbXlFbmVteSBleHRlbmRzIFVuaXQge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgYWxmYVgsIGFsZmFZLCBzcGVlZCA9IFNQRUVEKSB7XHJcbiAgICBzdXBlcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQpO1xyXG4gICAgdGhpcy5zcHJpdGUgPSB7XHJcbiAgICAgIGJhc2VYOiAwLFxyXG4gICAgICBiYXNlWTogMCxcclxuICAgICAgeDogMCxcclxuICAgICAgeTogdGhpcy5nZXRTcHJpdGVMYXllclZhbHVlKHRoaXMuZGlyLngsIHRoaXMuZGlyLnkpICogMTYsXHJcbiAgICAgIHdpZHRoOiAxNixcclxuICAgICAgaGVpZ2h0OiAxNixcclxuICAgICAgZGVsdGFYOiAxNixcclxuICAgICAgZGVsdGFZOiAxNlxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0TmV4dFNwcml0ZSgpIHtcclxuICAgIGlmICh0aGlzLnNwcml0ZS54IDwgMTYpIHtcclxuICAgICAgdGhpcy5zcHJpdGUueCArPSB0aGlzLnNwcml0ZS5kZWx0YVg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy5zcHJpdGUuYmFzZVg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoY3R4KSB7XHJcbiAgICBjb25zdCB7IHNwcml0ZSwgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gdGhpc1xyXG4gICAgY3R4LmRyYXdJbWFnZShpbWcsIHNwcml0ZS54LCBzcHJpdGUueSwgc3ByaXRlLndpZHRoLCBzcHJpdGUuaGVpZ2h0LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBnZXRTcHJpdGVMYXllclZhbHVlKHgsIHkpIHtcclxuICAgIGlmIChNYXRoLmFicyh4KSA+IE1hdGguYWJzKHkpKSB7XHJcbiAgICAgIHJldHVybiB4ID4gMCA/IFNQUklURV9MQVlFUi5yaWdodCA6IFNQUklURV9MQVlFUi5sZWZ0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHkgPiAwID8gU1BSSVRFX0xBWUVSLmJvdHRvbSA6IFNQUklURV9MQVlFUi50b3A7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG5cclxuIiwiaW1wb3J0IHsgVW5pdCB9IGZyb20gXCIuL3VuaXRcIjtcclxuXHJcbmNvbnN0IFNQRUVEID0gMTtcclxuY29uc3QgSEVJR0hUID0gNTA7XHJcbmNvbnN0IFdJRFRIID0gMzA7XHJcbmNvbnN0IEFDQ0VMRVJBVElPTiA9IDAuMDAwNTtcclxuY29uc3QgTUFYX0FDQ0VMRVJBVElPTl9USU1FID0gMzAwMDtcclxuY29uc3QgU1BSSVRFX0xBWUVSID0ge1xyXG4gIHRvcDogMixcclxuICBsZWZ0OiAzLFxyXG4gIHJpZ2h0OiAwLFxyXG4gIGJvdHRvbTogMVxyXG59XHJcblxyXG5jb25zdCBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyby1zcHJpdGUnKTtcclxuY29uc3Qgc3BlZWRMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zcGVlZCcpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhlcm8gZXh0ZW5kcyBVbml0IHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoID0gV0lEVEgsIGhlaWdodCA9IEhFSUdIVCwgeCA9IDUwLCB5ID0gNTAsIGFsZmFYID0gMCwgYWxmYVkgPSAwLCBzcGVlZCA9IFNQRUVEKSB7XHJcbiAgICBzdXBlcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQpO1xyXG4gICAgdGhpcy5pc0ltbW9ydGFsID0gZmFsc2U7XHJcbiAgICB0aGlzLmFjY2VsZXJhdGlvblN0YXJ0VGltZSA9IDA7XHJcbiAgICB0aGlzLmN1cnJlbnRBY2NlbGVyYXRpb25UaW1lciA9ICcnO1xyXG5cclxuICAgIHRoaXMuc3ByaXRlID0ge1xyXG4gICAgICBiYXNlWDogOSxcclxuICAgICAgYmFzZVk6IDIsXHJcbiAgICAgIHg6IDksXHJcbiAgICAgIHk6IDIsXHJcbiAgICAgIHdpZHRoOiAxNixcclxuICAgICAgaGVpZ2h0OiAyNixcclxuICAgICAgZGVsdGFYOiAzMixcclxuICAgICAgZGVsdGFZOiAzMlxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0TmV4dFNwcml0ZSgpIHtcclxuICAgIGlmICh0aGlzLnNwcml0ZS55IDwgOTYpIHtcclxuICAgICAgdGhpcy5zcHJpdGUueSArPSB0aGlzLnNwcml0ZS5kZWx0YVlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3ByaXRlLnkgPSB0aGlzLnNwcml0ZS5iYXNlWTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZShjdHgpIHtcclxuICAgIHNwZWVkTGFiZWwuaW5uZXJIVE1MID0gfn4odGhpcy5zcGVlZCAqIDEwMCkgLyAxMDA7XHJcbiAgICBjb25zdCB7IHNwcml0ZSwgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gdGhpc1xyXG4gICAgY3R4LmRyYXdJbWFnZShpbWcsIHNwcml0ZS54LCBzcHJpdGUueSwgc3ByaXRlLndpZHRoLCBzcHJpdGUuaGVpZ2h0LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTcHJpdGVEaXJlY3Rpb24oZGlyZWN0aW9uKSB7XHJcbiAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy5zcHJpdGUuYmFzZVggKyBTUFJJVEVfTEFZRVJbZGlyZWN0aW9uXSAqIHRoaXMuc3ByaXRlLmRlbHRhWFxyXG4gIH1cclxuXHJcbiAgbWFrZUhlcm9TcGVlZFBhcmFtc0RlZmF1bHQoKSB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50QWNjZWxlcmF0aW9uVGltZXIpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmN1cnJlbnRBY2NlbGVyYXRpb25UaW1lcilcclxuICAgIH1cclxuICAgIHRoaXMuc3BlZWQgPSBTUEVFRDtcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uU3RhcnRUaW1lID0gMDtcclxuICB9XHJcblxyXG4gIHNldE5ld1NwZWVkVGltZXIoKSB7XHJcbiAgICBjb25zdCBzdGFydFNwZWVkID0gdGhpcy5zcGVlZDtcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uU3RhcnRUaW1lID0gMDtcclxuICAgIHRoaXMuY3VycmVudEFjY2VsZXJhdGlvblRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLmFjY2VsZXJhdGlvblN0YXJ0VGltZSArPSA1MDtcclxuICAgICAgdGhpcy5zcGVlZCA9IHN0YXJ0U3BlZWQgKyBBQ0NFTEVSQVRJT04gKiB0aGlzLmFjY2VsZXJhdGlvblN0YXJ0VGltZTtcclxuICAgICAgaWYgKHRoaXMuYWNjZWxlcmF0aW9uU3RhcnRUaW1lID49IE1BWF9BQ0NFTEVSQVRJT05fVElNRSkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jdXJyZW50QWNjZWxlcmF0aW9uVGltZXIpXHJcbiAgICAgIH1cclxuICAgIH0sIDUwKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVW5pdCB9IGZyb20gXCIuL3VuaXRcIjtcclxuaW1wb3J0IHsgZ2V0Q2VudGVyQ29vcmRpbmF0ZXMsIGlzRGlzdGFuY2VCZXR3ZWVuVW5pdHNNb3JlVGhhblNhZmUgfSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmNvbnN0IFNQRUVEID0gMC42O1xyXG5leHBvcnQgY29uc3QgQkFTRV9TTUFSVF9TSVpFID0gMTY7XHJcbmNvbnN0IGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbWFydC1lbmVteS1zcHJpdGUnKVxyXG5jb25zdCBNRVNTQUdFID0ge1xyXG4gIHg6IDEwLFxyXG4gIHk6IDUsXHJcbiAgZm9udDogXCIxM3B4IEFyaWFsXCJcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNtYXJ0RW5lbXkgZXh0ZW5kcyBVbml0IHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQgPSBTUEVFRCkge1xyXG4gICAgc3VwZXIoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBhbGZhWCwgYWxmYVksIHNwZWVkKTtcclxuICAgIHRoaXMuc3ByaXRlID0ge1xyXG4gICAgICBiYXNlWDogMCxcclxuICAgICAgYmFzZVk6IDAsXHJcbiAgICAgIHg6IDAsXHJcbiAgICAgIHk6IDAsXHJcbiAgICAgIHdpZHRoOiAxNixcclxuICAgICAgaGVpZ2h0OiAxNixcclxuICAgICAgZGVsdGFYOiAxNixcclxuICAgICAgZGVsdGFZOiAxNlxyXG4gICAgfVxyXG4gICAgdGhpcy5kZWZlbnNlID0gMDtcclxuICB9XHJcblxyXG4gIHNldE5leHRTcHJpdGUoKSB7XHJcbiAgICBpZiAodGhpcy5zcHJpdGUueCA8IDQ4KSB7XHJcbiAgICAgIHRoaXMuc3ByaXRlLnggKz0gdGhpcy5zcHJpdGUuZGVsdGFYXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy5zcHJpdGUuYmFzZVg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZXdQb3MoaGVybykge1xyXG4gICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oaGVybyk7XHJcbiAgICBzdXBlci5uZXdQb3MoKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGN0eCkge1xyXG4gICAgY29uc3QgeyBzcHJpdGUsIHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IHRoaXNcclxuICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCBzcHJpdGUueCwgc3ByaXRlLnksIHNwcml0ZS53aWR0aCwgc3ByaXRlLmhlaWdodCwgeCwgeSwgd2lkdGgsIGhlaWdodClcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgc2hvd1dhcm5pbmdNZXNzYWdlKHRleHQpIHtcclxuICAgIHRoaXMuY3R4LmZvbnQgPSBNRVNTQUdFLmZvbnQ7XHJcbiAgICB0aGlzLmN0eC5zdHJva2VUZXh0KHRleHQsIHRoaXMueCArIE1FU1NBR0UueCwgdGhpcy55IC0gTUVTU0FHRS55KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZURpcmVjdGlvbihoZXJvKSB7XHJcbiAgICBjb25zdCBmZWFyUGFyYW1zID0gdGhpcy5nZXRGZWFyUGFyYW1zKGhlcm8uaXNJbW1vcnRhbCk7XHJcbiAgICBpZiAoIWlzRGlzdGFuY2VCZXR3ZWVuVW5pdHNNb3JlVGhhblNhZmUoaGVybywgdGhpcywgZmVhclBhcmFtcy5kaXN0YW5jZSkpIHtcclxuICAgICAgY29uc3QgW2hlcm9YLCBoZXJvWV0gPSBnZXRDZW50ZXJDb29yZGluYXRlcyhoZXJvKTtcclxuICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKGhlcm9YIC0gdGhpcy54IC0gdGhpcy53aWR0aCAvIDIsIGhlcm9ZIC0gdGhpcy55IC0gdGhpcy5oZWlnaHQgLyAyKSArIE1hdGguUEk7XHJcbiAgICAgIHRoaXMuZGlyLnkgPSBmZWFyUGFyYW1zLmlzRmVhciAqIE1hdGguY29zKGFuZ2xlKTtcclxuICAgICAgdGhpcy5kaXIueCA9IGZlYXJQYXJhbXMuaXNGZWFyICogTWF0aC5zaW4oYW5nbGUpO1xyXG4gICAgICB0aGlzLnNob3dXYXJuaW5nTWVzc2FnZShmZWFyUGFyYW1zLm1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RmVhclBhcmFtcyhpc0ZlYXIpIHtcclxuICAgIGlmIChpc0ZlYXIpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBkaXN0YW5jZTogMzAwLFxyXG4gICAgICAgIGlzRmVhcjogMSxcclxuICAgICAgICBtZXNzYWdlOiAnWW91IGRvblxcJ3QgY2F0Y2ggbWUhJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGRpc3RhbmNlOiAyMDAsXHJcbiAgICAgICAgaXNGZWFyOiAtMSxcclxuICAgICAgICBtZXNzYWdlOiAnSSBzZWUgeW91J1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlYXQodW5pdCkge1xyXG4gICAgY29uc3QgZGVmZW5zZUluY3JlYXNlID0gMztcclxuICAgIGNvbnN0IHMxID0gdGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0O1xyXG4gICAgY29uc3QgczIgPSB1bml0LndpZHRoICogdW5pdC5oZWlnaHRcclxuICAgIGNvbnN0IGsgPSBNYXRoLnBvdygoczEgKyBzMikgLyBzMSwgMC41KVxyXG4gICAgdGhpcy53aWR0aCAqPSBrO1xyXG4gICAgdGhpcy5oZWlnaHQgKj0gaztcclxuICAgIHRoaXMuZGVmZW5zZSA9IE1hdGgubWF4KHRoaXMuZGVmZW5zZSwgdW5pdC5kZWZlbnNlKSArIGRlZmVuc2VJbmNyZWFzZTtcclxuICAgIHRoaXMuc3BlZWQgPSB0aGlzLnNwZWVkID4gU1BFRUQgPyB0aGlzLnNwZWVkICs9IDAuMSA6IFNQRUVEO1xyXG4gICAgdGhpcy54ID0gKHRoaXMueCAqIHMxICsgdW5pdC54ICogczIpIC8gKHMxICsgczIpO1xyXG4gICAgdGhpcy55ID0gKHRoaXMueSAqIHMxICsgdW5pdC55ICogczIpIC8gKHMxICsgczIpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBtb3ZlVG9Bbm90aGVyU2lkZUlmR29CZXlvbmNlQ2FudmFzIH0gZnJvbSBcIi4uL2NvbnRyb2xzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVW5pdCB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBhbGZhWCwgYWxmYVksIHNwZWVkKSB7XHJcbiAgICB0aGlzLmN0eCA9IGN0eDtcclxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgICB0aGlzLmRpciA9IHtcclxuICAgICAgeDogYWxmYVgsXHJcbiAgICAgIHk6IGFsZmFZXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgbmV3UG9zKCkge1xyXG4gICAgdGhpcy54ICs9IHRoaXMuc3BlZWQgKiB0aGlzLmRpci54O1xyXG4gICAgdGhpcy55ICs9IHRoaXMuc3BlZWQgKiB0aGlzLmRpci55O1xyXG4gICAgbW92ZVRvQW5vdGhlclNpZGVJZkdvQmV5b25jZUNhbnZhcyh0aGlzLmN0eCwgdGhpcyk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSGVybyB9IGZyb20gXCIuL2NyZWF0dXJlcy9oZXJvXCI7XHJcbmltcG9ydCB7IER1bW15RW5lbXksIEJBU0VfRFVNTVlfU0laRSB9IGZyb20gXCIuL2NyZWF0dXJlcy9kdW1teUVuZW15XCI7XHJcbmltcG9ydCB7IFNtYXJ0RW5lbXksIEJBU0VfU01BUlRfU0laRSB9IGZyb20gXCIuL2NyZWF0dXJlcy9zbWFydEVuZW15XCI7XHJcbmltcG9ydCB7IGFkZEhlcm9Db250cm9scyB9IGZyb20gXCIuL2NvbnRyb2xzXCI7XHJcbmltcG9ydCB7IGlzRGlzdGFuY2VCZXR3ZWVuVW5pdHNNb3JlVGhhblNhZmUsIGlmVW5pdHNUb3VjaEVhY2hPdGhlciwgZ2V0Q2VudGVyQ29vcmRpbmF0ZXMsIG1lcmdlVW5pdHMgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBCdWxsZXQsIEJVTExFVCB9IGZyb20gXCIuL2NyZWF0dXJlcy9idWxsZXRcIjtcclxuaW1wb3J0IHsgUmFuZG9tQnVmZiB9IGZyb20gJy4vYnVmZnMvYnVmZi1nZW5lcmF0b3InO1xyXG5pbXBvcnQgeyBpbml0aWFsaXplR2FtZSwgc2VuZFJlc3VsdFRvRGF0YWJhc2UgfSBmcm9tICcuL21haW4nO1xyXG5cclxuY29uc3Qgc2NvcmVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2NvcmVcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZSB7XHJcbiAgY29uc3RydWN0b3IoY2FudmFzKSB7XHJcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgIHRoaXMuY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gNzAwO1xyXG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gNzAwO1xyXG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICB0aGlzLmhlcm8gPSBuZXcgSGVybyh0aGlzLmN0eCk7XHJcbiAgICB0aGlzLmR1bW15RW5lbWllcyA9IFtdO1xyXG4gICAgdGhpcy5zbWFydEVuZW1pZXMgPSBbXTtcclxuICAgIHRoaXMuaGVyb0J1bGxldHMgPSBbXTtcclxuICAgIHRoaXMudGltZXJzID0gW107XHJcbiAgICB0aGlzLmJ1ZmZJdGVtID0gJyc7XHJcbiAgICB0aGlzLmhhbmRsZUhlcm9Qb3NpdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgc3RhcnQoKSB7XHJcbiAgICBjb25zdCB0aW1lcjEgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnVwZGF0ZUdhbWUoKSwgMTApO1xyXG4gICAgY29uc3QgdGltZXIyID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy51cGRhdGVTcHJpdGVzKCksIDIwMCk7XHJcbiAgICBjb25zdCB0aW1lcjMgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmFkZEVuZW15KHRoaXMuc21hcnRFbmVtaWVzLCBTbWFydEVuZW15LCBCQVNFX1NNQVJUX1NJWkUpLCAyMDAwKTtcclxuICAgIGNvbnN0IHRpbWVyNCA9IHNldEludGVydmFsKCgpID0+IHRoaXMuYWRkRW5lbXkodGhpcy5kdW1teUVuZW1pZXMsIER1bW15RW5lbXksIEJBU0VfRFVNTVlfU0laRSksIDQwMDApO1xyXG4gICAgY29uc3QgdGltZXI1ID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5hZGRCdWZmSXRlbSgpLCAxMjAwMCk7XHJcbiAgICB0aGlzLnRpbWVycy5wdXNoKHRpbWVyMSwgdGltZXIyLCB0aW1lcjMsIHRpbWVyNCwgdGltZXI1KTtcclxuICAgIGFkZEhlcm9Db250cm9scyh0aGlzLmhlcm8sICh4LCB5KSA9PiB0aGlzLmFkZEJ1bGxldCh4LCB5KSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVHYW1lKCkge1xyXG4gICAgdGhpcy51cGRhdGVTY29yZSgpO1xyXG4gICAgdGhpcy51cGRhdGVDYW52YXNTdGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2NvcmUoKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gdGhpcy5jdXJyZW50VGltZSArIDEwO1xyXG4gICAgY29uc3QgdmFsdWUgPSAodGhpcy5jdXJyZW50VGltZSAtIHRoaXMuc3RhcnRUaW1lKSAvIDEwMDA7XHJcbiAgICBzY29yZUxhYmVsLmlubmVySFRNTCA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU3ByaXRlcygpIHtcclxuICAgIGNvbnN0IHNwcml0ZXMgPSBbdGhpcy5oZXJvLCAuLi50aGlzLmR1bW15RW5lbWllcywgLi4udGhpcy5zbWFydEVuZW1pZXNdO1xyXG4gICAgc3ByaXRlcy5mb3JFYWNoKHNwcml0ZSA9PiBzcHJpdGUuc2V0TmV4dFNwcml0ZSgpKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUNhbnZhc1N0YXRlKCkge1xyXG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY3R4LmNhbnZhcy5jbGllbnRXaWR0aCwgdGhpcy5jdHguY2FudmFzLmNsaWVudEhlaWdodCk7XHJcbiAgICB0aGlzLmhhbmRsZUhlcm9Qb3NpdGlvbigpO1xyXG4gICAgdGhpcy5oYW5kbGVCdWZmSXRlbVBvc2l0aW9uKCk7XHJcbiAgICB0aGlzLmhhbmRsZUR1bW15RW5lbWllc1Bvc2l0aW9uKCk7XHJcbiAgICB0aGlzLmhhbmRsZVNtYXJ0RW5lbWllc1Bvc2l0aW9uKCk7XHJcbiAgICB0aGlzLmhhbmRsZUhlcm9CdWxsZXRzUG9zaXRpb24oKTtcclxuICAgIHRoaXMuaGFuZGxlRW5lbWllc0RlYXRoKCk7XHJcbiAgICB0aGlzLmhhbmRsZUhlcm9EZWF0aCgpO1xyXG4gICAgdGhpcy5oYW5kbGVCdWZmcygpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlSGVyb1Bvc2l0aW9uKCkge1xyXG4gICAgdGhpcy5oZXJvLm5ld1BvcygpLnVwZGF0ZSh0aGlzLmN0eCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVCdWZmSXRlbVBvc2l0aW9uKCkge1xyXG4gICAgdGhpcy5idWZmSXRlbSAmJiB0aGlzLmJ1ZmZJdGVtLmRyYXcodGhpcy5jdHgpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlRHVtbXlFbmVtaWVzUG9zaXRpb24oKSB7XHJcbiAgICB0aGlzLmR1bW15RW5lbWllcy5mb3JFYWNoKGVuZW15ID0+IGVuZW15Lm5ld1BvcygpLnVwZGF0ZSh0aGlzLmN0eCkpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU21hcnRFbmVtaWVzUG9zaXRpb24oKSB7XHJcbiAgICB0aGlzLnNtYXJ0RW5lbWllcyA9IHRoaXMuc21hcnRFbmVtaWVzLnJlZHVjZSgobmV3QXJyYXksIGN1cnJlbnRFbmVteSkgPT4ge1xyXG4gICAgICBpZiAobmV3QXJyYXkuc29tZShlbmVteSA9PiBpZlVuaXRzVG91Y2hFYWNoT3RoZXIoZW5lbXksIGN1cnJlbnRFbmVteSkpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ld0FycmF5O1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHNlY29uZEVuZW15ID0gdGhpcy5zbWFydEVuZW1pZXMuZmluZChlbmVteSA9PiBpZlVuaXRzVG91Y2hFYWNoT3RoZXIoZW5lbXksIGN1cnJlbnRFbmVteSkgJiYgKGVuZW15ICE9PSBjdXJyZW50RW5lbXkpKVxyXG4gICAgICBpZiAoc2Vjb25kRW5lbXkpIHtcclxuICAgICAgICBjdXJyZW50RW5lbXkuZWF0KHNlY29uZEVuZW15KTtcclxuICAgICAgfVxyXG4gICAgICBuZXdBcnJheS5wdXNoKGN1cnJlbnRFbmVteSk7XHJcbiAgICAgIHJldHVybiBuZXdBcnJheTtcclxuICAgIH0sIFtdKTtcclxuICAgIHRoaXMuc21hcnRFbmVtaWVzLmZvckVhY2goY3VycmVudEVuZW15ID0+IGN1cnJlbnRFbmVteS5uZXdQb3ModGhpcy5oZXJvKS51cGRhdGUodGhpcy5jdHgpKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlSGVyb0J1bGxldHNQb3NpdGlvbigpIHtcclxuICAgIGxldCBGSUVMRF9XSURUSCA9IHRoaXMuY3R4LmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgIGxldCBGSUVMRF9IRUlHSFQgPSB0aGlzLmN0eC5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgbGV0IGlzSW5zaWRlQ2FudmFzO1xyXG4gICAgdGhpcy5oZXJvQnVsbGV0cyA9IHRoaXMuaGVyb0J1bGxldHMuZmlsdGVyKGJ1bGxldCA9PiB7XHJcbiAgICAgIGlzSW5zaWRlQ2FudmFzID0gYnVsbGV0LnggPCBGSUVMRF9XSURUSCAmJiBidWxsZXQueCA+IDAgJiYgYnVsbGV0LnkgPCBGSUVMRF9IRUlHSFQgJiYgYnVsbGV0LnkgPiAwO1xyXG4gICAgICBpZiAoaXNJbnNpZGVDYW52YXMpIHtcclxuICAgICAgICBidWxsZXQubmV3UG9zKCkudXBkYXRlKHRoaXMuY3R4KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaXNJbnNpZGVDYW52YXM7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUVuZW1pZXNEZWF0aCgpIHtcclxuICAgIGNvbnN0IG5ld1NtYXJ0RW5lbWllcyA9IFtdO1xyXG4gICAgY29uc3QgbmV3RHVtbXlFbmVtaWVzID0gW107XHJcbiAgICBjb25zdCBuZXdCdWxsZXRzID0gW107XHJcbiAgICBjb25zdCBhbGxFbmVtaWVzID0gWy4uLnRoaXMuc21hcnRFbmVtaWVzLCAuLi50aGlzLmR1bW15RW5lbWllc11cclxuXHJcbiAgICB0aGlzLnNtYXJ0RW5lbWllcy5mb3JFYWNoKGVuZW15ID0+IHtcclxuICAgICAgaWYgKCF0aGlzLmhlcm9CdWxsZXRzLnNvbWUoYnVsbGV0ID0+IHRoaXMuc2hvdWxkRW5lbXlEaWVJZkJ1bGxldEhpdHNIaW0oZW5lbXksIGJ1bGxldCkpKSB7XHJcbiAgICAgICAgbmV3U21hcnRFbmVtaWVzLnB1c2goZW5lbXkpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICB0aGlzLmR1bW15RW5lbWllcy5mb3JFYWNoKGVuZW15ID0+IHtcclxuICAgICAgaWYgKCF0aGlzLmhlcm9CdWxsZXRzLnNvbWUoYnVsbGV0ID0+IHRoaXMuc2hvdWxkRW5lbXlEaWVJZkJ1bGxldEhpdHNIaW0oZW5lbXksIGJ1bGxldCkpKSB7XHJcbiAgICAgICAgbmV3RHVtbXlFbmVtaWVzLnB1c2goZW5lbXkpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICB0aGlzLmhlcm9CdWxsZXRzLmZvckVhY2goYnVsbGV0ID0+IHtcclxuICAgICAgaWYgKCFhbGxFbmVtaWVzLnNvbWUoZW5lbXkgPT4gdGhpcy5zaG91bGRFbmVteURpZUlmQnVsbGV0SGl0c0hpbShlbmVteSwgYnVsbGV0KSkpIHtcclxuICAgICAgICBuZXdCdWxsZXRzLnB1c2goYnVsbGV0KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgdGhpcy5zbWFydEVuZW1pZXMgPSBuZXdTbWFydEVuZW1pZXM7XHJcbiAgICB0aGlzLmR1bW15RW5lbWllcyA9IG5ld0R1bW15RW5lbWllcztcclxuICAgIHRoaXMuaGVyb0J1bGxldHMgPSBuZXdCdWxsZXRzO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlSGVyb0RlYXRoKCkge1xyXG4gICAgaWYgKCF0aGlzLmhlcm8uaXNJbW1vcnRhbCkge1xyXG4gICAgICBjb25zdCBERUxUQSA9IDU7XHJcbiAgICAgIGNvbnN0IGVuZW1pZXMgPSBbLi4udGhpcy5kdW1teUVuZW1pZXMsIC4uLnRoaXMuc21hcnRFbmVtaWVzXTtcclxuICAgICAgaWYgKGVuZW1pZXMuc29tZShlbmVteSA9PiBpZlVuaXRzVG91Y2hFYWNoT3RoZXIodGhpcy5oZXJvLCBlbmVteSwgREVMVEEpKSkge1xyXG4gICAgICAgIHRoaXMuZmluaXNoR2FtZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaW5pc2hHYW1lKCkge1xyXG4gICAgdGhpcy50aW1lcnMubWFwKHRpbWVyID0+IGNsZWFySW50ZXJ2YWwodGltZXIpKTtcclxuICAgIGNvbnN0IHNjb3JlID0gc2NvcmVMYWJlbC5pbm5lclRleHQ7XHJcbiAgICBjb25zdCBuYW1lID0gcHJvbXB0KFwiWW91IGxvc2UsIHlvdXIgc2NvcmUgaXMgXCIgKyBzY29yZSwgJ1VzZXInKTtcclxuICAgIHNlbmRSZXN1bHRUb0RhdGFiYXNlKHNjb3JlLCBuYW1lIHx8ICdVc2VyJyk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IGluaXRpYWxpemVHYW1lKCksIDEwKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUJ1ZmZzKCkge1xyXG4gICAgaWYgKGlmVW5pdHNUb3VjaEVhY2hPdGhlcih0aGlzLmhlcm8sIHRoaXMuYnVmZkl0ZW0pKSB7XHJcbiAgICAgIGNvbnN0IEJVRkZfVElNRSA9IDIwMDAwO1xyXG4gICAgICB0aGlzLmJ1ZmZJdGVtLmFjdGl2YXRlQnVmZih0aGlzLCBCVUZGX1RJTUUpO1xyXG4gICAgICB0aGlzLmJ1ZmZJdGVtID0gJydcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNob3VsZEVuZW15RGllSWZCdWxsZXRIaXRzSGltKGVuZW15LCBidWxsZXQpIHtcclxuICAgIGNvbnN0IE1JTl9TSVpFID0gMjU7XHJcbiAgICBjb25zdCBpc0NvbnRhY3QgPSBpZlVuaXRzVG91Y2hFYWNoT3RoZXIoZW5lbXksIGJ1bGxldClcclxuICAgIGlmIChpc0NvbnRhY3QpIHtcclxuICAgICAgZW5lbXkgPSB0aGlzLmRhbWFnZVVuaXQoZW5lbXkpXHJcbiAgICB9XHJcbiAgICBpZiAoaXNDb250YWN0ICYmIChlbmVteS53aWR0aCA8IE1JTl9TSVpFIHx8IGVuZW15LmhlaWdodCA8IE1JTl9TSVpFKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGFtYWdlVW5pdCh1bml0KSB7XHJcbiAgICBjb25zdCBtaW5EYW1hZ2UgPSA0O1xyXG4gICAgY29uc3QgeyBkYW1hZ2UsIHNwZWVkRGVjcmVhc2UgfSA9IEJVTExFVDtcclxuICAgIGNvbnN0IG1hc3MgPSB1bml0LndpZHRoICogdW5pdC5oZWlnaHQ7XHJcbiAgICBjb25zdCBoZXJvRGFtYWdlID0gZGFtYWdlIC0gdW5pdC5kZWZlbnNlID4gMCA/IGRhbWFnZSAtIHVuaXQuZGVmZW5zZSA6IG1pbkRhbWFnZTtcclxuICAgIGNvbnN0IGsgPSAobWFzcyAtIGhlcm9EYW1hZ2UpIC8gbWFzcztcclxuICAgIHVuaXQud2lkdGggKj0gaztcclxuICAgIHVuaXQuaGVpZ2h0ICo9IGs7XHJcbiAgICB1bml0LnNwZWVkID4gc3BlZWREZWNyZWFzZSA/IHVuaXQuc3BlZWQgLT0gc3BlZWREZWNyZWFzZSA6IDA7XHJcbiAgICByZXR1cm4gdW5pdDtcclxuICB9XHJcblxyXG4gIGFkZEVuZW15KGVuZW15QXJyYXksIGNyZWF0dXJlQ29uc3RydWN0b3IsIGJhc2VTaXplKSB7XHJcbiAgICBjb25zdCB7IHNpemUsIHgsIHksIGFsZmFYLCBhbGZhWSB9ID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVBvc2l0aW9uQW5kRGlyZWN0aW9uKHRoaXMuaGVybywgYmFzZVNpemUpO1xyXG4gICAgY29uc3QgZW5lbXkgPSBuZXcgY3JlYXR1cmVDb25zdHJ1Y3Rvcih0aGlzLmN0eCwgc2l6ZSwgc2l6ZSwgeCwgeSwgYWxmYVgsIGFsZmFZKTtcclxuICAgIGVuZW15QXJyYXkucHVzaChlbmVteSk7XHJcbiAgfVxyXG5cclxuICBhZGRCdWxsZXQoeCwgeSkge1xyXG4gICAgY29uc3QgW2hlcm9YLCBoZXJvWV0gPSBnZXRDZW50ZXJDb29yZGluYXRlcyh0aGlzLmhlcm8pO1xyXG4gICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKGhlcm9YIC0geCwgaGVyb1kgLSB5KSArIE1hdGguUEk7XHJcbiAgICBjb25zdCBidWxsZXQgPSBuZXcgQnVsbGV0KHRoaXMuY3R4LCBoZXJvWCwgaGVyb1ksIE1hdGguc2luKGFuZ2xlKSwgTWF0aC5jb3MoYW5nbGUpKTtcclxuICAgIHRoaXMuaGVyb0J1bGxldHMucHVzaChidWxsZXQpO1xyXG4gIH1cclxuXHJcbiAgYWRkQnVmZkl0ZW0oKSB7XHJcbiAgICBjb25zdCBzaXplID0gMjA7XHJcbiAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21Qb3NpdGlvbkFuZERpcmVjdGlvbih0aGlzLmhlcm8sIDApO1xyXG4gICAgY29uc3QgYnVmZkl0ZW0gPSBuZXcgUmFuZG9tQnVmZih0aGlzLmN0eCwgc2l6ZSwgc2l6ZSwgeCwgeSk7XHJcbiAgICB0aGlzLmJ1ZmZJdGVtID0gYnVmZkl0ZW07XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZVJhbmRvbVBvc2l0aW9uQW5kRGlyZWN0aW9uKGhlcm8sIGJhc2VTaXplKSB7XHJcbiAgICBsZXQgeDtcclxuICAgIGxldCB5O1xyXG4gICAgY29uc3Qgc2l6ZSA9IE1hdGgucmFuZG9tKCkgKiAyMCArIGJhc2VTaXplO1xyXG4gICAgZG8ge1xyXG4gICAgICB4ID0gTWF0aC5yYW5kb20oKSAqIHRoaXMuY3R4LmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgeSA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLmN0eC5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgfSB3aGlsZSAoIWlzRGlzdGFuY2VCZXR3ZWVuVW5pdHNNb3JlVGhhblNhZmUoaGVybywgeyB4LCB5LCB3aWR0aDogc2l6ZSwgaGVpZ2h0OiBzaXplIH0pKTtcclxuXHJcbiAgICBjb25zdCBhbGZhWCA9IE1hdGgucmFuZG9tKCkgKiAyIC0gMTtcclxuICAgIGNvbnN0IGFsZmFZID0gTWF0aC5yYW5kb20oKSAqIDIgLSAxO1xyXG5cclxuICAgIHJldHVybiB7IHgsIHksIGFsZmFYLCBhbGZhWSwgc2l6ZSB9O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vZ2FtZS1hcmVuYVwiO1xyXG5cclxubGV0IGdhbWU7XHJcbmNvbnN0IHNjb3JlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNjb3JlXCIpO1xyXG5jb25zdCBzcGVlZExhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNwZWVkJyk7XHJcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJjYW52YXNcIik7XHJcblxyXG5jb25zdCBVUkwgPSAnaHR0cHM6Ly9zaG9vdGVyLWdhbWUtMmExYmUuZmlyZWJhc2Vpby5jb20vc3RhdGlzdGljcy8uanNvbic7XHJcbmxldCBiZXN0U2NvcmVzID0gW107XHJcblxyXG5pbml0aWFsaXplR2FtZSgpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVHYW1lKCkge1xyXG4gIGdldFNjb3JlRnJvbURhdGFiYXNlKCk7XHJcbiAgZ2FtZSA9IG5ldyBHYW1lKGNhbnZhcyk7XHJcbiAgc2NvcmVMYWJlbC5pbm5lckhUTUwgPSAwO1xyXG4gIHNwZWVkTGFiZWwuaW5uZXJIVE1MID0gMDtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgc3RhcnRHYW1lLCB7IG9uY2U6IHRydWUgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0YXJ0R2FtZSgpIHtcclxuICBnYW1lLnN0YXJ0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZW5kUmVzdWx0VG9EYXRhYmFzZShzY29yZSwgbmFtZSkge1xyXG4gIGZldGNoKFVSTCwge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHNjb3JlLCBuYW1lIH0pXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjb3JlRnJvbURhdGFiYXNlKCkge1xyXG4gIGZldGNoKFVSTCwgeyBtZXRob2Q6ICdHRVQnIH0pXHJcbiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgYmVzdFNjb3JlcyA9IGRhdGE7XHJcbiAgICAgIGNvbnNvbGUubG9nKGJlc3RTY29yZXMpXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKCdtaXN0ZXJpb3VzIGVycm9yJykpXHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldENlbnRlckNvb3JkaW5hdGVzKHVuaXQpIHtcclxuICByZXR1cm4gW3VuaXQueCArIDAuNSAqIHVuaXQud2lkdGgsIHVuaXQueSArIDAuNSAqIHVuaXQuaGVpZ2h0XTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlQmV0d2VlblVuaXRzKHVuaXQxLCB1bml0Mikge1xyXG4gIGNvbnN0IFt4MSwgeTFdID0gZ2V0Q2VudGVyQ29vcmRpbmF0ZXModW5pdDEpO1xyXG4gIGNvbnN0IFt4MiwgeTJdID0gZ2V0Q2VudGVyQ29vcmRpbmF0ZXModW5pdDIpO1xyXG4gIHJldHVybiBNYXRoLnBvdyhNYXRoLnBvdyh4MSAtIHgyLCAyKSArIE1hdGgucG93KHkxIC0geTIsIDIpLCAwLjUpO1xyXG59XHJcblxyXG5jb25zdCBQSVhFTF9CT1JERVIgPSAyXHJcbmV4cG9ydCBmdW5jdGlvbiBpZlVuaXRzVG91Y2hFYWNoT3RoZXIodW5pdDEsIHVuaXQyLCBkZWx0YSA9IDApIHtcclxuICBjb25zdCBbeDEsIHkxXSA9IGdldENlbnRlckNvb3JkaW5hdGVzKHVuaXQxKTtcclxuICBjb25zdCBbeDIsIHkyXSA9IGdldENlbnRlckNvb3JkaW5hdGVzKHVuaXQyKTtcclxuICByZXR1cm4gKFxyXG4gICAgTWF0aC5hYnMoeDIgLSB4MSkgPCAodW5pdDEud2lkdGggKyB1bml0Mi53aWR0aCAtIFBJWEVMX0JPUkRFUiAtIGRlbHRhKSAvIDJcclxuICAgICYmIE1hdGguYWJzKHkyIC0geTEpIDwgKHVuaXQxLmhlaWdodCArIHVuaXQyLmhlaWdodCAtIFBJWEVMX0JPUkRFUiAtIGRlbHRhKSAvIDJcclxuICApO1xyXG59XHJcblxyXG5jb25zdCBTQUZFX0RJU1RBTkNFID0gMjAwO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRGlzdGFuY2VCZXR3ZWVuVW5pdHNNb3JlVGhhblNhZmUodW5pdDEsIHVuaXQyLCBkaXN0ID0gU0FGRV9ESVNUQU5DRSkge1xyXG4gIHJldHVybiBnZXREaXN0YW5jZUJldHdlZW5Vbml0cyh1bml0MSwgdW5pdDIpID4gZGlzdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlVW5pdHModW5pdDEsIHVuaXQyKSB7XHJcbiAgY29uc3QgczEgPSB1bml0MS53aWR0aCAqIHVuaXQxLmhlaWdodDtcclxuICBjb25zdCBzMiA9IHVuaXQyLndpZHRoICogdW5pdDIuaGVpZ2h0XHJcbiAgY29uc3QgayA9IE1hdGgucG93KChzMSArIHMyKSAvIHMxLCAwLjUpXHJcbiAgdW5pdDEud2lkdGggKj0gaztcclxuICB1bml0MS5oZWlnaHQgKj0gaztcclxuICByZXR1cm4gdW5pdDE7XHJcbn1cclxuIl19
