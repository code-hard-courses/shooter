!function o(a,s,u){function c(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(h)return h(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return c(a[t][1][e]||e)},i,i.exports,o,a,s,u)}return s[t].exports}for(var h="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.addHeroControls=function(e,t){i=e,o=i.dir,a=void 0,document.addEventListener("keydown",function(e){var t,n,r;switch(t=a,n=e.keyCode,r=i,a=t!==n?(r.makeHeroSpeedParamsDefault(),r.setNewSpeedTimer(),n):t,e.keyCode){case 38:i.updateSpriteDirection("top"),o.y=-1,o.x=0;break;case 39:i.updateSpriteDirection("right"),o.y=0,o.x=1;break;case 40:i.updateSpriteDirection("bottom"),o.y=1,o.x=0;break;case 37:i.updateSpriteDirection("left"),o.x=-1,o.y=0;break;case 17:o.x=0,o.y=0}}),n=t,r.addEventListener("mousemove",function(e){n(e.offsetX,e.offsetY)});var n;var i,o,a},n.moveToAnotherSideIfGoBeyonceCanvas=function(e,t){var n=e.canvas.clientWidth,r=e.canvas.clientWidth;t.x>n?t.x=0:t.x<0&&(t.x=n);t.y>r?t.y=0:t.y<0&&(t.y=r)};var r=document.querySelector("canvas")},{}],2:[function(e,t,n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Bullet=n.BULLET=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.growBullet=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:2;f.size*=e,f.damage*=e,f.speedDecrease*=e},n.shrinkBullet=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:2;f.size/=e,f.damage/=e,f.speedDecrease/=e};var i=e("./unit");var f=n.BULLET={size:5,damage:2,speedDecrease:.03};n.Bullet=function(e){function h(e,t,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:f.size,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:f.size,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:10,u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:"black";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e,o,a,t-f.size/2,n-f.size/2,r,i,s));return c.color=u,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,i.Unit),r(h,[{key:"newPos",value:function(){return this.x+=this.speed*this.dir.x,this.y+=this.speed*this.dir.y,this}},{key:"update",value:function(e){return e.beginPath(),e.fillStyle=this.color,e.arc(this.x,this.y,f.size,0,2*Math.PI,!0),e.fill(),this}}]),h}()},{"./unit":6}],3:[function(e,t,n){"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.DummyEnemy=n.BASE_DUMMY_SIZE=n.SPEED=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./unit");var l=n.SPEED=.8,a=(n.BASE_DUMMY_SIZE=25,document.querySelector(".dummy-enemy-sprite")),o=3,s=1,u=0,f=2;n.DummyEnemy=function(e){function c(e,t,n,r,i,o,a){var s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":h(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,n,r,i,o,a,s));return u.sprite={baseX:0,baseY:0,x:0,y:16*u.getSpriteLayerValue(u.dir.x,u.dir.y),width:16,height:16,deltaX:16,deltaY:16},u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":h(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Unit),r(c,[{key:"setNextSprite",value:function(){this.sprite.x<16?this.sprite.x+=this.sprite.deltaX:this.sprite.x=this.sprite.baseX}},{key:"update",value:function(e){var t=this.sprite,n=this.x,r=this.y,i=this.width,o=this.height;return e.drawImage(a,t.x,t.y,t.width,t.height,n,r,i,o),this}},{key:"getSpriteLayerValue",value:function(e,t){return Math.abs(e)>Math.abs(t)?0<e?u:s:0<t?f:o}}]),c}()},{"./unit":6}],4:[function(e,t,n){"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Hero=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.increaseHeroVelocityByBuff=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:2;l.speed*=e,l.acceleration*=e,l.maxAccelerationTime*=e},n.decreaseHeroVelocityByDebuff=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:2;l.speed/=e,l.acceleration/=e,l.maxAccelerationTime/=e};var i=e("./unit");var l={speed:1,acceleration:5e-4,maxAccelerationTime:3e3},o={top:2,left:3,right:0,bottom:1},a=document.querySelector(".hero-sprite"),s=document.querySelector(".speed");n.Hero=function(e){function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:30,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:50,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:50,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:50,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:l.speed;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":h(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,n,r,i,o,a,s));return u.isImmortal=!1,u.accelerationStartTime=0,u.currentAccelerationTimer="",u.sprite={baseX:9,baseY:2,x:9,y:2,width:16,height:26,deltaX:32,deltaY:32},u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":h(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Unit),r(c,[{key:"setNextSprite",value:function(){this.sprite.y<96?this.sprite.y+=this.sprite.deltaY:this.sprite.y=this.sprite.baseY}},{key:"update",value:function(e){s.innerHTML=~~(100*this.speed)/100;var t=this.sprite,n=this.x,r=this.y,i=this.width,o=this.height;return e.drawImage(a,t.x,t.y,t.width,t.height,n,r,i,o),this}},{key:"updateSpriteDirection",value:function(e){this.sprite.x=this.sprite.baseX+o[e]*this.sprite.deltaX}},{key:"makeHeroSpeedParamsDefault",value:function(){this.currentAccelerationTimer&&clearInterval(this.currentAccelerationTimer),this.speed=l.speed,this.accelerationStartTime=0}},{key:"setNewSpeedTimer",value:function(){var e=this,t=this.speed;this.accelerationStartTime=0,this.currentAccelerationTimer=setInterval(function(){e.accelerationStartTime+=50,e.speed=t+l.acceleration*e.accelerationStartTime,e.accelerationStartTime>=l.maxAccelerationTime&&clearInterval(e.currentAccelerationTimer)},50)}}]),c}()},{"./unit":6}],5:[function(e,t,n){"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.SmartEnemy=n.BASE_SMART_SIZE=void 0;var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./unit"),u=e("../utils");n.BASE_SMART_SIZE=16;var a=document.querySelector(".smart-enemy-sprite"),o=10,l=5,f="13px Arial";n.SmartEnemy=function(e){function c(e,t,n,r,i,o,a){var s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:.6;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":h(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,n,r,i,o,a,s));return u.sprite={baseX:0,baseY:0,x:0,y:0,width:16,height:16,deltaX:16,deltaY:16},u.defense=0,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":h(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Unit),r(c,[{key:"setNextSprite",value:function(){this.sprite.x<48?this.sprite.x+=this.sprite.deltaX:this.sprite.x=this.sprite.baseX}},{key:"newPos",value:function(e){return this.updateDirection(e),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"newPos",this).call(this),this}},{key:"update",value:function(e){var t=this.sprite,n=this.x,r=this.y,i=this.width,o=this.height;return e.drawImage(a,t.x,t.y,t.width,t.height,n,r,i,o),this}},{key:"showWarningMessage",value:function(e){this.ctx.font=f,this.ctx.strokeText(e,this.x+o,this.y-l)}},{key:"updateDirection",value:function(e){var t=this.getFearParams(e.isImmortal);if(!(0,u.isDistanceBetweenUnitsMoreThanSafe)(e,this,t.distance)){var n=(0,u.getCenterCoordinates)(e),r=s(n,2),i=r[0],o=r[1],a=Math.atan2(i-this.x-this.width/2,o-this.y-this.height/2)+Math.PI;this.dir.y=t.isFear*Math.cos(a),this.dir.x=t.isFear*Math.sin(a),this.showWarningMessage(t.message)}}},{key:"getFearParams",value:function(e){return e?{distance:300,isFear:1,message:"You don't catch me!"}:{distance:200,isFear:-1,message:"I see you"}}},{key:"eat",value:function(e){var t=this.width*this.height,n=e.width*e.height,r=Math.pow((t+n)/t,.5);this.width*=r,this.height*=r,this.defense=Math.max(this.defense,e.defense)+3,this.speed=.6<this.speed?this.speed+=.1:.6,this.x=(this.x*t+e.x*n)/(t+n),this.y=(this.y*t+e.y*n)/(t+n)}}]),c}()},{"../utils":15,"./unit":6}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Unit=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("../controls");n.Unit=function(){function u(e,t,n,r,i,o,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.ctx=e,this.width=t,this.height=n,this.speed=s,this.x=r,this.y=i,this.dir={x:o,y:a}}return r(u,[{key:"newPos",value:function(){return this.x+=this.speed*this.dir.x,this.y+=this.speed*this.dir.y,(0,i.moveToAnotherSideIfGoBeyonceCanvas)(this.ctx,this),this}}]),u}()},{"../controls":1}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Game=void 0;var u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./creatures/hero"),h=e("./creatures/dummyEnemy"),s=e("./creatures/smartEnemy"),c=e("./controls"),l=e("./utils"),f=e("./creatures/bullet"),o=e("./items/buff-generator"),a=e("./main"),d=e("./items/landscape");function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var m=document.querySelector(".score");n.Game=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.startTime=Date.now(),this.currentTime=Date.now(),this.canvas.width=700,this.canvas.height=700,this.ctx=this.canvas.getContext("2d"),this.hero=new i.Hero(this.ctx),this.landscape=new d.Landscape(this.ctx,40,40,this.ctx.canvas.clientWidth,this.ctx.canvas.clientWidth),this.dummyEnemies=[],this.smartEnemies=[],this.heroBullets=[],this.timers=[],this.lvl=1,this.buffItem="",this.landscape.draw(this.ctx),this.handleHeroPosition()}return r(t,[{key:"start",value:function(){var n=this,e=setInterval(function(){return n.updateGame()},10),t=setInterval(function(){return n.updateSprites()},200),r=setInterval(function(){return n.addEnemy(n.smartEnemies,s.SmartEnemy,s.BASE_SMART_SIZE)},2e3),i=setInterval(function(){return n.addEnemy(n.dummyEnemies,h.DummyEnemy,h.BASE_DUMMY_SIZE)},4e3),o=setInterval(function(){return n.addBuffItem()},12e3),a=setInterval(function(){return n.lvlUp()},1e4);this.timers.push(e,t,r,i,o,a),(0,c.addHeroControls)(this.hero,function(e,t){return n.addBullet(e,t)})}},{key:"updateGame",value:function(){this.updateScore(),this.updateCanvasState()}},{key:"updateScore",value:function(){this.currentTime=this.currentTime+10;var e=(this.currentTime-this.startTime)/1e3;m.innerHTML=e}},{key:"updateSprites",value:function(){[this.hero].concat(y(this.dummyEnemies),y(this.smartEnemies)).forEach(function(e){return e.setNextSprite()})}},{key:"updateCanvasState",value:function(){this.ctx.clearRect(0,0,this.ctx.canvas.clientWidth,this.ctx.canvas.clientHeight),this.landscape.draw(this.ctx),this.handleHeroPosition(),this.handleBuffItemPosition(),this.handleDummyEnemiesPosition(),this.handleSmartEnemiesPosition(),this.handleHeroBulletsPosition(),this.handleEnemiesDeath(),this.handleHeroDeath(),this.handleBuffs()}},{key:"handleHeroPosition",value:function(){this.hero.newPos().update(this.ctx)}},{key:"handleBuffItemPosition",value:function(){this.buffItem&&this.buffItem.draw(this.ctx)}},{key:"handleDummyEnemiesPosition",value:function(){var t=this;this.dummyEnemies.forEach(function(e){return e.newPos().update(t.ctx)})}},{key:"handleSmartEnemiesPosition",value:function(){var r=this;this.smartEnemies=this.smartEnemies.reduce(function(e,t){if(e.some(function(e){return(0,l.ifUnitsTouchEachOther)(e,t)}))return e;var n=r.smartEnemies.find(function(e){return(0,l.ifUnitsTouchEachOther)(e,t)&&e!==t});return n&&t.eat(n),e.push(t),e},[]),this.smartEnemies.forEach(function(e){return e.newPos(r.hero).update(r.ctx)})}},{key:"handleHeroBulletsPosition",value:function(){var t=this,n=this.ctx.canvas.clientWidth,r=this.ctx.canvas.clientHeight,i=void 0;this.heroBullets=this.heroBullets.filter(function(e){return(i=e.x<n&&0<e.x&&e.y<r&&0<e.y)&&e.newPos().update(t.ctx),i})}},{key:"handleEnemiesDeath",value:function(){var n=this,e=[],r=[],i=[],o=[].concat(y(this.smartEnemies),y(this.dummyEnemies));this.smartEnemies.forEach(function(t){n.heroBullets.some(function(e){return n.shouldEnemyDieIfBulletHitsHim(t,e)})||e.push(t)}),this.dummyEnemies.forEach(function(t){n.heroBullets.some(function(e){return n.shouldEnemyDieIfBulletHitsHim(t,e)})||r.push(t)}),this.heroBullets.forEach(function(t){o.some(function(e){return n.shouldEnemyDieIfBulletHitsHim(e,t)})||i.push(t)}),this.smartEnemies=e,this.dummyEnemies=r,this.heroBullets=i}},{key:"handleHeroDeath",value:function(){var t=this;if(!this.hero.isImmortal){[].concat(y(this.dummyEnemies),y(this.smartEnemies)).some(function(e){return(0,l.ifUnitsTouchEachOther)(t.hero,e,10)})&&this.finishGame()}}},{key:"finishGame",value:function(){this.timers.map(function(e){return clearInterval(e)});var e=m.innerText,t=prompt("You lose, your score is "+e,"User");(0,a.sendResultToDatabase)(e,t||"User"),setTimeout(function(){return(0,a.initializeGame)()},10)}},{key:"handleBuffs",value:function(){if((0,l.ifUnitsTouchEachOther)(this.hero,this.buffItem)){this.buffItem.activateBuff(this,2e4),this.buffItem=""}}},{key:"lvlUp",value:function(){this.addEnemyPride(this.smartEnemies,s.SmartEnemy,s.BASE_SMART_SIZE),this.addEnemyPride(this.dummyEnemies,h.DummyEnemy,h.BASE_DUMMY_SIZE),this.lvl++,console.log(this.lvl)}},{key:"shouldEnemyDieIfBulletHitsHim",value:function(e,t){var n=(0,l.ifUnitsTouchEachOther)(e,t);return n&&(e=this.damageUnit(e)),!(!n||!(e.width<25||e.height<25))}},{key:"damageUnit",value:function(e){var t=f.BULLET.damage,n=f.BULLET.speedDecrease,r=e.width*e.height,i=e.defense||0,o=(r-(0<t-i?t-i:4))/r;return e.width*=o,e.height*=o,e.speed>n&&(e.speed-=n),e}},{key:"addEnemy",value:function(e,t,n){var r=this.generateRandomPositionAndDirection(this.hero,n),i=r.size,o=r.x,a=r.y,s=r.alfaX,u=r.alfaY,c=new t(this.ctx,i,i,o,a,s,u,h.SPEED+.15*this.lvl);e.push(c)}},{key:"addEnemyPride",value:function(e,t,n){var r=this.generateRandomPositionAndDirection(this.hero,n),i=r.size,o=r.x,a=r.y,s=r.alfaX,u=r.alfaY,c=new t(this.ctx,i,i,o,a,s,u);e.push(c);for(var h=0;h<this.lvl;h++){var l=this.generateRandomPositionAndDirection(c,n,!0,100),f=l.size,d=l.x,y=l.y,m=new t(this.ctx,f,f,d,y,s,u);e.push(m)}}},{key:"addBullet",value:function(e,t){var n=(0,l.getCenterCoordinates)(this.hero),r=u(n,2),i=r[0],o=r[1],a=Math.atan2(i-e,o-t)+Math.PI,s=new f.Bullet(this.ctx,i,o,Math.sin(a),Math.cos(a));this.heroBullets.push(s)}},{key:"addBuffItem",value:function(){var e=this.generateRandomPositionAndDirection(this.hero,0),t=e.x,n=e.y,r=new o.RandomBuff(this.ctx,20,20,t,n);this.buffItem=r}},{key:"generateRandomPositionAndDirection",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:200,i=void 0,o=void 0,a=20*Math.random()+t+5*this.lvl,s=void 0;do{var u={x:i=Math.random()*this.ctx.canvas.clientWidth,y:o=Math.random()*this.ctx.canvas.clientHeight,width:a,height:a};s=(0,l.isDistanceBetweenUnitsMoreThanSafe)(e,u,r)}while(n?s:!s);return{x:i,y:o,alfaX:2*Math.random()-1,alfaY:2*Math.random()-1,size:a}}}]),t}()},{"./controls":1,"./creatures/bullet":2,"./creatures/dummyEnemy":3,"./creatures/hero":4,"./creatures/smartEnemy":5,"./items/buff-generator":8,"./items/landscape":10,"./main":14,"./utils":15}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RandomBuff=function(e,t,n,r,i){var o=a[~~(3*Math.random())];return new o.constructor(e,t,n,r,i,o.selector)};var r=e("./sword"),i=e("./shield"),o=e("./shoes"),a=[{selector:".sword",constructor:r.Sword},{selector:".shield",constructor:i.Shield},{selector:".shoes",constructor:o.Shoes}]},{"./shield":11,"./shoes":12,"./sword":13}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.Item=function(){function a(e,t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.ctx=e,this.width=t,this.height=n,this.x=r,this.y=i,this.sprite={x:0,y:0,width:16,height:16},this.image=document.querySelector(o)}return r(a,[{key:"draw",value:function(e){var t=this.image,n=this.sprite,r=this.x,i=this.y,o=this.width,a=this.height;return e.drawImage(t,n.x,n.y,n.width,n.height,r,i,o,a),this}}]),a}()},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n.Landscape=function(){function o(e,t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.ctx=e,this.width=t,this.height=n,this.canvasWidth=r,this.canvasHeight=i,this.sprite={x:0,y:0,width:32,height:32},this.image=document.querySelector(".landscape")}return r(o,[{key:"draw",value:function(e){for(var t=this.image,n=this.sprite,r=this.canvasWidth,i=this.canvasHeight,o=this.width,a=this.height,s=0;s<r;s+=o)for(var u=0;u<i;u+=a)e.drawImage(t,n.x,n.y,n.width,n.height,s,u,o,a);return this}}]),o}()},{}],11:[function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Shield=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./item");n.Shield=function(e){function a(e,t,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i.Item),r(a,[{key:"activateBuff",value:function(e,t){e.hero.isImmortal=!0,setTimeout(function(){return e.hero.isImmortal=!1},t)}}]),a}()},{"./item":9}],12:[function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Shoes=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./item"),o=e("../creatures/hero");function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n.Shoes=function(e){function a(e,t,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i.Item),r(a,[{key:"activateBuff",value:function(e,t){(0,o.increaseHeroVelocityByBuff)();var n=[].concat(u(e.smartEnemies),u(e.dummyEnemies));n.forEach(function(e){return e.speed/=5}),setTimeout(function(){console.log("speed fixed back"),(0,o.decreaseHeroVelocityByDebuff)(),n.forEach(function(e){return e.speed*=5})},t)}}]),a}()},{"../creatures/hero":4,"./item":9}],13:[function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.Sword=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./item"),o=e("../creatures/bullet");n.Sword=function(e){function a(e,t,n,r,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t,n,r,i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i.Item),r(a,[{key:"activateBuff",value:function(e,t){(0,o.growBullet)(),setTimeout(function(){return(0,o.shrinkBullet)()},t)}}]),a}()},{"../creatures/bullet":2,"./item":9}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initializeGame=h,n.sendResultToDatabase=function(e,t){fetch(u,{method:"POST",body:JSON.stringify({score:e,name:t})})},n.getScoreFromDatabase=f;var r=e("./game-arena"),i=void 0,o=document.querySelector(".score"),a=document.querySelector(".speed"),s=document.querySelector("canvas"),u="https://shooter-game-2a1be.firebaseio.com/statistics/.json",c=[];function h(){f(),i=new r.Game(s),o.innerHTML=0,a.innerHTML=0,document.addEventListener("keydown",l,{once:!0})}function l(){i.start()}function f(){fetch(u,{method:"GET"}).then(function(e){return e.json()}).then(function(e){c=e,console.log(c)}).catch(function(e){return console.log("misterious error")})}h()},{"./game-arena":7}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function f(e){return[e.x+.5*e.width,e.y+.5*e.height]}function r(e,t){var n=f(e),r=l(n,2),i=r[0],o=r[1],a=f(t),s=l(a,2),u=s[0],c=s[1];return Math.pow(Math.pow(i-u,2)+Math.pow(o-c,2),.5)}n.getCenterCoordinates=f,n.getDistanceBetweenUnits=r,n.ifUnitsTouchEachOther=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=f(e),i=l(r,2),o=i[0],a=i[1],s=f(t),u=l(s,2),c=u[0],h=u[1];return Math.abs(c-o)<(e.width+t.width-d-n)/2&&Math.abs(h-a)<(e.height+t.height-d-n)/2},n.isDistanceBetweenUnitsMoreThanSafe=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:i;return r(e,t)>n},n.mergeUnits=function(e,t){var n=e.width*e.height,r=t.width*t.height,i=Math.pow((n+r)/n,.5);return e.width*=i,e.height*=i,e};var d=2;var i=200},{}]},{},[14]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJmcm9udGVuZC9qcy9jb250cm9scy5qcyIsImZyb250ZW5kL2pzL2NyZWF0dXJlcy9idWxsZXQuanMiLCJmcm9udGVuZC9qcy9jcmVhdHVyZXMvZHVtbXlFbmVteS5qcyIsImZyb250ZW5kL2pzL2NyZWF0dXJlcy9oZXJvLmpzIiwiZnJvbnRlbmQvanMvY3JlYXR1cmVzL3NtYXJ0RW5lbXkuanMiLCJmcm9udGVuZC9qcy9jcmVhdHVyZXMvdW5pdC5qcyIsImZyb250ZW5kL2pzL2dhbWUtYXJlbmEuanMiLCJmcm9udGVuZC9qcy9pdGVtcy9idWZmLWdlbmVyYXRvci5qcyIsImZyb250ZW5kL2pzL2l0ZW1zL2l0ZW0uanMiLCJmcm9udGVuZC9qcy9pdGVtcy9sYW5kc2NhcGUuanMiLCJmcm9udGVuZC9qcy9pdGVtcy9zaGllbGQuanMiLCJmcm9udGVuZC9qcy9pdGVtcy9zaG9lcy5qcyIsImZyb250ZW5kL2pzL2l0ZW1zL3N3b3JkLmpzIiwiZnJvbnRlbmQvanMvbWFpbi5qcyIsImZyb250ZW5kL2pzL3V0aWxzLmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsImFkZEhlcm9Db250cm9scyIsImhlcm8iLCJjcmVhdGVCdWxsZXQiLCJkaXIiLCJwcmV2aW91c0tleUNvZGUiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsIm5ld0tleUNvZGUiLCJrZXlDb2RlIiwibWFrZUhlcm9TcGVlZFBhcmFtc0RlZmF1bHQiLCJzZXROZXdTcGVlZFRpbWVyIiwidXBkYXRlU3ByaXRlRGlyZWN0aW9uIiwieSIsIngiLCJjYW52YXMiLCJvZmZzZXRYIiwib2Zmc2V0WSIsIm1vdmVUb0Fub3RoZXJTaWRlSWZHb0JleW9uY2VDYW52YXMiLCJjdHgiLCJ1bml0IiwiRklFTERfV0lEVEgiLCJjbGllbnRXaWR0aCIsIkZJRUxEX0hFSUdIVCIsInF1ZXJ5U2VsZWN0b3IiLCJncm93QnVsbGV0IiwicGFyYW0iLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJCVUxMRVQiLCJzaXplIiwiZGFtYWdlIiwic3BlZWREZWNyZWFzZSIsInNocmlua0J1bGxldCIsIl91bml0IiwiQnVsbGV0IiwiYWxmYVgiLCJhbGZhWSIsIndpZHRoIiwiaGVpZ2h0Iiwic3BlZWQiLCJjb2xvciIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfdGhpcyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX19wcm90b19fIiwiT2JqZWN0IiwiZ2V0UHJvdG90eXBlT2YiLCJVbml0IiwiYmVnaW5QYXRoIiwiZmlsbFN0eWxlIiwiYXJjIiwiTWF0aCIsIlBJIiwiZmlsbCIsIlNQRUVEIiwiaW1nIiwiQkFTRV9EVU1NWV9TSVpFIiwiU1BSSVRFX0xBWUVSIiwiRHVtbXlFbmVteSIsInNwcml0ZSIsImJhc2VYIiwiYmFzZVkiLCJnZXRTcHJpdGVMYXllclZhbHVlIiwiZGVsdGFYIiwiZGVsdGFZIiwiZHJhd0ltYWdlIiwiYWJzIiwiaW5jcmVhc2VIZXJvVmVsb2NpdHlCeUJ1ZmYiLCJidWZmIiwidmVsb2NpdHkiLCJhY2NlbGVyYXRpb24iLCJtYXhBY2NlbGVyYXRpb25UaW1lIiwiZGVjcmVhc2VIZXJvVmVsb2NpdHlCeURlYnVmZiIsImRlQnVmZiIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInNwZWVkTGFiZWwiLCJIZXJvIiwiaXNJbW1vcnRhbCIsImFjY2VsZXJhdGlvblN0YXJ0VGltZSIsImN1cnJlbnRBY2NlbGVyYXRpb25UaW1lciIsImlubmVySFRNTCIsImRpcmVjdGlvbiIsImNsZWFySW50ZXJ2YWwiLCJfdGhpczIiLCJzdGFydFNwZWVkIiwic2V0SW50ZXJ2YWwiLCJfdXRpbHMiLCJCQVNFX1NNQVJUX1NJWkUiLCJNRVNTQUdFIiwiU21hcnRFbmVteSIsImRlZmVuc2UiLCJ1cGRhdGVEaXJlY3Rpb24iLCJfZ2V0IiwicHJvdG90eXBlIiwidGV4dCIsImZvbnQiLCJzdHJva2VUZXh0IiwiZmVhclBhcmFtcyIsImdldEZlYXJQYXJhbXMiLCJpc0Rpc3RhbmNlQmV0d2VlblVuaXRzTW9yZVRoYW5TYWZlIiwiZGlzdGFuY2UiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXMiLCJnZXRDZW50ZXJDb29yZGluYXRlcyIsIl9nZXRDZW50ZXJDb29yZGluYXRlczIiLCJfc2xpY2VkVG9BcnJheSIsImhlcm9YIiwiaGVyb1kiLCJhbmdsZSIsImF0YW4yIiwiaXNGZWFyIiwiY29zIiwic2luIiwic2hvd1dhcm5pbmdNZXNzYWdlIiwibWVzc2FnZSIsInMxIiwiczIiLCJrIiwicG93IiwibWF4IiwiX2NvbnRyb2xzIiwiX2hlcm8iLCJfZHVtbXlFbmVteSIsIl9zbWFydEVuZW15IiwiX2J1bGxldCIsIl9idWZmR2VuZXJhdG9yIiwiX21haW4iLCJfbGFuZHNjYXBlIiwic2NvcmVMYWJlbCIsIkdhbWUiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiY3VycmVudFRpbWUiLCJnZXRDb250ZXh0IiwibGFuZHNjYXBlIiwiTGFuZHNjYXBlIiwiZHVtbXlFbmVtaWVzIiwic21hcnRFbmVtaWVzIiwiaGVyb0J1bGxldHMiLCJ0aW1lcnMiLCJsdmwiLCJidWZmSXRlbSIsImRyYXciLCJoYW5kbGVIZXJvUG9zaXRpb24iLCJ0aW1lcjEiLCJ1cGRhdGVHYW1lIiwidGltZXIyIiwidXBkYXRlU3ByaXRlcyIsInRpbWVyMyIsImFkZEVuZW15IiwidGltZXI0IiwidGltZXI1IiwiYWRkQnVmZkl0ZW0iLCJ0aW1lcjYiLCJsdmxVcCIsInB1c2giLCJhZGRCdWxsZXQiLCJ1cGRhdGVTY29yZSIsInVwZGF0ZUNhbnZhc1N0YXRlIiwidmFsdWUiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJmb3JFYWNoIiwic2V0TmV4dFNwcml0ZSIsImNsZWFyUmVjdCIsImNsaWVudEhlaWdodCIsImhhbmRsZUJ1ZmZJdGVtUG9zaXRpb24iLCJoYW5kbGVEdW1teUVuZW1pZXNQb3NpdGlvbiIsImhhbmRsZVNtYXJ0RW5lbWllc1Bvc2l0aW9uIiwiaGFuZGxlSGVyb0J1bGxldHNQb3NpdGlvbiIsImhhbmRsZUVuZW1pZXNEZWF0aCIsImhhbmRsZUhlcm9EZWF0aCIsImhhbmRsZUJ1ZmZzIiwibmV3UG9zIiwidXBkYXRlIiwiZW5lbXkiLCJfdGhpczMiLCJyZWR1Y2UiLCJuZXdBcnJheSIsImN1cnJlbnRFbmVteSIsInNvbWUiLCJpZlVuaXRzVG91Y2hFYWNoT3RoZXIiLCJzZWNvbmRFbmVteSIsImZpbmQiLCJlYXQiLCJfdGhpczQiLCJpc0luc2lkZUNhbnZhcyIsImZpbHRlciIsImJ1bGxldCIsIl90aGlzNSIsIm5ld1NtYXJ0RW5lbWllcyIsIm5ld0R1bW15RW5lbWllcyIsIm5ld0J1bGxldHMiLCJhbGxFbmVtaWVzIiwic2hvdWxkRW5lbXlEaWVJZkJ1bGxldEhpdHNIaW0iLCJfdGhpczYiLCJmaW5pc2hHYW1lIiwibWFwIiwidGltZXIiLCJzY29yZSIsImlubmVyVGV4dCIsIm5hbWUiLCJwcm9tcHQiLCJzZW5kUmVzdWx0VG9EYXRhYmFzZSIsInNldFRpbWVvdXQiLCJpbml0aWFsaXplR2FtZSIsImFjdGl2YXRlQnVmZiIsImFkZEVuZW15UHJpZGUiLCJjb25zb2xlIiwibG9nIiwiaXNDb250YWN0IiwiZGFtYWdlVW5pdCIsIm1hc3MiLCJlbmVteUFycmF5IiwiY3JlYXR1cmVDb25zdHJ1Y3RvciIsImJhc2VTaXplIiwiX2dlbmVyYXRlUmFuZG9tUG9zaXRpIiwiZ2VuZXJhdGVSYW5kb21Qb3NpdGlvbkFuZERpcmVjdGlvbiIsIl9nZW5lcmF0ZVJhbmRvbVBvc2l0aTIiLCJfZ2VuZXJhdGVSYW5kb21Qb3NpdGkzIiwiX3NpemUiLCJfeCIsIl95IiwibmV3RW5lbXkiLCJfZ2VuZXJhdGVSYW5kb21Qb3NpdGk0IiwiUmFuZG9tQnVmZiIsImlzSW5zaWRlQ2lyY2xlIiwicmFuZG9tIiwiY29uZGl0aW9uIiwibmV3VW5pdCIsImJ1ZmZUeXBlIiwiYnVmZlR5cGVzIiwiY29uc3RydWN0b3IiLCJzZWxlY3RvciIsIl9zd29yZCIsIl9zaGllbGQiLCJfc2hvZXMiLCJTd29yZCIsIlNoaWVsZCIsIlNob2VzIiwiSXRlbSIsImltYWdlIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJfaXRlbSIsInR5cGUiLCJnYW1lT2JqZWN0IiwidGltZSIsImVuZW1pZXMiLCJmZXRjaCIsIlVSTCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0U2NvcmVGcm9tRGF0YWJhc2UiLCJfZ2FtZUFyZW5hIiwiZ2FtZSIsImJlc3RTY29yZXMiLCJzdGFydEdhbWUiLCJvbmNlIiwic3RhcnQiLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiZGF0YSIsImNhdGNoIiwiZXJyb3IiLCJnZXREaXN0YW5jZUJldHdlZW5Vbml0cyIsInVuaXQxIiwidW5pdDIiLCJ4MSIsInkxIiwiX2dldENlbnRlckNvb3JkaW5hdGVzMyIsIl9nZXRDZW50ZXJDb29yZGluYXRlczQiLCJ4MiIsInkyIiwiZGVsdGEiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXM1IiwiX2dldENlbnRlckNvb3JkaW5hdGVzNiIsIl9nZXRDZW50ZXJDb29yZGluYXRlczciLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXM4IiwiUElYRUxfQk9SREVSIiwiZGlzdCIsIlNBRkVfRElTVEFOQ0UiLCJtZXJnZVVuaXRzIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxJQUFBRSxFQUFBLG1CQUFBQyxTQUFBQSxRQUFBLElBQUFGLEdBQUFDLEVBQUEsT0FBQUEsRUFBQUYsR0FBQSxHQUFBLEdBQUFJLEVBQUEsT0FBQUEsRUFBQUosR0FBQSxHQUFBLElBQUFLLEVBQUEsSUFB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QUEvSyxFQUFBOEssRUFBQSxHQUFBUCxFQUFBUSxFQUFBLEdBQUFQLEVBQUFPLEVBQUEsR0FBQUMsRUFFNUNsTCxFQUY0Q3dLLEdBQUFXLEVBQUFqTCxFQUFBZ0wsRUFBQSxHQUFBTCxFQUFBTSxFQUFBLEdBQUFMLEVBQUFLLEVBQUEsR0FHN0QsT0FDRXpPLEtBQUFlLElBQVNvTixFQUFUSixJQUFxQkYsRUFBQTVPLE1BQWM2TyxFQUFkN08sTUFBQXlQLEVBQURMLEdBQXBCLEdBQ0dyTyxLQUFBZSxJQUFTcU4sRUFBVEosSUFBcUJILEVBQUEzTyxPQUFlNE8sRUFBZjVPLE9BQUF3UCxFQUFETCxHQUZ6QixLQVFjbEwsbUNBQVQsU0FBQTBLLEVBQUFDLEdBQWdGLElBQXRCYSxFQUFzQixFQUFBclEsVUFBQTlCLGFBQUErQixJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBZnNRLEVBQ3RFLE9BQU9oQixFQUFBQyxFQUFBQyxHQUFQYSxLQUdjRSxXQUFULFNBQUFoQixFQUFBQyxHQUNMLElBQU01SixFQUFLMkosRUFBQTVPLE1BQWM0TyxFQUF6QjNPLE9BQ01pRixFQUFLMkosRUFBQTdPLE1BQWM2TyxFQUF6QjVPLE9BQ01rRixFQUFJcEUsS0FBQXFFLEtBQVVILEVBQURDLEdBQVRELEVBQVYsSUFHQSxPQUZBMkosRUFBQTVPLE9BQUFtRixFQUNBeUosRUFBQTNPLFFBQUFrRixFQUNBeUosR0F0QkYsSUFBTWEsRUFBTixFQVVBLElBQU1FLEVBQU4iLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEhlcm9Db250cm9scyhoZXJvLCBjcmVhdGVCdWxsZXQpIHtcclxuICBzdWJzcmliZVRvTW92ZShoZXJvKTtcclxuICBzdWJzY3JpYmVUb1Nob290KGNyZWF0ZUJ1bGxldCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1YnNjcmliZVRvU2hvb3QoY3JlYXRlQnVsbGV0KSB7XHJcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGV2ZW50ID0+IHtcclxuICAgIGNyZWF0ZUJ1bGxldChldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZKTtcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBzdWJzcmliZVRvTW92ZShoZXJvKSB7XHJcbiAgY29uc3QgeyBkaXIgfSA9IGhlcm87XHJcbiAgbGV0IHByZXZpb3VzS2V5Q29kZTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBldmVudCA9PiB7XHJcbiAgICBwcmV2aW91c0tleUNvZGUgPSBjaGFuZ2VTcGVlZElmSGVyb0NoYW5nZWREaXJlY3Rpb24ocHJldmlvdXNLZXlDb2RlLCBldmVudC5rZXlDb2RlLCBoZXJvKTtcclxuICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xyXG4gICAgICBjYXNlIDM4OiB7XHJcbiAgICAgICAgaGVyby51cGRhdGVTcHJpdGVEaXJlY3Rpb24oJ3RvcCcpO1xyXG4gICAgICAgIGRpci55ID0gLTE7XHJcbiAgICAgICAgZGlyLnggPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgMzk6IHtcclxuICAgICAgICBoZXJvLnVwZGF0ZVNwcml0ZURpcmVjdGlvbigncmlnaHQnKTtcclxuICAgICAgICBkaXIueSA9IDA7XHJcbiAgICAgICAgZGlyLnggPSAxO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgNDA6IHtcclxuICAgICAgICBoZXJvLnVwZGF0ZVNwcml0ZURpcmVjdGlvbignYm90dG9tJyk7XHJcbiAgICAgICAgZGlyLnkgPSAxO1xyXG4gICAgICAgIGRpci54ID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIDM3OiB7XHJcbiAgICAgICAgaGVyby51cGRhdGVTcHJpdGVEaXJlY3Rpb24oJ2xlZnQnKTtcclxuICAgICAgICBkaXIueCA9IC0xO1xyXG4gICAgICAgIGRpci55ID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIDE3OiB7XHJcbiAgICAgICAgZGlyLnggPSAwO1xyXG4gICAgICAgIGRpci55ID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VTcGVlZElmSGVyb0NoYW5nZWREaXJlY3Rpb24ocHJldmlvdXNLZXlDb2RlLCBuZXdLZXlDb2RlLCBoZXJvKSB7XHJcbiAgaWYgKHByZXZpb3VzS2V5Q29kZSAhPT0gbmV3S2V5Q29kZSkge1xyXG4gICAgaGVyby5tYWtlSGVyb1NwZWVkUGFyYW1zRGVmYXVsdCgpO1xyXG4gICAgaGVyby5zZXROZXdTcGVlZFRpbWVyKCk7XHJcbiAgICByZXR1cm4gbmV3S2V5Q29kZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHByZXZpb3VzS2V5Q29kZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtb3ZlVG9Bbm90aGVyU2lkZUlmR29CZXlvbmNlQ2FudmFzKGN0eCwgdW5pdCkge1xyXG4gIGxldCBGSUVMRF9XSURUSCA9IGN0eC5jYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgbGV0IEZJRUxEX0hFSUdIVCA9IGN0eC5jYW52YXMuY2xpZW50V2lkdGg7XHJcblxyXG4gIGlmICh1bml0LnggPiBGSUVMRF9XSURUSCkge1xyXG4gICAgdW5pdC54ID0gMDtcclxuICB9IGVsc2UgaWYgKHVuaXQueCA8IDApIHtcclxuICAgIHVuaXQueCA9IEZJRUxEX1dJRFRIO1xyXG4gIH1cclxuICBpZiAodW5pdC55ID4gRklFTERfSEVJR0hUKSB7XHJcbiAgICB1bml0LnkgPSAwO1xyXG4gIH0gZWxzZSBpZiAodW5pdC55IDwgMCkge1xyXG4gICAgdW5pdC55ID0gRklFTERfSEVJR0hUO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBVbml0IH0gZnJvbSBcIi4vdW5pdFwiO1xyXG5cclxuY29uc3QgU1BFRUQgPSAxMDtcclxuY29uc3QgQ09MT1IgPSBcImJsYWNrXCI7XHJcbmV4cG9ydCBjb25zdCBCVUxMRVQgPSB7XHJcbiAgc2l6ZTogNSxcclxuICBkYW1hZ2U6IDIsXHJcbiAgc3BlZWREZWNyZWFzZTogMC4wM1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQnVsbGV0IGV4dGVuZHMgVW5pdCB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB4LCB5LCBhbGZhWCwgYWxmYVksIHdpZHRoID0gQlVMTEVULnNpemUsIGhlaWdodCA9IEJVTExFVC5zaXplLCBzcGVlZCA9IFNQRUVELCBjb2xvciA9IENPTE9SKSB7XHJcbiAgICBzdXBlcihjdHgsIHdpZHRoLCBoZWlnaHQsIHggLSBCVUxMRVQuc2l6ZSAvIDIsIHkgLSBCVUxMRVQuc2l6ZSAvIDIsIGFsZmFYLCBhbGZhWSwgc3BlZWQpO1xyXG4gICAgdGhpcy5jb2xvciA9IGNvbG9yXHJcbiAgfVxyXG5cclxuICBuZXdQb3MoKSB7XHJcbiAgICB0aGlzLnggKz0gdGhpcy5zcGVlZCAqIHRoaXMuZGlyLng7XHJcbiAgICB0aGlzLnkgKz0gdGhpcy5zcGVlZCAqIHRoaXMuZGlyLnk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHVwZGF0ZShjdHgpIHtcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgY3R4LmFyYyh0aGlzLngsIHRoaXMueSwgQlVMTEVULnNpemUsIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcclxuICAgIGN0eC5maWxsKCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBncm93QnVsbGV0KHBhcmFtID0gMikge1xyXG4gIEJVTExFVC5zaXplICo9IHBhcmFtO1xyXG4gIEJVTExFVC5kYW1hZ2UgKj0gcGFyYW07XHJcbiAgQlVMTEVULnNwZWVkRGVjcmVhc2UgKj0gcGFyYW07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaHJpbmtCdWxsZXQocGFyYW0gPSAyKSB7XHJcbiAgQlVMTEVULnNpemUgLz0gcGFyYW07XHJcbiAgQlVMTEVULmRhbWFnZSAvPSBwYXJhbTtcclxuICBCVUxMRVQuc3BlZWREZWNyZWFzZSAvPSBwYXJhbTtcclxufVxyXG4iLCJpbXBvcnQgeyBVbml0IH0gZnJvbSBcIi4vdW5pdFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNQRUVEID0gMC44O1xyXG5cclxuZXhwb3J0IGNvbnN0IEJBU0VfRFVNTVlfU0laRSA9IDI1O1xyXG5jb25zdCBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHVtbXktZW5lbXktc3ByaXRlJyk7XHJcbmNvbnN0IFNQUklURV9MQVlFUiA9IHtcclxuICB0b3A6IDMsXHJcbiAgbGVmdDogMSxcclxuICByaWdodDogMCxcclxuICBib3R0b206IDJcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIER1bW15RW5lbXkgZXh0ZW5kcyBVbml0IHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQgPSBTUEVFRCkge1xyXG4gICAgc3VwZXIoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBhbGZhWCwgYWxmYVksIHNwZWVkKTtcclxuICAgIHRoaXMuc3ByaXRlID0ge1xyXG4gICAgICBiYXNlWDogMCxcclxuICAgICAgYmFzZVk6IDAsXHJcbiAgICAgIHg6IDAsXHJcbiAgICAgIHk6IHRoaXMuZ2V0U3ByaXRlTGF5ZXJWYWx1ZSh0aGlzLmRpci54LCB0aGlzLmRpci55KSAqIDE2LFxyXG4gICAgICB3aWR0aDogMTYsXHJcbiAgICAgIGhlaWdodDogMTYsXHJcbiAgICAgIGRlbHRhWDogMTYsXHJcbiAgICAgIGRlbHRhWTogMTZcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE5leHRTcHJpdGUoKSB7XHJcbiAgICBpZiAodGhpcy5zcHJpdGUueCA8IDE2KSB7XHJcbiAgICAgIHRoaXMuc3ByaXRlLnggKz0gdGhpcy5zcHJpdGUuZGVsdGFYO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zcHJpdGUueCA9IHRoaXMuc3ByaXRlLmJhc2VYO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGN0eCkge1xyXG4gICAgY29uc3QgeyBzcHJpdGUsIHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IHRoaXNcclxuICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCBzcHJpdGUueCwgc3ByaXRlLnksIHNwcml0ZS53aWR0aCwgc3ByaXRlLmhlaWdodCwgeCwgeSwgd2lkdGgsIGhlaWdodClcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgZ2V0U3ByaXRlTGF5ZXJWYWx1ZSh4LCB5KSB7XHJcbiAgICBpZiAoTWF0aC5hYnMoeCkgPiBNYXRoLmFicyh5KSkge1xyXG4gICAgICByZXR1cm4geCA+IDAgPyBTUFJJVEVfTEFZRVIucmlnaHQgOiBTUFJJVEVfTEFZRVIubGVmdDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB5ID4gMCA/IFNQUklURV9MQVlFUi5ib3R0b20gOiBTUFJJVEVfTEFZRVIudG9wO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuXHJcbiIsImltcG9ydCB7IFVuaXQgfSBmcm9tIFwiLi91bml0XCI7XHJcblxyXG5jb25zdCB2ZWxvY2l0eSA9IHtcclxuICBzcGVlZDogMSxcclxuICBhY2NlbGVyYXRpb246IDAuMDAwNSxcclxuICBtYXhBY2NlbGVyYXRpb25UaW1lOiAzMDAwXHJcbn1cclxuY29uc3QgSEVJR0hUID0gNTA7XHJcbmNvbnN0IFdJRFRIID0gMzA7XHJcbmNvbnN0IFNQUklURV9MQVlFUiA9IHtcclxuICB0b3A6IDIsXHJcbiAgbGVmdDogMyxcclxuICByaWdodDogMCxcclxuICBib3R0b206IDFcclxufVxyXG5cclxuY29uc3QgaW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm8tc3ByaXRlJyk7XHJcbmNvbnN0IHNwZWVkTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3BlZWQnKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBIZXJvIGV4dGVuZHMgVW5pdCB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCA9IFdJRFRILCBoZWlnaHQgPSBIRUlHSFQsIHggPSA1MCwgeSA9IDUwLCBhbGZhWCA9IDAsIGFsZmFZID0gMCwgc3BlZWQgPSB2ZWxvY2l0eS5zcGVlZCkge1xyXG4gICAgc3VwZXIoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBhbGZhWCwgYWxmYVksIHNwZWVkKTtcclxuICAgIHRoaXMuaXNJbW1vcnRhbCA9IGZhbHNlO1xyXG4gICAgdGhpcy5hY2NlbGVyYXRpb25TdGFydFRpbWUgPSAwO1xyXG4gICAgdGhpcy5jdXJyZW50QWNjZWxlcmF0aW9uVGltZXIgPSAnJztcclxuXHJcbiAgICB0aGlzLnNwcml0ZSA9IHtcclxuICAgICAgYmFzZVg6IDksXHJcbiAgICAgIGJhc2VZOiAyLFxyXG4gICAgICB4OiA5LFxyXG4gICAgICB5OiAyLFxyXG4gICAgICB3aWR0aDogMTYsXHJcbiAgICAgIGhlaWdodDogMjYsXHJcbiAgICAgIGRlbHRhWDogMzIsXHJcbiAgICAgIGRlbHRhWTogMzJcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE5leHRTcHJpdGUoKSB7XHJcbiAgICBpZiAodGhpcy5zcHJpdGUueSA8IDk2KSB7XHJcbiAgICAgIHRoaXMuc3ByaXRlLnkgKz0gdGhpcy5zcHJpdGUuZGVsdGFZXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNwcml0ZS55ID0gdGhpcy5zcHJpdGUuYmFzZVk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoY3R4KSB7XHJcbiAgICBzcGVlZExhYmVsLmlubmVySFRNTCA9IH5+KHRoaXMuc3BlZWQgKiAxMDApIC8gMTAwO1xyXG4gICAgY29uc3QgeyBzcHJpdGUsIHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IHRoaXNcclxuICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCBzcHJpdGUueCwgc3ByaXRlLnksIHNwcml0ZS53aWR0aCwgc3ByaXRlLmhlaWdodCwgeCwgeSwgd2lkdGgsIGhlaWdodClcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU3ByaXRlRGlyZWN0aW9uKGRpcmVjdGlvbikge1xyXG4gICAgdGhpcy5zcHJpdGUueCA9IHRoaXMuc3ByaXRlLmJhc2VYICsgU1BSSVRFX0xBWUVSW2RpcmVjdGlvbl0gKiB0aGlzLnNwcml0ZS5kZWx0YVhcclxuICB9XHJcblxyXG4gIG1ha2VIZXJvU3BlZWRQYXJhbXNEZWZhdWx0KCkge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudEFjY2VsZXJhdGlvblRpbWVyKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jdXJyZW50QWNjZWxlcmF0aW9uVGltZXIpXHJcbiAgICB9XHJcbiAgICB0aGlzLnNwZWVkID0gdmVsb2NpdHkuc3BlZWQ7XHJcbiAgICB0aGlzLmFjY2VsZXJhdGlvblN0YXJ0VGltZSA9IDA7XHJcbiAgfVxyXG5cclxuICBzZXROZXdTcGVlZFRpbWVyKCkge1xyXG4gICAgY29uc3Qgc3RhcnRTcGVlZCA9IHRoaXMuc3BlZWQ7XHJcbiAgICB0aGlzLmFjY2VsZXJhdGlvblN0YXJ0VGltZSA9IDA7XHJcbiAgICB0aGlzLmN1cnJlbnRBY2NlbGVyYXRpb25UaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5hY2NlbGVyYXRpb25TdGFydFRpbWUgKz0gNTA7XHJcbiAgICAgIHRoaXMuc3BlZWQgPSBzdGFydFNwZWVkICsgdmVsb2NpdHkuYWNjZWxlcmF0aW9uICogdGhpcy5hY2NlbGVyYXRpb25TdGFydFRpbWU7XHJcbiAgICAgIGlmICh0aGlzLmFjY2VsZXJhdGlvblN0YXJ0VGltZSA+PSB2ZWxvY2l0eS5tYXhBY2NlbGVyYXRpb25UaW1lKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmN1cnJlbnRBY2NlbGVyYXRpb25UaW1lcilcclxuICAgICAgfVxyXG4gICAgfSwgNTApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluY3JlYXNlSGVyb1ZlbG9jaXR5QnlCdWZmKGJ1ZmYgPSAyKSB7XHJcbiAgdmVsb2NpdHkuc3BlZWQgKj0gYnVmZjtcclxuICB2ZWxvY2l0eS5hY2NlbGVyYXRpb24gKj0gYnVmZjtcclxuICB2ZWxvY2l0eS5tYXhBY2NlbGVyYXRpb25UaW1lICo9IGJ1ZmY7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWNyZWFzZUhlcm9WZWxvY2l0eUJ5RGVidWZmKGRlQnVmZiA9IDIpIHtcclxuICB2ZWxvY2l0eS5zcGVlZCAvPSBkZUJ1ZmY7XHJcbiAgdmVsb2NpdHkuYWNjZWxlcmF0aW9uIC89IGRlQnVmZjtcclxuICB2ZWxvY2l0eS5tYXhBY2NlbGVyYXRpb25UaW1lIC89IGRlQnVmZjtcclxufSIsImltcG9ydCB7IFVuaXQgfSBmcm9tIFwiLi91bml0XCI7XHJcbmltcG9ydCB7IGdldENlbnRlckNvb3JkaW5hdGVzLCBpc0Rpc3RhbmNlQmV0d2VlblVuaXRzTW9yZVRoYW5TYWZlIH0gZnJvbSBcIi4uL3V0aWxzXCI7XHJcblxyXG5jb25zdCBTUEVFRCA9IDAuNjtcclxuZXhwb3J0IGNvbnN0IEJBU0VfU01BUlRfU0laRSA9IDE2O1xyXG5jb25zdCBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc21hcnQtZW5lbXktc3ByaXRlJylcclxuY29uc3QgTUVTU0FHRSA9IHtcclxuICB4OiAxMCxcclxuICB5OiA1LFxyXG4gIGZvbnQ6IFwiMTNweCBBcmlhbFwiXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydEVuZW15IGV4dGVuZHMgVW5pdCB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBhbGZhWCwgYWxmYVksIHNwZWVkID0gU1BFRUQpIHtcclxuICAgIHN1cGVyKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgYWxmYVgsIGFsZmFZLCBzcGVlZCk7XHJcbiAgICB0aGlzLnNwcml0ZSA9IHtcclxuICAgICAgYmFzZVg6IDAsXHJcbiAgICAgIGJhc2VZOiAwLFxyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwLFxyXG4gICAgICB3aWR0aDogMTYsXHJcbiAgICAgIGhlaWdodDogMTYsXHJcbiAgICAgIGRlbHRhWDogMTYsXHJcbiAgICAgIGRlbHRhWTogMTZcclxuICAgIH1cclxuICAgIHRoaXMuZGVmZW5zZSA9IDA7XHJcbiAgfVxyXG5cclxuICBzZXROZXh0U3ByaXRlKCkge1xyXG4gICAgaWYgKHRoaXMuc3ByaXRlLnggPCA0OCkge1xyXG4gICAgICB0aGlzLnNwcml0ZS54ICs9IHRoaXMuc3ByaXRlLmRlbHRhWFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zcHJpdGUueCA9IHRoaXMuc3ByaXRlLmJhc2VYO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmV3UG9zKGhlcm8pIHtcclxuICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKGhlcm8pO1xyXG4gICAgc3VwZXIubmV3UG9zKCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHVwZGF0ZShjdHgpIHtcclxuICAgIGNvbnN0IHsgc3ByaXRlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzXHJcbiAgICBjdHguZHJhd0ltYWdlKGltZywgc3ByaXRlLngsIHNwcml0ZS55LCBzcHJpdGUud2lkdGgsIHNwcml0ZS5oZWlnaHQsIHgsIHksIHdpZHRoLCBoZWlnaHQpXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHNob3dXYXJuaW5nTWVzc2FnZSh0ZXh0KSB7XHJcbiAgICB0aGlzLmN0eC5mb250ID0gTUVTU0FHRS5mb250O1xyXG4gICAgdGhpcy5jdHguc3Ryb2tlVGV4dCh0ZXh0LCB0aGlzLnggKyBNRVNTQUdFLngsIHRoaXMueSAtIE1FU1NBR0UueSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVEaXJlY3Rpb24oaGVybykge1xyXG4gICAgY29uc3QgZmVhclBhcmFtcyA9IHRoaXMuZ2V0RmVhclBhcmFtcyhoZXJvLmlzSW1tb3J0YWwpO1xyXG4gICAgaWYgKCFpc0Rpc3RhbmNlQmV0d2VlblVuaXRzTW9yZVRoYW5TYWZlKGhlcm8sIHRoaXMsIGZlYXJQYXJhbXMuZGlzdGFuY2UpKSB7XHJcbiAgICAgIGNvbnN0IFtoZXJvWCwgaGVyb1ldID0gZ2V0Q2VudGVyQ29vcmRpbmF0ZXMoaGVybyk7XHJcbiAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihoZXJvWCAtIHRoaXMueCAtIHRoaXMud2lkdGggLyAyLCBoZXJvWSAtIHRoaXMueSAtIHRoaXMuaGVpZ2h0IC8gMikgKyBNYXRoLlBJO1xyXG4gICAgICB0aGlzLmRpci55ID0gZmVhclBhcmFtcy5pc0ZlYXIgKiBNYXRoLmNvcyhhbmdsZSk7XHJcbiAgICAgIHRoaXMuZGlyLnggPSBmZWFyUGFyYW1zLmlzRmVhciAqIE1hdGguc2luKGFuZ2xlKTtcclxuICAgICAgdGhpcy5zaG93V2FybmluZ01lc3NhZ2UoZmVhclBhcmFtcy5tZXNzYWdlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEZlYXJQYXJhbXMoaXNGZWFyKSB7XHJcbiAgICBpZiAoaXNGZWFyKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZGlzdGFuY2U6IDMwMCxcclxuICAgICAgICBpc0ZlYXI6IDEsXHJcbiAgICAgICAgbWVzc2FnZTogJ1lvdSBkb25cXCd0IGNhdGNoIG1lISdcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBkaXN0YW5jZTogMjAwLFxyXG4gICAgICAgIGlzRmVhcjogLTEsXHJcbiAgICAgICAgbWVzc2FnZTogJ0kgc2VlIHlvdSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZWF0KHVuaXQpIHtcclxuICAgIGNvbnN0IGRlZmVuc2VJbmNyZWFzZSA9IDM7XHJcbiAgICBjb25zdCBzMSA9IHRoaXMud2lkdGggKiB0aGlzLmhlaWdodDtcclxuICAgIGNvbnN0IHMyID0gdW5pdC53aWR0aCAqIHVuaXQuaGVpZ2h0XHJcbiAgICBjb25zdCBrID0gTWF0aC5wb3coKHMxICsgczIpIC8gczEsIDAuNSlcclxuICAgIHRoaXMud2lkdGggKj0gaztcclxuICAgIHRoaXMuaGVpZ2h0ICo9IGs7XHJcbiAgICB0aGlzLmRlZmVuc2UgPSBNYXRoLm1heCh0aGlzLmRlZmVuc2UsIHVuaXQuZGVmZW5zZSkgKyBkZWZlbnNlSW5jcmVhc2U7XHJcbiAgICB0aGlzLnNwZWVkID0gdGhpcy5zcGVlZCA+IFNQRUVEID8gdGhpcy5zcGVlZCArPSAwLjEgOiBTUEVFRDtcclxuICAgIHRoaXMueCA9ICh0aGlzLnggKiBzMSArIHVuaXQueCAqIHMyKSAvIChzMSArIHMyKTtcclxuICAgIHRoaXMueSA9ICh0aGlzLnkgKiBzMSArIHVuaXQueSAqIHMyKSAvIChzMSArIHMyKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgbW92ZVRvQW5vdGhlclNpZGVJZkdvQmV5b25jZUNhbnZhcyB9IGZyb20gXCIuLi9jb250cm9sc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVuaXQge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgYWxmYVgsIGFsZmFZLCBzcGVlZCkge1xyXG4gICAgdGhpcy5jdHggPSBjdHg7XHJcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gICAgdGhpcy5kaXIgPSB7XHJcbiAgICAgIHg6IGFsZmFYLFxyXG4gICAgICB5OiBhbGZhWVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIG5ld1BvcygpIHtcclxuICAgIHRoaXMueCArPSB0aGlzLnNwZWVkICogdGhpcy5kaXIueDtcclxuICAgIHRoaXMueSArPSB0aGlzLnNwZWVkICogdGhpcy5kaXIueTtcclxuICAgIG1vdmVUb0Fub3RoZXJTaWRlSWZHb0JleW9uY2VDYW52YXModGhpcy5jdHgsIHRoaXMpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEhlcm8gfSBmcm9tIFwiLi9jcmVhdHVyZXMvaGVyb1wiO1xyXG5pbXBvcnQgeyBEdW1teUVuZW15LCBCQVNFX0RVTU1ZX1NJWkUsIFNQRUVEIGFzIERVTU1ZX1NQRUFEIH0gZnJvbSBcIi4vY3JlYXR1cmVzL2R1bW15RW5lbXlcIjtcclxuaW1wb3J0IHsgU21hcnRFbmVteSwgQkFTRV9TTUFSVF9TSVpFIH0gZnJvbSBcIi4vY3JlYXR1cmVzL3NtYXJ0RW5lbXlcIjtcclxuaW1wb3J0IHsgYWRkSGVyb0NvbnRyb2xzIH0gZnJvbSBcIi4vY29udHJvbHNcIjtcclxuaW1wb3J0IHsgaXNEaXN0YW5jZUJldHdlZW5Vbml0c01vcmVUaGFuU2FmZSwgaWZVbml0c1RvdWNoRWFjaE90aGVyLCBnZXRDZW50ZXJDb29yZGluYXRlcywgbWVyZ2VVbml0cyB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IEJ1bGxldCwgQlVMTEVUIH0gZnJvbSBcIi4vY3JlYXR1cmVzL2J1bGxldFwiO1xyXG5pbXBvcnQgeyBSYW5kb21CdWZmIH0gZnJvbSAnLi9pdGVtcy9idWZmLWdlbmVyYXRvcic7XHJcbmltcG9ydCB7IGluaXRpYWxpemVHYW1lLCBzZW5kUmVzdWx0VG9EYXRhYmFzZSB9IGZyb20gJy4vbWFpbic7XHJcbmltcG9ydCB7IExhbmRzY2FwZSB9IGZyb20gJy4vaXRlbXMvbGFuZHNjYXBlJztcclxuXHJcbmNvbnN0IHNjb3JlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNjb3JlXCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWUge1xyXG4gIGNvbnN0cnVjdG9yKGNhbnZhcykge1xyXG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IDcwMDtcclxuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IDcwMDtcclxuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgdGhpcy5oZXJvID0gbmV3IEhlcm8odGhpcy5jdHgpO1xyXG4gICAgdGhpcy5sYW5kc2NhcGUgPSBuZXcgTGFuZHNjYXBlKHRoaXMuY3R4LCA0MCwgNDAsIHRoaXMuY3R4LmNhbnZhcy5jbGllbnRXaWR0aCwgdGhpcy5jdHguY2FudmFzLmNsaWVudFdpZHRoKVxyXG4gICAgdGhpcy5kdW1teUVuZW1pZXMgPSBbXTtcclxuICAgIHRoaXMuc21hcnRFbmVtaWVzID0gW107XHJcbiAgICB0aGlzLmhlcm9CdWxsZXRzID0gW107XHJcbiAgICB0aGlzLnRpbWVycyA9IFtdO1xyXG4gICAgdGhpcy5sdmwgPSAxO1xyXG4gICAgdGhpcy5idWZmSXRlbSA9ICcnO1xyXG4gICAgdGhpcy5sYW5kc2NhcGUuZHJhdyh0aGlzLmN0eCk7XHJcbiAgICB0aGlzLmhhbmRsZUhlcm9Qb3NpdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgc3RhcnQoKSB7XHJcbiAgICBjb25zdCB0aW1lcjEgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnVwZGF0ZUdhbWUoKSwgMTApO1xyXG4gICAgY29uc3QgdGltZXIyID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy51cGRhdGVTcHJpdGVzKCksIDIwMCk7XHJcbiAgICBjb25zdCB0aW1lcjMgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmFkZEVuZW15KHRoaXMuc21hcnRFbmVtaWVzLCBTbWFydEVuZW15LCBCQVNFX1NNQVJUX1NJWkUpLCAyMDAwKTtcclxuICAgIGNvbnN0IHRpbWVyNCA9IHNldEludGVydmFsKCgpID0+IHRoaXMuYWRkRW5lbXkodGhpcy5kdW1teUVuZW1pZXMsIER1bW15RW5lbXksIEJBU0VfRFVNTVlfU0laRSksIDQwMDApO1xyXG4gICAgY29uc3QgdGltZXI1ID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5hZGRCdWZmSXRlbSgpLCAxMjAwMCk7XHJcbiAgICBjb25zdCB0aW1lcjYgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmx2bFVwKCksIDEwMDAwKVxyXG4gICAgdGhpcy50aW1lcnMucHVzaCh0aW1lcjEsIHRpbWVyMiwgdGltZXIzLCB0aW1lcjQsIHRpbWVyNSwgdGltZXI2KTtcclxuICAgIGFkZEhlcm9Db250cm9scyh0aGlzLmhlcm8sICh4LCB5KSA9PiB0aGlzLmFkZEJ1bGxldCh4LCB5KSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVHYW1lKCkge1xyXG4gICAgdGhpcy51cGRhdGVTY29yZSgpO1xyXG4gICAgdGhpcy51cGRhdGVDYW52YXNTdGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2NvcmUoKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gdGhpcy5jdXJyZW50VGltZSArIDEwO1xyXG4gICAgY29uc3QgdmFsdWUgPSAodGhpcy5jdXJyZW50VGltZSAtIHRoaXMuc3RhcnRUaW1lKSAvIDEwMDA7XHJcbiAgICBzY29yZUxhYmVsLmlubmVySFRNTCA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU3ByaXRlcygpIHtcclxuICAgIGNvbnN0IHNwcml0ZXMgPSBbdGhpcy5oZXJvLCAuLi50aGlzLmR1bW15RW5lbWllcywgLi4udGhpcy5zbWFydEVuZW1pZXNdO1xyXG4gICAgc3ByaXRlcy5mb3JFYWNoKHNwcml0ZSA9PiBzcHJpdGUuc2V0TmV4dFNwcml0ZSgpKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUNhbnZhc1N0YXRlKCkge1xyXG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY3R4LmNhbnZhcy5jbGllbnRXaWR0aCwgdGhpcy5jdHguY2FudmFzLmNsaWVudEhlaWdodCk7XHJcbiAgICB0aGlzLmxhbmRzY2FwZS5kcmF3KHRoaXMuY3R4KTtcclxuICAgIHRoaXMuaGFuZGxlSGVyb1Bvc2l0aW9uKCk7XHJcbiAgICB0aGlzLmhhbmRsZUJ1ZmZJdGVtUG9zaXRpb24oKTtcclxuICAgIHRoaXMuaGFuZGxlRHVtbXlFbmVtaWVzUG9zaXRpb24oKTtcclxuICAgIHRoaXMuaGFuZGxlU21hcnRFbmVtaWVzUG9zaXRpb24oKTtcclxuICAgIHRoaXMuaGFuZGxlSGVyb0J1bGxldHNQb3NpdGlvbigpO1xyXG4gICAgdGhpcy5oYW5kbGVFbmVtaWVzRGVhdGgoKTtcclxuICAgIHRoaXMuaGFuZGxlSGVyb0RlYXRoKCk7XHJcbiAgICB0aGlzLmhhbmRsZUJ1ZmZzKCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVIZXJvUG9zaXRpb24oKSB7XHJcbiAgICB0aGlzLmhlcm8ubmV3UG9zKCkudXBkYXRlKHRoaXMuY3R4KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUJ1ZmZJdGVtUG9zaXRpb24oKSB7XHJcbiAgICB0aGlzLmJ1ZmZJdGVtICYmIHRoaXMuYnVmZkl0ZW0uZHJhdyh0aGlzLmN0eCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVEdW1teUVuZW1pZXNQb3NpdGlvbigpIHtcclxuICAgIHRoaXMuZHVtbXlFbmVtaWVzLmZvckVhY2goZW5lbXkgPT4gZW5lbXkubmV3UG9zKCkudXBkYXRlKHRoaXMuY3R4KSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTbWFydEVuZW1pZXNQb3NpdGlvbigpIHtcclxuICAgIHRoaXMuc21hcnRFbmVtaWVzID0gdGhpcy5zbWFydEVuZW1pZXMucmVkdWNlKChuZXdBcnJheSwgY3VycmVudEVuZW15KSA9PiB7XHJcbiAgICAgIGlmIChuZXdBcnJheS5zb21lKGVuZW15ID0+IGlmVW5pdHNUb3VjaEVhY2hPdGhlcihlbmVteSwgY3VycmVudEVuZW15KSkpIHtcclxuICAgICAgICByZXR1cm4gbmV3QXJyYXk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgc2Vjb25kRW5lbXkgPSB0aGlzLnNtYXJ0RW5lbWllcy5maW5kKGVuZW15ID0+IGlmVW5pdHNUb3VjaEVhY2hPdGhlcihlbmVteSwgY3VycmVudEVuZW15KSAmJiAoZW5lbXkgIT09IGN1cnJlbnRFbmVteSkpXHJcbiAgICAgIGlmIChzZWNvbmRFbmVteSkge1xyXG4gICAgICAgIGN1cnJlbnRFbmVteS5lYXQoc2Vjb25kRW5lbXkpO1xyXG4gICAgICB9XHJcbiAgICAgIG5ld0FycmF5LnB1c2goY3VycmVudEVuZW15KTtcclxuICAgICAgcmV0dXJuIG5ld0FycmF5O1xyXG4gICAgfSwgW10pO1xyXG4gICAgdGhpcy5zbWFydEVuZW1pZXMuZm9yRWFjaChjdXJyZW50RW5lbXkgPT4gY3VycmVudEVuZW15Lm5ld1Bvcyh0aGlzLmhlcm8pLnVwZGF0ZSh0aGlzLmN0eCkpXHJcbiAgfVxyXG5cclxuICBoYW5kbGVIZXJvQnVsbGV0c1Bvc2l0aW9uKCkge1xyXG4gICAgbGV0IEZJRUxEX1dJRFRIID0gdGhpcy5jdHguY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgbGV0IEZJRUxEX0hFSUdIVCA9IHRoaXMuY3R4LmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcbiAgICBsZXQgaXNJbnNpZGVDYW52YXM7XHJcbiAgICB0aGlzLmhlcm9CdWxsZXRzID0gdGhpcy5oZXJvQnVsbGV0cy5maWx0ZXIoYnVsbGV0ID0+IHtcclxuICAgICAgaXNJbnNpZGVDYW52YXMgPSBidWxsZXQueCA8IEZJRUxEX1dJRFRIICYmIGJ1bGxldC54ID4gMCAmJiBidWxsZXQueSA8IEZJRUxEX0hFSUdIVCAmJiBidWxsZXQueSA+IDA7XHJcbiAgICAgIGlmIChpc0luc2lkZUNhbnZhcykge1xyXG4gICAgICAgIGJ1bGxldC5uZXdQb3MoKS51cGRhdGUodGhpcy5jdHgpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpc0luc2lkZUNhbnZhcztcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlRW5lbWllc0RlYXRoKCkge1xyXG4gICAgY29uc3QgbmV3U21hcnRFbmVtaWVzID0gW107XHJcbiAgICBjb25zdCBuZXdEdW1teUVuZW1pZXMgPSBbXTtcclxuICAgIGNvbnN0IG5ld0J1bGxldHMgPSBbXTtcclxuICAgIGNvbnN0IGFsbEVuZW1pZXMgPSBbLi4udGhpcy5zbWFydEVuZW1pZXMsIC4uLnRoaXMuZHVtbXlFbmVtaWVzXVxyXG5cclxuICAgIHRoaXMuc21hcnRFbmVtaWVzLmZvckVhY2goZW5lbXkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMuaGVyb0J1bGxldHMuc29tZShidWxsZXQgPT4gdGhpcy5zaG91bGRFbmVteURpZUlmQnVsbGV0SGl0c0hpbShlbmVteSwgYnVsbGV0KSkpIHtcclxuICAgICAgICBuZXdTbWFydEVuZW1pZXMucHVzaChlbmVteSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHRoaXMuZHVtbXlFbmVtaWVzLmZvckVhY2goZW5lbXkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMuaGVyb0J1bGxldHMuc29tZShidWxsZXQgPT4gdGhpcy5zaG91bGRFbmVteURpZUlmQnVsbGV0SGl0c0hpbShlbmVteSwgYnVsbGV0KSkpIHtcclxuICAgICAgICBuZXdEdW1teUVuZW1pZXMucHVzaChlbmVteSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHRoaXMuaGVyb0J1bGxldHMuZm9yRWFjaChidWxsZXQgPT4ge1xyXG4gICAgICBpZiAoIWFsbEVuZW1pZXMuc29tZShlbmVteSA9PiB0aGlzLnNob3VsZEVuZW15RGllSWZCdWxsZXRIaXRzSGltKGVuZW15LCBidWxsZXQpKSkge1xyXG4gICAgICAgIG5ld0J1bGxldHMucHVzaChidWxsZXQpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICB0aGlzLnNtYXJ0RW5lbWllcyA9IG5ld1NtYXJ0RW5lbWllcztcclxuICAgIHRoaXMuZHVtbXlFbmVtaWVzID0gbmV3RHVtbXlFbmVtaWVzO1xyXG4gICAgdGhpcy5oZXJvQnVsbGV0cyA9IG5ld0J1bGxldHM7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVIZXJvRGVhdGgoKSB7XHJcbiAgICBpZiAoIXRoaXMuaGVyby5pc0ltbW9ydGFsKSB7XHJcbiAgICAgIGNvbnN0IERFTFRBID0gMTA7XHJcbiAgICAgIGNvbnN0IGVuZW1pZXMgPSBbLi4udGhpcy5kdW1teUVuZW1pZXMsIC4uLnRoaXMuc21hcnRFbmVtaWVzXTtcclxuICAgICAgaWYgKGVuZW1pZXMuc29tZShlbmVteSA9PiBpZlVuaXRzVG91Y2hFYWNoT3RoZXIodGhpcy5oZXJvLCBlbmVteSwgREVMVEEpKSkge1xyXG4gICAgICAgIHRoaXMuZmluaXNoR2FtZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaW5pc2hHYW1lKCkge1xyXG4gICAgdGhpcy50aW1lcnMubWFwKHRpbWVyID0+IGNsZWFySW50ZXJ2YWwodGltZXIpKTtcclxuICAgIGNvbnN0IHNjb3JlID0gc2NvcmVMYWJlbC5pbm5lclRleHQ7XHJcbiAgICBjb25zdCBuYW1lID0gcHJvbXB0KFwiWW91IGxvc2UsIHlvdXIgc2NvcmUgaXMgXCIgKyBzY29yZSwgJ1VzZXInKTtcclxuICAgIHNlbmRSZXN1bHRUb0RhdGFiYXNlKHNjb3JlLCBuYW1lIHx8ICdVc2VyJyk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IGluaXRpYWxpemVHYW1lKCksIDEwKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUJ1ZmZzKCkge1xyXG4gICAgaWYgKGlmVW5pdHNUb3VjaEVhY2hPdGhlcih0aGlzLmhlcm8sIHRoaXMuYnVmZkl0ZW0pKSB7XHJcbiAgICAgIGNvbnN0IEJVRkZfVElNRSA9IDIwMDAwO1xyXG4gICAgICB0aGlzLmJ1ZmZJdGVtLmFjdGl2YXRlQnVmZih0aGlzLCBCVUZGX1RJTUUpO1xyXG4gICAgICB0aGlzLmJ1ZmZJdGVtID0gJydcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGx2bFVwKCkge1xyXG4gICAgdGhpcy5hZGRFbmVteVByaWRlKHRoaXMuc21hcnRFbmVtaWVzLCBTbWFydEVuZW15LCBCQVNFX1NNQVJUX1NJWkUpO1xyXG4gICAgdGhpcy5hZGRFbmVteVByaWRlKHRoaXMuZHVtbXlFbmVtaWVzLCBEdW1teUVuZW15LCBCQVNFX0RVTU1ZX1NJWkUpO1xyXG4gICAgdGhpcy5sdmwrKztcclxuICAgIGNvbnNvbGUubG9nKHRoaXMubHZsKTtcclxuICB9XHJcblxyXG4gIHNob3VsZEVuZW15RGllSWZCdWxsZXRIaXRzSGltKGVuZW15LCBidWxsZXQpIHtcclxuICAgIGNvbnN0IE1JTl9TSVpFID0gMjU7XHJcbiAgICBjb25zdCBpc0NvbnRhY3QgPSBpZlVuaXRzVG91Y2hFYWNoT3RoZXIoZW5lbXksIGJ1bGxldClcclxuICAgIGlmIChpc0NvbnRhY3QpIHtcclxuICAgICAgZW5lbXkgPSB0aGlzLmRhbWFnZVVuaXQoZW5lbXkpXHJcbiAgICB9XHJcbiAgICBpZiAoaXNDb250YWN0ICYmIChlbmVteS53aWR0aCA8IE1JTl9TSVpFIHx8IGVuZW15LmhlaWdodCA8IE1JTl9TSVpFKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGFtYWdlVW5pdCh1bml0KSB7XHJcbiAgICBjb25zdCBtaW5EYW1hZ2UgPSA0O1xyXG4gICAgY29uc3QgeyBkYW1hZ2UsIHNwZWVkRGVjcmVhc2UgfSA9IEJVTExFVDtcclxuICAgIGNvbnN0IG1hc3MgPSB1bml0LndpZHRoICogdW5pdC5oZWlnaHQ7XHJcbiAgICBjb25zdCBkZWZlbnNlID0gdW5pdC5kZWZlbnNlIHx8IDA7XHJcbiAgICBjb25zdCBoZXJvRGFtYWdlID0gZGFtYWdlIC0gZGVmZW5zZSA+IDAgPyBkYW1hZ2UgLSBkZWZlbnNlIDogbWluRGFtYWdlO1xyXG4gICAgY29uc3QgayA9IChtYXNzIC0gaGVyb0RhbWFnZSkgLyBtYXNzO1xyXG4gICAgdW5pdC53aWR0aCAqPSBrO1xyXG4gICAgdW5pdC5oZWlnaHQgKj0gaztcclxuICAgIHVuaXQuc3BlZWQgPiBzcGVlZERlY3JlYXNlID8gdW5pdC5zcGVlZCAtPSBzcGVlZERlY3JlYXNlIDogMDtcclxuICAgIHJldHVybiB1bml0O1xyXG4gIH1cclxuXHJcbiAgYWRkRW5lbXkoZW5lbXlBcnJheSwgY3JlYXR1cmVDb25zdHJ1Y3RvciwgYmFzZVNpemUpIHtcclxuICAgIGNvbnN0IHsgc2l6ZSwgeCwgeSwgYWxmYVgsIGFsZmFZIH0gPSB0aGlzLmdlbmVyYXRlUmFuZG9tUG9zaXRpb25BbmREaXJlY3Rpb24odGhpcy5oZXJvLCBiYXNlU2l6ZSk7XHJcbiAgICBjb25zdCBlbmVteSA9IG5ldyBjcmVhdHVyZUNvbnN0cnVjdG9yKHRoaXMuY3R4LCBzaXplLCBzaXplLCB4LCB5LCBhbGZhWCwgYWxmYVksIERVTU1ZX1NQRUFEICsgMC4xNSAqIHRoaXMubHZsKTtcclxuICAgIGVuZW15QXJyYXkucHVzaChlbmVteSk7XHJcbiAgfVxyXG5cclxuICBhZGRFbmVteVByaWRlKGVuZW15QXJyYXksIGNyZWF0dXJlQ29uc3RydWN0b3IsIGJhc2VTaXplKSB7XHJcbiAgICBjb25zdCB7IHNpemUsIHgsIHksIGFsZmFYLCBhbGZhWSB9ID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVBvc2l0aW9uQW5kRGlyZWN0aW9uKHRoaXMuaGVybywgYmFzZVNpemUpO1xyXG4gICAgY29uc3QgZW5lbXkgPSBuZXcgY3JlYXR1cmVDb25zdHJ1Y3Rvcih0aGlzLmN0eCwgc2l6ZSwgc2l6ZSwgeCwgeSwgYWxmYVgsIGFsZmFZKTtcclxuICAgIGVuZW15QXJyYXkucHVzaChlbmVteSk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubHZsOyBpKyspIHtcclxuICAgICAgY29uc3QgeyBzaXplLCB4LCB5IH0gPSB0aGlzLmdlbmVyYXRlUmFuZG9tUG9zaXRpb25BbmREaXJlY3Rpb24oZW5lbXksIGJhc2VTaXplLCB0cnVlLCAxMDApO1xyXG4gICAgICBjb25zdCBuZXdFbmVteSA9IG5ldyBjcmVhdHVyZUNvbnN0cnVjdG9yKHRoaXMuY3R4LCBzaXplLCBzaXplLCB4LCB5LCBhbGZhWCwgYWxmYVkpO1xyXG4gICAgICBlbmVteUFycmF5LnB1c2gobmV3RW5lbXkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWRkQnVsbGV0KHgsIHkpIHtcclxuICAgIGNvbnN0IFtoZXJvWCwgaGVyb1ldID0gZ2V0Q2VudGVyQ29vcmRpbmF0ZXModGhpcy5oZXJvKTtcclxuICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihoZXJvWCAtIHgsIGhlcm9ZIC0geSkgKyBNYXRoLlBJO1xyXG4gICAgY29uc3QgYnVsbGV0ID0gbmV3IEJ1bGxldCh0aGlzLmN0eCwgaGVyb1gsIGhlcm9ZLCBNYXRoLnNpbihhbmdsZSksIE1hdGguY29zKGFuZ2xlKSk7XHJcbiAgICB0aGlzLmhlcm9CdWxsZXRzLnB1c2goYnVsbGV0KTtcclxuICB9XHJcblxyXG4gIGFkZEJ1ZmZJdGVtKCkge1xyXG4gICAgY29uc3Qgc2l6ZSA9IDIwO1xyXG4gICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLmdlbmVyYXRlUmFuZG9tUG9zaXRpb25BbmREaXJlY3Rpb24odGhpcy5oZXJvLCAwKTtcclxuICAgIGNvbnN0IGJ1ZmZJdGVtID0gbmV3IFJhbmRvbUJ1ZmYodGhpcy5jdHgsIHNpemUsIHNpemUsIHgsIHkpO1xyXG4gICAgdGhpcy5idWZmSXRlbSA9IGJ1ZmZJdGVtO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVSYW5kb21Qb3NpdGlvbkFuZERpcmVjdGlvbihoZXJvLCBiYXNlU2l6ZSwgaXNJbnNpZGVDaXJjbGUgPSBmYWxzZSwgZGlzdGFuY2UgPSAyMDApIHtcclxuICAgIGxldCB4O1xyXG4gICAgbGV0IHk7XHJcbiAgICBjb25zdCBzaXplID0gTWF0aC5yYW5kb20oKSAqIDIwICsgYmFzZVNpemUgKyB0aGlzLmx2bCAqIDU7XHJcbiAgICBsZXQgY29uZGl0aW9uO1xyXG4gICAgZG8ge1xyXG4gICAgICB4ID0gTWF0aC5yYW5kb20oKSAqIHRoaXMuY3R4LmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgeSA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLmN0eC5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgICBjb25zdCBuZXdVbml0ID0geyB4LCB5LCB3aWR0aDogc2l6ZSwgaGVpZ2h0OiBzaXplIH07XHJcbiAgICAgIGNvbmRpdGlvbiA9IGlzRGlzdGFuY2VCZXR3ZWVuVW5pdHNNb3JlVGhhblNhZmUoaGVybywgbmV3VW5pdCwgZGlzdGFuY2UpO1xyXG4gICAgfSB3aGlsZSAoaXNJbnNpZGVDaXJjbGUgPyBjb25kaXRpb24gOiAhY29uZGl0aW9uKTtcclxuXHJcbiAgICBjb25zdCBhbGZhWCA9IE1hdGgucmFuZG9tKCkgKiAyIC0gMTtcclxuICAgIGNvbnN0IGFsZmFZID0gTWF0aC5yYW5kb20oKSAqIDIgLSAxO1xyXG5cclxuICAgIHJldHVybiB7IHgsIHksIGFsZmFYLCBhbGZhWSwgc2l6ZSB9O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBTd29yZCB9IGZyb20gJy4vc3dvcmQnO1xyXG5pbXBvcnQgeyBTaGllbGQgfSBmcm9tICcuL3NoaWVsZCc7XHJcbmltcG9ydCB7IFNob2VzIH0gZnJvbSAnLi9zaG9lcyc7XHJcblxyXG5jb25zdCBidWZmVHlwZXMgPSBbe1xyXG4gIHNlbGVjdG9yOiAnLnN3b3JkJyxcclxuICBjb25zdHJ1Y3RvcjogU3dvcmQsXHJcbn0sIHtcclxuICBzZWxlY3RvcjogJy5zaGllbGQnLFxyXG4gIGNvbnN0cnVjdG9yOiBTaGllbGQsXHJcbn0sIHtcclxuICBzZWxlY3RvcjogJy5zaG9lcycsXHJcbiAgY29uc3RydWN0b3I6IFNob2VzLFxyXG59XVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFJhbmRvbUJ1ZmYoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5KSB7XHJcbiAgY29uc3QgYnVmZlR5cGUgPSBidWZmVHlwZXNbfn4oTWF0aC5yYW5kb20oKSAqIDMpXVxyXG4gIGNvbnN0IGJ1ZmYgPSBidWZmVHlwZS5jb25zdHJ1Y3RvclxyXG4gIHJldHVybiBuZXcgYnVmZihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGJ1ZmZUeXBlLnNlbGVjdG9yKTtcclxufTsiLCJcclxuZXhwb3J0IGNsYXNzIEl0ZW0ge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgc2VsZWN0b3IpIHtcclxuICAgIHRoaXMuY3R4ID0gY3R4O1xyXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICAgIHRoaXMuc3ByaXRlID0ge1xyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwLFxyXG4gICAgICB3aWR0aDogMTYsXHJcbiAgICAgIGhlaWdodDogMTYsXHJcbiAgICB9XHJcbiAgICB0aGlzLmltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBkcmF3KGN0eCkge1xyXG4gICAgY29uc3QgeyBpbWFnZSwgc3ByaXRlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzXHJcbiAgICBjdHguZHJhd0ltYWdlKGltYWdlLCBzcHJpdGUueCwgc3ByaXRlLnksIHNwcml0ZS53aWR0aCwgc3ByaXRlLmhlaWdodCwgeCwgeSwgd2lkdGgsIGhlaWdodClcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufVxyXG4iLCJcclxuZXhwb3J0IGNsYXNzIExhbmRzY2FwZSB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KSB7XHJcbiAgICB0aGlzLmN0eCA9IGN0eDtcclxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgdGhpcy5jYW52YXNXaWR0aCA9IGNhbnZhc1dpZHRoO1xyXG4gICAgdGhpcy5jYW52YXNIZWlnaHQgPSBjYW52YXNIZWlnaHQ7XHJcbiAgICB0aGlzLnNwcml0ZSA9IHtcclxuICAgICAgeDogMCxcclxuICAgICAgeTogMCxcclxuICAgICAgd2lkdGg6IDMyLFxyXG4gICAgICBoZWlnaHQ6IDMyLFxyXG4gICAgfVxyXG4gICAgdGhpcy5pbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYW5kc2NhcGUnKTtcclxuICB9XHJcblxyXG4gIGRyYXcoY3R4KSB7XHJcbiAgICBjb25zdCB7IGltYWdlLCBzcHJpdGUsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQsIHdpZHRoLCBoZWlnaHQgfSA9IHRoaXNcclxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgY2FudmFzV2lkdGg7IHggKz0gd2lkdGgpIHtcclxuICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBjYW52YXNIZWlnaHQ7IHkgKz0gaGVpZ2h0KSB7XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgc3ByaXRlLngsIHNwcml0ZS55LCBzcHJpdGUud2lkdGgsIHNwcml0ZS5oZWlnaHQsIHgsIHksIHdpZHRoLCBoZWlnaHQpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJdGVtIH0gZnJvbSAnLi9pdGVtJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTaGllbGQgZXh0ZW5kcyBJdGVtIHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIHR5cGUpIHtcclxuICAgIHN1cGVyKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgdHlwZSk7XHJcbiAgfVxyXG5cclxuICBhY3RpdmF0ZUJ1ZmYoZ2FtZU9iamVjdCwgdGltZSkge1xyXG4gICAgZ2FtZU9iamVjdC5oZXJvLmlzSW1tb3J0YWwgPSB0cnVlO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiBnYW1lT2JqZWN0Lmhlcm8uaXNJbW1vcnRhbCA9IGZhbHNlLCB0aW1lKVxyXG4gIH1cclxufSIsImltcG9ydCB7IEl0ZW0gfSBmcm9tICcuL2l0ZW0nO1xyXG5pbXBvcnQgeyBpbmNyZWFzZUhlcm9WZWxvY2l0eUJ5QnVmZiwgZGVjcmVhc2VIZXJvVmVsb2NpdHlCeURlYnVmZiB9IGZyb20gJy4uL2NyZWF0dXJlcy9oZXJvJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTaG9lcyBleHRlbmRzIEl0ZW0ge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgdHlwZSkge1xyXG4gICAgc3VwZXIoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCB0eXBlKTtcclxuICB9XHJcblxyXG4gIGFjdGl2YXRlQnVmZihnYW1lT2JqZWN0LCB0aW1lKSB7XHJcbiAgICBjb25zdCB2YWx1ZSA9IDU7XHJcbiAgICBpbmNyZWFzZUhlcm9WZWxvY2l0eUJ5QnVmZigpO1xyXG4gICAgY29uc3QgZW5lbWllcyA9IFsuLi5nYW1lT2JqZWN0LnNtYXJ0RW5lbWllcywgLi4uZ2FtZU9iamVjdC5kdW1teUVuZW1pZXNdO1xyXG4gICAgZW5lbWllcy5mb3JFYWNoKGVuZW15ID0+IGVuZW15LnNwZWVkIC89IHZhbHVlKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ3NwZWVkIGZpeGVkIGJhY2snKVxyXG4gICAgICBkZWNyZWFzZUhlcm9WZWxvY2l0eUJ5RGVidWZmKCk7XHJcbiAgICAgIGVuZW1pZXMuZm9yRWFjaChlbmVteSA9PiBlbmVteS5zcGVlZCAqPSB2YWx1ZSk7XHJcbiAgICB9LCB0aW1lKVxyXG4gIH1cclxufSIsImltcG9ydCB7IEl0ZW0gfSBmcm9tICcuL2l0ZW0nO1xyXG5pbXBvcnQgeyBncm93QnVsbGV0LCBzaHJpbmtCdWxsZXQgfSBmcm9tICcuLi9jcmVhdHVyZXMvYnVsbGV0JztcclxuXHJcbmV4cG9ydCBjbGFzcyBTd29yZCBleHRlbmRzIEl0ZW0ge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgd2lkdGgsIGhlaWdodCwgeCwgeSwgdHlwZSkge1xyXG4gICAgc3VwZXIoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCB0eXBlKTtcclxuICB9XHJcblxyXG4gIGFjdGl2YXRlQnVmZihnYW1lT2JqZWN0LCB0aW1lKSB7XHJcbiAgICBncm93QnVsbGV0KCk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHNocmlua0J1bGxldCgpLCB0aW1lKVxyXG4gIH1cclxufSIsImltcG9ydCB7IEdhbWUgfSBmcm9tIFwiLi9nYW1lLWFyZW5hXCI7XHJcblxyXG5sZXQgZ2FtZTtcclxuY29uc3Qgc2NvcmVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2NvcmVcIik7XHJcbmNvbnN0IHNwZWVkTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3BlZWQnKTtcclxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImNhbnZhc1wiKTtcclxuXHJcbmNvbnN0IFVSTCA9ICdodHRwczovL3Nob290ZXItZ2FtZS0yYTFiZS5maXJlYmFzZWlvLmNvbS9zdGF0aXN0aWNzLy5qc29uJztcclxubGV0IGJlc3RTY29yZXMgPSBbXTtcclxuXHJcbmluaXRpYWxpemVHYW1lKCk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUdhbWUoKSB7XHJcbiAgZ2V0U2NvcmVGcm9tRGF0YWJhc2UoKTtcclxuICBnYW1lID0gbmV3IEdhbWUoY2FudmFzKTtcclxuICBzY29yZUxhYmVsLmlubmVySFRNTCA9IDA7XHJcbiAgc3BlZWRMYWJlbC5pbm5lckhUTUwgPSAwO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBzdGFydEdhbWUsIHsgb25jZTogdHJ1ZSB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RhcnRHYW1lKCkge1xyXG4gIGdhbWUuc3RhcnQoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRSZXN1bHRUb0RhdGFiYXNlKHNjb3JlLCBuYW1lKSB7XHJcbiAgZmV0Y2goVVJMLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc2NvcmUsIG5hbWUgfSlcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NvcmVGcm9tRGF0YWJhc2UoKSB7XHJcbiAgZmV0Y2goVVJMLCB7IG1ldGhvZDogJ0dFVCcgfSlcclxuICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICBiZXN0U2NvcmVzID0gZGF0YTtcclxuICAgICAgY29uc29sZS5sb2coYmVzdFNjb3JlcylcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coJ21pc3RlcmlvdXMgZXJyb3InKSlcclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0Q2VudGVyQ29vcmRpbmF0ZXModW5pdCkge1xyXG4gIHJldHVybiBbdW5pdC54ICsgMC41ICogdW5pdC53aWR0aCwgdW5pdC55ICsgMC41ICogdW5pdC5oZWlnaHRdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2VCZXR3ZWVuVW5pdHModW5pdDEsIHVuaXQyKSB7XHJcbiAgY29uc3QgW3gxLCB5MV0gPSBnZXRDZW50ZXJDb29yZGluYXRlcyh1bml0MSk7XHJcbiAgY29uc3QgW3gyLCB5Ml0gPSBnZXRDZW50ZXJDb29yZGluYXRlcyh1bml0Mik7XHJcbiAgcmV0dXJuIE1hdGgucG93KE1hdGgucG93KHgxIC0geDIsIDIpICsgTWF0aC5wb3coeTEgLSB5MiwgMiksIDAuNSk7XHJcbn1cclxuXHJcbmNvbnN0IFBJWEVMX0JPUkRFUiA9IDJcclxuZXhwb3J0IGZ1bmN0aW9uIGlmVW5pdHNUb3VjaEVhY2hPdGhlcih1bml0MSwgdW5pdDIsIGRlbHRhID0gMCkge1xyXG4gIGNvbnN0IFt4MSwgeTFdID0gZ2V0Q2VudGVyQ29vcmRpbmF0ZXModW5pdDEpO1xyXG4gIGNvbnN0IFt4MiwgeTJdID0gZ2V0Q2VudGVyQ29vcmRpbmF0ZXModW5pdDIpO1xyXG4gIHJldHVybiAoXHJcbiAgICBNYXRoLmFicyh4MiAtIHgxKSA8ICh1bml0MS53aWR0aCArIHVuaXQyLndpZHRoIC0gUElYRUxfQk9SREVSIC0gZGVsdGEpIC8gMlxyXG4gICAgJiYgTWF0aC5hYnMoeTIgLSB5MSkgPCAodW5pdDEuaGVpZ2h0ICsgdW5pdDIuaGVpZ2h0IC0gUElYRUxfQk9SREVSIC0gZGVsdGEpIC8gMlxyXG4gICk7XHJcbn1cclxuXHJcbmNvbnN0IFNBRkVfRElTVEFOQ0UgPSAyMDA7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNEaXN0YW5jZUJldHdlZW5Vbml0c01vcmVUaGFuU2FmZSh1bml0MSwgdW5pdDIsIGRpc3QgPSBTQUZFX0RJU1RBTkNFKSB7XHJcbiAgcmV0dXJuIGdldERpc3RhbmNlQmV0d2VlblVuaXRzKHVuaXQxLCB1bml0MikgPiBkaXN0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VVbml0cyh1bml0MSwgdW5pdDIpIHtcclxuICBjb25zdCBzMSA9IHVuaXQxLndpZHRoICogdW5pdDEuaGVpZ2h0O1xyXG4gIGNvbnN0IHMyID0gdW5pdDIud2lkdGggKiB1bml0Mi5oZWlnaHRcclxuICBjb25zdCBrID0gTWF0aC5wb3coKHMxICsgczIpIC8gczEsIDAuNSlcclxuICB1bml0MS53aWR0aCAqPSBrO1xyXG4gIHVuaXQxLmhlaWdodCAqPSBrO1xyXG4gIHJldHVybiB1bml0MTtcclxufVxyXG4iXX0=
