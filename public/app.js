!function i(a,u,c){function s(t,e){if(!u[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=u[t]={exports:{}};a[t][0].call(o.exports,function(e){return s(a[t][1][e]||e)},o,o.exports,i,a,u,c)}return u[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)s(c[e]);return s}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addHeroControls=function(e,t){var r=e.dir,n=e.gunDir;document.addEventListener("keydown",function(e){switch(e.keyCode){case 38:r.y=n.y=-1,r.x=n.x=0;break;case 39:r.y=n.y=0,r.x=n.x=1;break;case 40:r.y=n.y=1,r.x=n.x=0;break;case 37:r.x=n.x=-1,r.y=n.y=0;break;case 17:r.x=0,r.y=0;break;case 32:t()}})},r.removeHeroControls=function(){},r.moveToAnotherSideIfGoBeyonceCanvas=function(e,t){var r=e.canvas.clientWidth,n=e.canvas.clientHeight;t.x>r?t.x=0:t.x<0&&(t.x=r);t.y>n?t.y=0:t.y<0&&(t.y=n)}},{}],2:[function(e,t,r){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(r,"__esModule",{value:!0}),r.Bullet=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=e("./creature");r.Bullet=function(e){function s(e,t,r,n,o){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:6,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:6,u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:10,c=8<arguments.length&&void 0!==arguments[8]?arguments[8]:"orange";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,i,a,c,t-3,r-3,n,o,u))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,o.Creature),n(s,[{key:"newPos",value:function(){return this.x+=this.speed*this.dir.x,this.y+=this.speed*this.dir.y,this}}]),s}()},{"./creature":3}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Creature=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=e("../controls");r.Creature=function(){function s(e,t,r,n,o,i,a,u,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.ctx=e,this.width=t,this.height=r,this.color=n,this.speed=c,this.x=o,this.y=i,this.dir={x:a,y:u}}return n(s,[{key:"newPos",value:function(){return this.x+=this.speed*this.dir.x,this.y+=this.speed*this.dir.y,(0,o.moveToAnotherSideIfGoBeyonceCanvas)(this.ctx,this),this}},{key:"update",value:function(e){return e.fillStyle=this.color,e.fillRect(this.x,this.y,this.width,this.height),this}}]),s}()},{"../controls":1}],4:[function(e,t,r){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(r,"__esModule",{value:!0}),r.DummyEnemy=r.BASE_DUMMY_SIZE=void 0;var n=e("./creature");r.BASE_DUMMY_SIZE=18,r.DummyEnemy=function(e){function s(e,t,r,n,o,i,a){var u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:2,c=8<arguments.length&&void 0!==arguments[8]?arguments[8]:"red";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t,r,c,n,o,i,a,u))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,n.Creature),s}()},{"./creature":3}],5:[function(e,t,r){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(r,"__esModule",{value:!0}),r.Hero=void 0;var n=e("./creature");r.Hero=function(e){function l(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:20,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"green",o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:50,i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:50,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,c=8<arguments.length&&void 0!==arguments[8]?arguments[8]:3;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":f(t))&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e,t,r,n,o,i,a,u,c));return s.gunDir={x:1,y:0},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":f(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,n.Creature),l}()},{"./creature":3}],6:[function(e,t,r){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(r,"__esModule",{value:!0}),r.SmartEnemy=r.BASE_SMART_SIZE=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=e("./creature"),u=e("../utils");r.BASE_SMART_SIZE=16,r.SmartEnemy=function(e){function s(e,t,r,n,o,i,a){var u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:1,c=8<arguments.length&&void 0!==arguments[8]?arguments[8]:"blue";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t,r,c,n,o,i,a,u))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,o.Creature),n(s,[{key:"newPos",value:function(e){return this.updateDirection(e),function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0}(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"newPos",this).call(this),this}},{key:"showWarningMessage",value:function(e){this.ctx.font="13px Arial",this.ctx.strokeText(e||"I see you",this.x+10,this.y-5)}},{key:"updateDirection",value:function(e){if((0,u.isDistanceBetweenCreaturesLowThanSearchable)(e,this,200)){var t=(0,u.getCenterCoordinates)(e),r=a(t,2),n=r[0],o=r[1],i=Math.atan2(n-this.x,o-this.y)+Math.PI;this.dir.y=-Math.cos(i),this.dir.x=-Math.sin(i),this.showWarningMessage()}}}]),s}()},{"../utils":9,"./creature":3}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Game=void 0;var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=e("./creatures/hero"),i=e("./creatures/dummyEnemy"),a=e("./creatures/smartEnemy"),u=e("./controls"),l=e("./utils"),c=e("./creatures/bullet");function f(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var h=document.querySelector(".score");r.Game=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.startTime=Date.now(),this.currentTime=Date.now(),this.canvas.width=700,this.canvas.height=700,this.ctx=this.canvas.getContext("2d"),this.hero=new o.Hero(this.ctx),this.dummyEnemies=[],this.smartEnemies=[],this.heroBullets=[],this.timers=[]}return n(t,[{key:"start",value:function(){var e=this,t=setInterval(function(){return e.initializeGame()},10),r=setInterval(function(){return e.addEnemy(e.dummyEnemies,i.DummyEnemy,i.BASE_DUMMY_SIZE)},4e3),n=setInterval(function(){return e.addEnemy(e.smartEnemies,a.SmartEnemy,a.BASE_SMART_SIZE)},6e3);this.timers.push(t,r,n),(0,u.addHeroControls)(this.hero,function(){return e.addBullet(e.heroBullets,c.Bullet)})}},{key:"initializeGame",value:function(){this.updateState(),this.updateScore()}},{key:"updateScore",value:function(){this.currentTime=this.currentTime+10;var e=(this.currentTime-this.startTime)/1e3;h.innerHTML=e}},{key:"updateState",value:function(){this.ctx.clearRect(0,0,this.ctx.canvas.clientWidth,this.ctx.canvas.clientHeight),this.hero.newPos().update(this.ctx),this.handleDummyEnemies(),this.smartEnemies=this.handleSmartEnemies(),this.handleHeroBullets(),this.checkIfHeroDead()}},{key:"handleDummyEnemies",value:function(){var t=this;this.dummyEnemies.forEach(function(e){return e.newPos().update(t.ctx)})}},{key:"handleSmartEnemies",value:function(){var o=this;return this.smartEnemies.reduce(function(e,t,r,n){return t.newPos(o.hero).update(o.ctx),e.some(function(e){return(0,l.ifCreaturesTouchEachOther)(e,t)})||(n.some(function(e){return(0,l.ifCreaturesTouchEachOther)(e,t)&&e!==t})&&(t.width*=1.5,t.height*=1.5),e.push(t)),e},[])}},{key:"handleHeroBullets",value:function(){var t=this,r=this.ctx.canvas.clientWidth,n=this.ctx.canvas.clientHeight,o=void 0;this.heroBullets=this.heroBullets.filter(function(e){return(o=e.x<r&&0<e.x&&e.y<n&&0<e.y)&&e.newPos().update(t.ctx),o})}},{key:"checkIfHeroDead",value:function(){var t=this;[].concat(f(this.dummyEnemies),f(this.smartEnemies)).some(function(e){return(0,l.ifCreaturesTouchEachOther)(t.hero,e)})&&setTimeout(function(){t.timers.map(function(e){return clearInterval(e)}),alert("You lose")},5)}},{key:"addEnemy",value:function(e,t,r){var n=this.generateRandomPositionAndDirection(this.hero,r),o=n.size,i=n.x,a=n.y,u=n.alfaX,c=n.alfaY,s=new t(this.ctx,o,o,i,a,u,c);e.push(s)}},{key:"addBullet",value:function(e,t){var r=(0,l.getCenterCoordinates)(this.hero),n=s(r,2),o=n[0],i=n[1],a=this.hero,u=0===a.dir.x&&0===a.dir.y?a.gunDir:a.dir,c=new t(this.ctx,o,i,u.x,u.y);e.push(c),console.log(e)}},{key:"generateRandomPositionAndDirection",value:function(e,t){for(var r=void 0,n=void 0,o=10*Math.random()+t;r=Math.random()*this.ctx.canvas.clientWidth,n=Math.random()*this.ctx.canvas.clientHeight,(0,l.isDistanceBetweenCreaturesLowThanSearchable)(e,{x:r,y:n,width:o,height:o}););return{x:r,y:n,alfaX:2*Math.random()-1,alfaY:2*Math.random()-1,size:o}}}]),t}()},{"./controls":1,"./creatures/bullet":2,"./creatures/dummyEnemy":4,"./creatures/hero":5,"./creatures/smartEnemy":6,"./utils":9}],8:[function(e,t,r){"use strict";var n,o=e("./game-arena");n=document.querySelector("canvas"),new o.Game(n).start()},{"./game-arena":7}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function f(e){return[e.x+.5*e.width,e.y+.5*e.height]}function n(e,t){var r=f(e),n=l(r,2),o=n[0],i=n[1],a=f(t),u=l(a,2),c=u[0],s=u[1];return Math.pow(Math.pow(o-c,2)+Math.pow(i-s,2),.5)}r.getCenterCoordinates=f,r.getDistanceBetweenCreatures=n,r.ifCreaturesTouchEachOther=function(e,t){var r=f(e),n=l(r,2),o=n[0],i=n[1],a=f(t),u=l(a,2),c=u[0],s=u[1];return Math.abs(c-o)<(e.width+t.width-2)/2&&Math.abs(s-i)<(e.height+t.height-2)/2},r.isDistanceBetweenCreaturesLowThanSearchable=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:o;return n(e,t)<r};var o=200},{}]},{},[8]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJmcm9udGVuZC9qcy9jb250cm9scy5qcyIsImZyb250ZW5kL2pzL2NyZWF0dXJlcy9idWxsZXQuanMiLCJmcm9udGVuZC9qcy9jcmVhdHVyZXMvY3JlYXR1cmUuanMiLCJmcm9udGVuZC9qcy9jcmVhdHVyZXMvZHVtbXlFbmVteS5qcyIsImZyb250ZW5kL2pzL2NyZWF0dXJlcy9oZXJvLmpzIiwiZnJvbnRlbmQvanMvY3JlYXR1cmVzL3NtYXJ0RW5lbXkuanMiLCJmcm9udGVuZC9qcy9nYW1lLWFyZW5hLmpzIiwiZnJvbnRlbmQvanMvbWFpbi5qcyIsImZyb250ZW5kL2pzL3V0aWxzLmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsImFkZEhlcm9Db250cm9scyIsImhlcm8iLCJjcmVhdGVCdWxsZXRDYWxsYmFjayIsImRpciIsImd1bkRpciIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwia2V5Q29kZSIsInkiLCJ4IiwicmVtb3ZlSGVyb0NvbnRyb2xzIiwibW92ZVRvQW5vdGhlclNpZGVJZkdvQmV5b25jZUNhbnZhcyIsImN0eCIsIml0ZW0iLCJGSUVMRF9XSURUSCIsImNhbnZhcyIsImNsaWVudFdpZHRoIiwiRklFTERfSEVJR0hUIiwiY2xpZW50SGVpZ2h0IiwiX2NyZWF0dXJlIiwiQnVsbGV0IiwiYWxmYVgiLCJhbGZhWSIsIndpZHRoIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiaGVpZ2h0Iiwic3BlZWQiLCJjb2xvciIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9fcHJvdG9fXyIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwiU0laRSIsIkNyZWF0dXJlIiwiX2NvbnRyb2xzIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJCQVNFX0RVTU1ZX1NJWkUiLCJEdW1teUVuZW15IiwiSGVybyIsIl90aGlzIiwiX3V0aWxzIiwiQkFTRV9TTUFSVF9TSVpFIiwiU21hcnRFbmVteSIsInVwZGF0ZURpcmVjdGlvbiIsIl9nZXQiLCJwcm90b3R5cGUiLCJtZXNzYWdlIiwiZm9udCIsInN0cm9rZVRleHQiLCJpc0Rpc3RhbmNlQmV0d2VlbkNyZWF0dXJlc0xvd1RoYW5TZWFyY2hhYmxlIiwiX2dldENlbnRlckNvb3JkaW5hdGVzIiwiZ2V0Q2VudGVyQ29vcmRpbmF0ZXMiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXMyIiwiX3NsaWNlZFRvQXJyYXkiLCJoZXJvWCIsImhlcm9ZIiwiYW5nbGUiLCJNYXRoIiwiYXRhbjIiLCJQSSIsImNvcyIsInNpbiIsInNob3dXYXJuaW5nTWVzc2FnZSIsIl9oZXJvIiwiX2R1bW15RW5lbXkiLCJfc21hcnRFbmVteSIsIl9idWxsZXQiLCJzY29yZSIsInF1ZXJ5U2VsZWN0b3IiLCJHYW1lIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsImN1cnJlbnRUaW1lIiwiZ2V0Q29udGV4dCIsImR1bW15RW5lbWllcyIsInNtYXJ0RW5lbWllcyIsImhlcm9CdWxsZXRzIiwidGltZXJzIiwidGltZXIxIiwic2V0SW50ZXJ2YWwiLCJpbml0aWFsaXplR2FtZSIsInRpbWVyMiIsImFkZEVuZW15IiwidGltZXIzIiwicHVzaCIsImFkZEJ1bGxldCIsInVwZGF0ZVN0YXRlIiwidXBkYXRlU2NvcmUiLCJ2YWx1ZSIsImlubmVySFRNTCIsImNsZWFyUmVjdCIsIm5ld1BvcyIsInVwZGF0ZSIsImhhbmRsZUR1bW15RW5lbWllcyIsImhhbmRsZVNtYXJ0RW5lbWllcyIsImhhbmRsZUhlcm9CdWxsZXRzIiwiY2hlY2tJZkhlcm9EZWFkIiwiX3RoaXMyIiwiZm9yRWFjaCIsImVuZW15IiwiX3RoaXMzIiwicmVkdWNlIiwibmV3QXJyYXkiLCJjdXJyZW50RW5lbXkiLCJpbmRleCIsInNtYXJ0QXJyYXkiLCJzb21lIiwiaWZDcmVhdHVyZXNUb3VjaEVhY2hPdGhlciIsIl90aGlzNCIsImlzSW5zaWRlQ2FudmFzIiwiZmlsdGVyIiwiYnVsbGV0IiwiX3RoaXM1IiwiY29uY2F0IiwiX3RvQ29uc3VtYWJsZUFycmF5Iiwic2V0VGltZW91dCIsIm1hcCIsInRpbWVyIiwiY2xlYXJJbnRlcnZhbCIsImFsZXJ0IiwiZW5lbXlBcnJheSIsImNyZWF0dXJlQ29uc3RydWN0b3IiLCJiYXNlU2l6ZSIsIl9nZW5lcmF0ZVJhbmRvbVBvc2l0aSIsImdlbmVyYXRlUmFuZG9tUG9zaXRpb25BbmREaXJlY3Rpb24iLCJzaXplIiwiYnVsbGV0QXJyYXkiLCJidWxsZXRDb25zdHJ1Y3RvciIsImRpcmVjdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJyYW5kb20iLCJfZ2FtZUFyZW5hIiwic3RhcnQiLCJjcmVhdHVyZSIsImdldERpc3RhbmNlQmV0d2VlbkNyZWF0dXJlcyIsIml0ZW0xIiwiaXRlbTIiLCJ4MSIsInkxIiwiX2dldENlbnRlckNvb3JkaW5hdGVzMyIsIl9nZXRDZW50ZXJDb29yZGluYXRlczQiLCJ4MiIsInkyIiwicG93IiwiX2dldENlbnRlckNvb3JkaW5hdGVzNSIsIl9nZXRDZW50ZXJDb29yZGluYXRlczYiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXM3IiwiX2dldENlbnRlckNvb3JkaW5hdGVzOCIsImFicyIsImRpc3QiLCJTQUZFX0RJU1RBTkNFIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxJQUFBRSxFQUFBLG1CQUFBQyxTQUFBQSxRQUFBLElBQUFGLEdBQUFDLEVBQUEsT0FBQUEsRUFBQUYsR0FBQSxHQUFBLEdBQUFJLEVBQUEsT0FBQUEsRUFBQUosR0FBQSxHQUFBLElBQUFLLEVB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RUFBQSxHQUFBTCxFQUFBTSxFQUFBLEdBQUFMLEVBQUFLLEVBQUEsR0FHdEQsT0FDRTVGLEtBQUE2RixJQUFTUCxFQUFUSixJQUFxQkYsRUFBQXRILE1BQWN1SCxFQUFkdkgsTUFBRCxHQUFwQixHQUEyRHNDLEtBQUE2RixJQUFTTixFQUFUSixJQUFxQkgsRUFBQW5ILE9BQWVvSCxFQUFmcEgsT0FBRCxHQURqRixLQU9jMkIsNENBQVQsU0FBQXdGLEVBQUFDLEdBQXlGLElBQXRCYSxFQUFzQixFQUFBbkksVUFBQTVCLGFBQUE2QixJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBZm9JLEVBQy9FLE9BQU9oQixFQUFBQyxFQUFBQyxHQUFQYSxHQUhGLElBQU1DLEVBQU4iLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImV4cG9ydCBmdW5jdGlvbiBhZGRIZXJvQ29udHJvbHMoaGVybywgY3JlYXRlQnVsbGV0Q2FsbGJhY2spIHtcclxuICBjb25zdCB7IGRpciwgZ3VuRGlyIH0gPSBoZXJvO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGV2ZW50ID0+IHtcclxuICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xyXG4gICAgICBjYXNlIDM4OiB7XHJcbiAgICAgICAgZGlyLnkgPSBndW5EaXIueSA9IC0xO1xyXG4gICAgICAgIGRpci54ID0gZ3VuRGlyLnggPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgMzk6IHtcclxuICAgICAgICBkaXIueSA9IGd1bkRpci55ID0gMDtcclxuICAgICAgICBkaXIueCA9IGd1bkRpci54ID0gMTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIDQwOiB7XHJcbiAgICAgICAgZGlyLnkgPSBndW5EaXIueSA9IDE7XHJcbiAgICAgICAgZGlyLnggPSBndW5EaXIueCA9IDA7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSAzNzoge1xyXG4gICAgICAgIGRpci54ID0gZ3VuRGlyLnggPSAtMTtcclxuICAgICAgICBkaXIueSA9IGd1bkRpci55ID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIDE3OiB7XHJcbiAgICAgICAgZGlyLnggPSAwO1xyXG4gICAgICAgIGRpci55ID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIDMyOiB7XHJcbiAgICAgICAgY3JlYXRlQnVsbGV0Q2FsbGJhY2soKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSGVyb0NvbnRyb2xzKCkge31cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtb3ZlVG9Bbm90aGVyU2lkZUlmR29CZXlvbmNlQ2FudmFzKGN0eCwgaXRlbSkge1xyXG4gIGxldCBGSUVMRF9XSURUSCA9IGN0eC5jYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgbGV0IEZJRUxEX0hFSUdIVCA9IGN0eC5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG5cclxuICBpZiAoaXRlbS54ID4gRklFTERfV0lEVEgpIHtcclxuICAgIGl0ZW0ueCA9IDA7XHJcbiAgfSBlbHNlIGlmIChpdGVtLnggPCAwKSB7XHJcbiAgICBpdGVtLnggPSBGSUVMRF9XSURUSDtcclxuICB9XHJcbiAgaWYgKGl0ZW0ueSA+IEZJRUxEX0hFSUdIVCkge1xyXG4gICAgaXRlbS55ID0gMDtcclxuICB9IGVsc2UgaWYgKGl0ZW0ueSA8IDApIHtcclxuICAgIGl0ZW0ueSA9IEZJRUxEX0hFSUdIVDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ3JlYXR1cmUgfSBmcm9tIFwiLi9jcmVhdHVyZVwiO1xyXG5cclxuY29uc3QgU1BFRUQgPSAxMDtcclxuY29uc3QgQ09MT1IgPSBcIm9yYW5nZVwiO1xyXG5jb25zdCBTSVpFID0gNjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdWxsZXQgZXh0ZW5kcyBDcmVhdHVyZSB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB4LCB5LCBhbGZhWCwgYWxmYVksIHdpZHRoID0gU0laRSwgaGVpZ2h0ID0gU0laRSwgc3BlZWQgPSBTUEVFRCwgY29sb3IgPSBDT0xPUikge1xyXG4gICAgc3VwZXIoY3R4LCB3aWR0aCwgaGVpZ2h0LCBjb2xvciwgeCAtIFNJWkUgLyAyLCB5IC0gU0laRSAvIDIsIGFsZmFYLCBhbGZhWSwgc3BlZWQpO1xyXG4gIH1cclxuXHJcbiAgbmV3UG9zKCkge1xyXG4gICAgdGhpcy54ICs9IHRoaXMuc3BlZWQgKiB0aGlzLmRpci54O1xyXG4gICAgdGhpcy55ICs9IHRoaXMuc3BlZWQgKiB0aGlzLmRpci55O1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IG1vdmVUb0Fub3RoZXJTaWRlSWZHb0JleW9uY2VDYW52YXMgfSBmcm9tIFwiLi4vY29udHJvbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVhdHVyZSB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCBjb2xvciwgeCwgeSwgYWxmYVgsIGFsZmFZLCBzcGVlZCkge1xyXG4gICAgdGhpcy5jdHggPSBjdHg7XHJcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gICAgdGhpcy5kaXIgPSB7XHJcbiAgICAgIHg6IGFsZmFYLFxyXG4gICAgICB5OiBhbGZhWVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIG5ld1BvcygpIHtcclxuICAgIHRoaXMueCArPSB0aGlzLnNwZWVkICogdGhpcy5kaXIueDtcclxuICAgIHRoaXMueSArPSB0aGlzLnNwZWVkICogdGhpcy5kaXIueTtcclxuICAgIG1vdmVUb0Fub3RoZXJTaWRlSWZHb0JleW9uY2VDYW52YXModGhpcy5jdHgsIHRoaXMpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoY3R4KSB7XHJcbiAgICAvLyBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgIGN0eC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgLy8gY3R4LmFyYyh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgMCwgMiAqIE1hdGguUEksIHRydWUpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENyZWF0dXJlIH0gZnJvbSBcIi4vY3JlYXR1cmVcIjtcclxuXHJcbmNvbnN0IFNQRUVEID0gMjtcclxuY29uc3QgQ09MT1IgPSBcInJlZFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IEJBU0VfRFVNTVlfU0laRSA9IDE4O1xyXG5cclxuZXhwb3J0IGNsYXNzIER1bW15RW5lbXkgZXh0ZW5kcyBDcmVhdHVyZSB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBhbGZhWCwgYWxmYVksIHNwZWVkID0gU1BFRUQsIGNvbG9yID0gQ09MT1IpIHtcclxuICAgIHN1cGVyKGN0eCwgd2lkdGgsIGhlaWdodCwgY29sb3IsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDcmVhdHVyZSB9IGZyb20gXCIuL2NyZWF0dXJlXCI7XHJcblxyXG5jb25zdCBTUEVFRCA9IDM7XHJcbmNvbnN0IEhFSUdIVCA9IDIwO1xyXG5jb25zdCBXSURUSCA9IDIwO1xyXG5jb25zdCBDT0xPUiA9IFwiZ3JlZW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBIZXJvIGV4dGVuZHMgQ3JlYXR1cmUge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgd2lkdGggPSBXSURUSCwgaGVpZ2h0ID0gSEVJR0hULCBjb2xvciA9IENPTE9SLCB4ID0gNTAsIHkgPSA1MCwgYWxmYVggPSAwLCBhbGZhWSA9IDAsIHNwZWVkID0gU1BFRUQpIHtcclxuICAgIHN1cGVyKGN0eCwgd2lkdGgsIGhlaWdodCwgY29sb3IsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQpO1xyXG4gICAgdGhpcy5ndW5EaXIgPSB7XHJcbiAgICAgIHg6IDEsXHJcbiAgICAgIHk6IDBcclxuICAgIH07XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENyZWF0dXJlIH0gZnJvbSBcIi4vY3JlYXR1cmVcIjtcclxuaW1wb3J0IHsgZ2V0Q2VudGVyQ29vcmRpbmF0ZXMsIGlzRGlzdGFuY2VCZXR3ZWVuQ3JlYXR1cmVzTG93VGhhblNlYXJjaGFibGUgfSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmNvbnN0IFNQRUVEID0gMTtcclxuY29uc3QgQ09MT1IgPSBcImJsdWVcIjtcclxuZXhwb3J0IGNvbnN0IEJBU0VfU01BUlRfU0laRSA9IDE2O1xyXG5cclxuZXhwb3J0IGNsYXNzIFNtYXJ0RW5lbXkgZXh0ZW5kcyBDcmVhdHVyZSB7XHJcbiAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0LCB4LCB5LCBhbGZhWCwgYWxmYVksIHNwZWVkID0gU1BFRUQsIGNvbG9yID0gQ09MT1IpIHtcclxuICAgIHN1cGVyKGN0eCwgd2lkdGgsIGhlaWdodCwgY29sb3IsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQpO1xyXG4gIH1cclxuXHJcbiAgbmV3UG9zKGhlcm8pIHtcclxuICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKGhlcm8pO1xyXG4gICAgc3VwZXIubmV3UG9zKCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHNob3dXYXJuaW5nTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICB0aGlzLmN0eC5mb250ID0gXCIxM3B4IEFyaWFsXCI7XHJcbiAgICB0aGlzLmN0eC5zdHJva2VUZXh0KG1lc3NhZ2UgfHwgXCJJIHNlZSB5b3VcIiwgdGhpcy54ICsgMTAsIHRoaXMueSAtIDUpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlRGlyZWN0aW9uKGhlcm8pIHtcclxuICAgIGNvbnN0IFZJU0lPTl9ESVNUQU5DRSA9IDIwMDtcclxuICAgIGlmIChpc0Rpc3RhbmNlQmV0d2VlbkNyZWF0dXJlc0xvd1RoYW5TZWFyY2hhYmxlKGhlcm8sIHRoaXMsIFZJU0lPTl9ESVNUQU5DRSkpIHtcclxuICAgICAgY29uc3QgW2hlcm9YLCBoZXJvWV0gPSBnZXRDZW50ZXJDb29yZGluYXRlcyhoZXJvKTtcclxuICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKGhlcm9YIC0gdGhpcy54LCBoZXJvWSAtIHRoaXMueSkgKyBNYXRoLlBJO1xyXG4gICAgICB0aGlzLmRpci55ID0gLU1hdGguY29zKGFuZ2xlKTtcclxuICAgICAgdGhpcy5kaXIueCA9IC1NYXRoLnNpbihhbmdsZSk7XHJcbiAgICAgIHRoaXMuc2hvd1dhcm5pbmdNZXNzYWdlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEhlcm8gfSBmcm9tIFwiLi9jcmVhdHVyZXMvaGVyb1wiO1xyXG5pbXBvcnQgeyBEdW1teUVuZW15LCBCQVNFX0RVTU1ZX1NJWkUgfSBmcm9tIFwiLi9jcmVhdHVyZXMvZHVtbXlFbmVteVwiO1xyXG5pbXBvcnQgeyBTbWFydEVuZW15LCBCQVNFX1NNQVJUX1NJWkUgfSBmcm9tIFwiLi9jcmVhdHVyZXMvc21hcnRFbmVteVwiO1xyXG5pbXBvcnQgeyBhZGRIZXJvQ29udHJvbHMgfSBmcm9tIFwiLi9jb250cm9sc1wiO1xyXG5pbXBvcnQgeyBpc0Rpc3RhbmNlQmV0d2VlbkNyZWF0dXJlc0xvd1RoYW5TZWFyY2hhYmxlLCBpZkNyZWF0dXJlc1RvdWNoRWFjaE90aGVyLCBnZXRDZW50ZXJDb29yZGluYXRlcyB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IEJ1bGxldCB9IGZyb20gXCIuL2NyZWF0dXJlcy9idWxsZXRcIjtcclxuXHJcbmNvbnN0IHNjb3JlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zY29yZVwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lIHtcclxuICBjb25zdHJ1Y3RvcihjYW52YXMpIHtcclxuICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgdGhpcy5zdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgdGhpcy5jdXJyZW50VGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgdGhpcy5jYW52YXMud2lkdGggPSA3MDA7XHJcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSA3MDA7XHJcbiAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIHRoaXMuaGVybyA9IG5ldyBIZXJvKHRoaXMuY3R4KTtcclxuICAgIHRoaXMuZHVtbXlFbmVtaWVzID0gW107XHJcbiAgICB0aGlzLnNtYXJ0RW5lbWllcyA9IFtdO1xyXG4gICAgdGhpcy5oZXJvQnVsbGV0cyA9IFtdO1xyXG4gICAgdGhpcy50aW1lcnMgPSBbXTtcclxuICB9XHJcblxyXG4gIHN0YXJ0KCkge1xyXG4gICAgY29uc3QgdGltZXIxID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5pbml0aWFsaXplR2FtZSgpLCAxMCk7XHJcbiAgICBjb25zdCB0aW1lcjIgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmFkZEVuZW15KHRoaXMuZHVtbXlFbmVtaWVzLCBEdW1teUVuZW15LCBCQVNFX0RVTU1ZX1NJWkUpLCA0MDAwKTtcclxuICAgIGNvbnN0IHRpbWVyMyA9IHNldEludGVydmFsKCgpID0+IHRoaXMuYWRkRW5lbXkodGhpcy5zbWFydEVuZW1pZXMsIFNtYXJ0RW5lbXksIEJBU0VfU01BUlRfU0laRSksIDYwMDApO1xyXG4gICAgdGhpcy50aW1lcnMucHVzaCh0aW1lcjEsIHRpbWVyMiwgdGltZXIzKTtcclxuICAgIGFkZEhlcm9Db250cm9scyh0aGlzLmhlcm8sICgpID0+IHRoaXMuYWRkQnVsbGV0KHRoaXMuaGVyb0J1bGxldHMsIEJ1bGxldCkpO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZUdhbWUoKSB7XHJcbiAgICB0aGlzLnVwZGF0ZVN0YXRlKCk7XHJcbiAgICB0aGlzLnVwZGF0ZVNjb3JlKCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTY29yZSgpIHtcclxuICAgIHRoaXMuY3VycmVudFRpbWUgPSB0aGlzLmN1cnJlbnRUaW1lICsgMTA7XHJcbiAgICBjb25zdCB2YWx1ZSA9ICh0aGlzLmN1cnJlbnRUaW1lIC0gdGhpcy5zdGFydFRpbWUpIC8gMTAwMDtcclxuICAgIHNjb3JlLmlubmVySFRNTCA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU3RhdGUoKSB7XHJcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jdHguY2FudmFzLmNsaWVudFdpZHRoLCB0aGlzLmN0eC5jYW52YXMuY2xpZW50SGVpZ2h0KTtcclxuICAgIHRoaXMuaGVyby5uZXdQb3MoKS51cGRhdGUodGhpcy5jdHgpO1xyXG4gICAgdGhpcy5oYW5kbGVEdW1teUVuZW1pZXMoKTtcclxuICAgIHRoaXMuc21hcnRFbmVtaWVzID0gdGhpcy5oYW5kbGVTbWFydEVuZW1pZXMoKTtcclxuICAgIHRoaXMuaGFuZGxlSGVyb0J1bGxldHMoKTtcclxuICAgIHRoaXMuY2hlY2tJZkhlcm9EZWFkKCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVEdW1teUVuZW1pZXMoKSB7XHJcbiAgICB0aGlzLmR1bW15RW5lbWllcy5mb3JFYWNoKGVuZW15ID0+IGVuZW15Lm5ld1BvcygpLnVwZGF0ZSh0aGlzLmN0eCkpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU21hcnRFbmVtaWVzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc21hcnRFbmVtaWVzLnJlZHVjZSgobmV3QXJyYXksIGN1cnJlbnRFbmVteSwgaW5kZXgsIHNtYXJ0QXJyYXkpID0+IHtcclxuICAgICAgY3VycmVudEVuZW15Lm5ld1Bvcyh0aGlzLmhlcm8pLnVwZGF0ZSh0aGlzLmN0eCk7XHJcbiAgICAgIGlmIChuZXdBcnJheS5zb21lKGVuZW15ID0+IGlmQ3JlYXR1cmVzVG91Y2hFYWNoT3RoZXIoZW5lbXksIGN1cnJlbnRFbmVteSkpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ld0FycmF5O1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzbWFydEFycmF5LnNvbWUoZW5lbXkgPT4gaWZDcmVhdHVyZXNUb3VjaEVhY2hPdGhlcihlbmVteSwgY3VycmVudEVuZW15KSAmJiBlbmVteSAhPT0gY3VycmVudEVuZW15KSkge1xyXG4gICAgICAgIGN1cnJlbnRFbmVteS53aWR0aCAqPSAxLjU7XHJcbiAgICAgICAgY3VycmVudEVuZW15LmhlaWdodCAqPSAxLjU7XHJcbiAgICAgIH1cclxuICAgICAgbmV3QXJyYXkucHVzaChjdXJyZW50RW5lbXkpO1xyXG4gICAgICByZXR1cm4gbmV3QXJyYXk7XHJcbiAgICB9LCBbXSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVIZXJvQnVsbGV0cygpIHtcclxuICAgIGxldCBGSUVMRF9XSURUSCA9IHRoaXMuY3R4LmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgIGxldCBGSUVMRF9IRUlHSFQgPSB0aGlzLmN0eC5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgbGV0IGlzSW5zaWRlQ2FudmFzO1xyXG4gICAgdGhpcy5oZXJvQnVsbGV0cyA9IHRoaXMuaGVyb0J1bGxldHMuZmlsdGVyKGJ1bGxldCA9PiB7XHJcbiAgICAgIGlzSW5zaWRlQ2FudmFzID0gYnVsbGV0LnggPCBGSUVMRF9XSURUSCAmJiBidWxsZXQueCA+IDAgJiYgYnVsbGV0LnkgPCBGSUVMRF9IRUlHSFQgJiYgYnVsbGV0LnkgPiAwO1xyXG4gICAgICBpZiAoaXNJbnNpZGVDYW52YXMpIHtcclxuICAgICAgICBidWxsZXQubmV3UG9zKCkudXBkYXRlKHRoaXMuY3R4KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaXNJbnNpZGVDYW52YXM7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNoZWNrSWZIZXJvRGVhZCgpIHtcclxuICAgIGNvbnN0IGVuZW1pZXMgPSBbLi4udGhpcy5kdW1teUVuZW1pZXMsIC4uLnRoaXMuc21hcnRFbmVtaWVzXTtcclxuICAgIGlmIChlbmVtaWVzLnNvbWUoZW5lbXkgPT4gaWZDcmVhdHVyZXNUb3VjaEVhY2hPdGhlcih0aGlzLmhlcm8sIGVuZW15KSkpIHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50aW1lcnMubWFwKHRpbWVyID0+IGNsZWFySW50ZXJ2YWwodGltZXIpKTtcclxuICAgICAgICBhbGVydChcIllvdSBsb3NlXCIpO1xyXG4gICAgICB9LCA1KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFkZEVuZW15KGVuZW15QXJyYXksIGNyZWF0dXJlQ29uc3RydWN0b3IsIGJhc2VTaXplKSB7XHJcbiAgICBjb25zdCB7IHNpemUsIHgsIHksIGFsZmFYLCBhbGZhWSB9ID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVBvc2l0aW9uQW5kRGlyZWN0aW9uKHRoaXMuaGVybywgYmFzZVNpemUpO1xyXG4gICAgY29uc3QgZW5lbXkgPSBuZXcgY3JlYXR1cmVDb25zdHJ1Y3Rvcih0aGlzLmN0eCwgc2l6ZSwgc2l6ZSwgeCwgeSwgYWxmYVgsIGFsZmFZKTtcclxuICAgIGVuZW15QXJyYXkucHVzaChlbmVteSk7XHJcbiAgfVxyXG5cclxuICBhZGRCdWxsZXQoYnVsbGV0QXJyYXksIGJ1bGxldENvbnN0cnVjdG9yKSB7XHJcbiAgICBjb25zdCBbaGVyb1gsIGhlcm9ZXSA9IGdldENlbnRlckNvb3JkaW5hdGVzKHRoaXMuaGVybyk7XHJcbiAgICBjb25zdCB7IGhlcm8gfSA9IHRoaXM7XHJcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBoZXJvLmRpci54ID09PSAwICYmIGhlcm8uZGlyLnkgPT09IDAgPyBoZXJvLmd1bkRpciA6IGhlcm8uZGlyO1xyXG4gICAgY29uc3QgYnVsbGV0ID0gbmV3IGJ1bGxldENvbnN0cnVjdG9yKHRoaXMuY3R4LCBoZXJvWCwgaGVyb1ksIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueSk7XHJcbiAgICBidWxsZXRBcnJheS5wdXNoKGJ1bGxldCk7XHJcbiAgICBjb25zb2xlLmxvZyhidWxsZXRBcnJheSk7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZVJhbmRvbVBvc2l0aW9uQW5kRGlyZWN0aW9uKGhlcm8sIGJhc2VTaXplKSB7XHJcbiAgICBsZXQgeDtcclxuICAgIGxldCB5O1xyXG4gICAgY29uc3Qgc2l6ZSA9IE1hdGgucmFuZG9tKCkgKiAxMCArIGJhc2VTaXplO1xyXG4gICAgZG8ge1xyXG4gICAgICB4ID0gTWF0aC5yYW5kb20oKSAqIHRoaXMuY3R4LmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgeSA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLmN0eC5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgfSB3aGlsZSAoaXNEaXN0YW5jZUJldHdlZW5DcmVhdHVyZXNMb3dUaGFuU2VhcmNoYWJsZShoZXJvLCB7IHgsIHksIHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUgfSkpO1xyXG5cclxuICAgIGNvbnN0IGFsZmFYID0gTWF0aC5yYW5kb20oKSAqIDIgLSAxO1xyXG4gICAgY29uc3QgYWxmYVkgPSBNYXRoLnJhbmRvbSgpICogMiAtIDE7XHJcblxyXG4gICAgcmV0dXJuIHsgeCwgeSwgYWxmYVgsIGFsZmFZLCBzaXplIH07XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEdhbWUgfSBmcm9tIFwiLi9nYW1lLWFyZW5hXCI7XHJcblxyXG5pbml0aWFsaXplR2FtZSgpO1xyXG5cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZUdhbWUoKSB7XHJcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImNhbnZhc1wiKTtcclxuXHJcbiAgY29uc3QgZ2FtZSA9IG5ldyBHYW1lKGNhbnZhcyk7XHJcbiAgZ2FtZS5zdGFydCgpO1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRDZW50ZXJDb29yZGluYXRlcyhjcmVhdHVyZSkge1xyXG4gIHJldHVybiBbY3JlYXR1cmUueCArIDAuNSAqIGNyZWF0dXJlLndpZHRoLCBjcmVhdHVyZS55ICsgMC41ICogY3JlYXR1cmUuaGVpZ2h0XTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlQmV0d2VlbkNyZWF0dXJlcyhpdGVtMSwgaXRlbTIpIHtcclxuICBjb25zdCBbeDEsIHkxXSA9IGdldENlbnRlckNvb3JkaW5hdGVzKGl0ZW0xKTtcclxuICBjb25zdCBbeDIsIHkyXSA9IGdldENlbnRlckNvb3JkaW5hdGVzKGl0ZW0yKTtcclxuICByZXR1cm4gTWF0aC5wb3coTWF0aC5wb3coeDEgLSB4MiwgMikgKyBNYXRoLnBvdyh5MSAtIHkyLCAyKSwgMC41KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlmQ3JlYXR1cmVzVG91Y2hFYWNoT3RoZXIoaXRlbTEsIGl0ZW0yKSB7XHJcbiAgY29uc3QgW3gxLCB5MV0gPSBnZXRDZW50ZXJDb29yZGluYXRlcyhpdGVtMSk7XHJcbiAgY29uc3QgW3gyLCB5Ml0gPSBnZXRDZW50ZXJDb29yZGluYXRlcyhpdGVtMik7XHJcbiAgcmV0dXJuIChcclxuICAgIE1hdGguYWJzKHgyIC0geDEpIDwgKGl0ZW0xLndpZHRoICsgaXRlbTIud2lkdGggLSAyKSAvIDIgJiYgTWF0aC5hYnMoeTIgLSB5MSkgPCAoaXRlbTEuaGVpZ2h0ICsgaXRlbTIuaGVpZ2h0IC0gMikgLyAyXHJcbiAgKTtcclxufVxyXG5cclxuY29uc3QgU0FGRV9ESVNUQU5DRSA9IDIwMDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Rpc3RhbmNlQmV0d2VlbkNyZWF0dXJlc0xvd1RoYW5TZWFyY2hhYmxlKGl0ZW0xLCBpdGVtMiwgZGlzdCA9IFNBRkVfRElTVEFOQ0UpIHtcclxuICByZXR1cm4gZ2V0RGlzdGFuY2VCZXR3ZWVuQ3JlYXR1cmVzKGl0ZW0xLCBpdGVtMikgPCBkaXN0O1xyXG59XHJcbiJdfQ==
