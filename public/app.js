!function o(a,u,s){function c(t,e){if(!u[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(h)return h(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=u[t]={exports:{}};a[t][0].call(i.exports,function(e){return c(a[t][1][e]||e)},i,i.exports,o,a,u,s)}return u[t].exports}for(var h="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addHeroControls=function(t,r){var n=t.dir,i=t.gunDir;document.addEventListener("keydown",function(e){switch(e.keyCode){case 38:t.updateSpriteDirection(2),n.y=i.y=-1,n.x=i.x=0;break;case 39:t.updateSpriteDirection(0),n.y=i.y=0,n.x=i.x=1;break;case 40:t.updateSpriteDirection(1),n.y=i.y=1,n.x=i.x=0;break;case 37:t.updateSpriteDirection(3),n.x=i.x=-1,n.y=i.y=0;break;case 17:n.x=0,n.y=0;break;case 32:r()}})},r.removeHeroControls=function(){},r.moveToAnotherSideIfGoBeyonceCanvas=function(e,t){var r=e.canvas.clientWidth,n=e.canvas.clientHeight;t.x>r?t.x=0:t.x<0&&(t.x=r);t.y>n?t.y=0:t.y<0&&(t.y=n)}},{}],2:[function(e,t,r){"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(r,"__esModule",{value:!0}),r.Bullet=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=e("./creature");r.Bullet=function(e){function c(e,t,r,n,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:16,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:16,u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:10,s=8<arguments.length&&void 0!==arguments[8]?arguments[8]:"orange";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":h(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,o,a,s,t-8,r-8,n,i,u))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":h(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Creature),n(c,[{key:"newPos",value:function(){return this.x+=this.speed*this.dir.x,this.y+=this.speed*this.dir.y,this}}]),c}()},{"./creature":3}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Creature=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=e("../controls");r.Creature=function(){function c(e,t,r,n,i,o,a,u,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.ctx=e,this.width=t,this.height=r,this.color=n,this.speed=s,this.x=i,this.y=o,this.dir={x:a,y:u}}return n(c,[{key:"newPos",value:function(){return this.x+=this.speed*this.dir.x,this.y+=this.speed*this.dir.y,(0,i.moveToAnotherSideIfGoBeyonceCanvas)(this.ctx,this),this}},{key:"update",value:function(e){return e.fillStyle=this.color,e.fillRect(this.x,this.y,this.width,this.height),this}}]),c}()},{"../controls":1}],4:[function(e,t,r){"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(r,"__esModule",{value:!0}),r.DummyEnemy=r.BASE_DUMMY_SIZE=void 0;var n=e("./creature");r.BASE_DUMMY_SIZE=18,r.DummyEnemy=function(e){function c(e,t,r,n,i,o,a){var u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:2,s=8<arguments.length&&void 0!==arguments[8]?arguments[8]:"red";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":h(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,r,s,n,i,o,a,u))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":h(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,n.Creature),c}()},{"./creature":3}],5:[function(e,t,r){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(r,"__esModule",{value:!0}),r.Hero=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=e("./creature");var o=document.querySelector(".hero-sprite");r.Hero=function(e){function h(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:30,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:50,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"green",i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:50,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:50,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,s=8<arguments.length&&void 0!==arguments[8]?arguments[8]:1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e,t,r,n,i,o,a,u,s));return c.gunDir={x:1,y:0},c.sprite={baseX:9,baseY:2,x:9,y:2,width:16,height:26,deltaX:32,deltaY:32},setInterval(function(){c.sprite.y<96?c.sprite.y+=c.sprite.deltaY:c.sprite.y=c.sprite.baseY},200),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,i.Creature),n(h,[{key:"update",value:function(e){var t=this.sprite;return e.drawImage(o,t.x,t.y,t.width,t.height,this.x,this.y,this.width,this.height),this}},{key:"updateSpriteDirection",value:function(e){this.sprite.x=this.sprite.baseX+e*this.sprite.deltaX}}]),h}()},{"./creature":3}],6:[function(e,t,r){"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(r,"__esModule",{value:!0}),r.SmartEnemy=r.BASE_SMART_SIZE=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=e("./creature"),u=e("../utils");r.BASE_SMART_SIZE=16,r.SmartEnemy=function(e){function c(e,t,r,n,i,o,a){var u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:.1,s=8<arguments.length&&void 0!==arguments[8]?arguments[8]:"blue";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":h(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t,r,s,n,i,o,a,u))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":h(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.Creature),n(c,[{key:"newPos",value:function(e){return this.updateDirection(e),function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"newPos",this).call(this),this}},{key:"showWarningMessage",value:function(e){this.ctx.font="13px Arial",this.ctx.strokeText(e||"I see you",this.x+10,this.y-5)}},{key:"updateDirection",value:function(e){if((0,u.isDistanceBetweenCreaturesLowThanSearchable)(e,this,200)){var t=(0,u.getCenterCoordinates)(e),r=a(t,2),n=r[0],i=r[1],o=Math.atan2(n-this.x,i-this.y)+Math.PI;this.dir.y=-Math.cos(o),this.dir.x=-Math.sin(o),this.showWarningMessage()}}}]),c}()},{"../utils":9,"./creature":3}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Game=void 0;var c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=e("./creatures/hero"),o=e("./creatures/dummyEnemy"),a=e("./creatures/smartEnemy"),u=e("./controls"),h=e("./utils"),s=e("./creatures/bullet");function l(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var f=document.querySelector(".score");r.Game=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.startTime=Date.now(),this.currentTime=Date.now(),this.canvas.width=700,this.canvas.height=700,this.ctx=this.canvas.getContext("2d"),this.hero=new i.Hero(this.ctx),this.dummyEnemies=[],this.smartEnemies=[],this.heroBullets=[],this.timers=[]}return n(t,[{key:"start",value:function(){var e=this,t=setInterval(function(){return e.initializeGame()},10),r=setInterval(function(){return e.addEnemy(e.dummyEnemies,o.DummyEnemy,o.BASE_DUMMY_SIZE)},4e3),n=setInterval(function(){return e.addEnemy(e.smartEnemies,a.SmartEnemy,a.BASE_SMART_SIZE)},6e3);this.timers.push(t,r,n),(0,u.addHeroControls)(this.hero,function(){return e.addBullet(e.heroBullets,s.Bullet)})}},{key:"initializeGame",value:function(){this.updateState(),this.updateScore()}},{key:"updateScore",value:function(){this.currentTime=this.currentTime+10;var e=(this.currentTime-this.startTime)/1e3;f.innerHTML=e}},{key:"updateState",value:function(){this.ctx.clearRect(0,0,this.ctx.canvas.clientWidth,this.ctx.canvas.clientHeight),this.hero.newPos().update(this.ctx),this.handleDummyEnemies(),this.handleSmartEnemies(),this.handleHeroBullets(),this.handleEnemiesDeath(),this.handleHeroDeath()}},{key:"handleDummyEnemies",value:function(){var t=this;this.dummyEnemies.forEach(function(e){return e.newPos().update(t.ctx)})}},{key:"handleSmartEnemies",value:function(){var i=this;this.smartEnemies=this.smartEnemies.reduce(function(e,t,r,n){return t.newPos(i.hero).update(i.ctx),e.some(function(e){return(0,h.ifCreaturesTouchEachOther)(e,t)})||(n.some(function(e){return(0,h.ifCreaturesTouchEachOther)(e,t)&&e!==t})&&(t.width*=1.5,t.height*=1.5),e.push(t)),e},[])}},{key:"handleHeroBullets",value:function(){var t=this,r=this.ctx.canvas.clientWidth,n=this.ctx.canvas.clientHeight,i=void 0;this.heroBullets=this.heroBullets.filter(function(e){return(i=e.x<r&&0<e.x&&e.y<n&&0<e.y)&&e.newPos().update(t.ctx),i})}},{key:"handleHeroDeath",value:function(){var t=this;[].concat(l(this.dummyEnemies),l(this.smartEnemies)).some(function(e){return(0,h.ifCreaturesTouchEachOther)(t.hero,e)})&&setTimeout(function(){t.timers.map(function(e){return clearInterval(e)}),alert("You lose")},5)}},{key:"handleEnemiesDeath",value:function(){var e=this,r=[],n=[],i=[],o=[].concat(l(this.smartEnemies),l(this.dummyEnemies));this.smartEnemies.forEach(function(t){e.heroBullets.some(function(e){return(0,h.ifCreaturesTouchEachOther)(t,e)})||r.push(t)}),this.dummyEnemies.forEach(function(t){e.heroBullets.some(function(e){return(0,h.ifCreaturesTouchEachOther)(t,e)})||n.push(t)}),this.heroBullets.forEach(function(t){o.some(function(e){return(0,h.ifCreaturesTouchEachOther)(e,t)})||i.push(t)}),this.smartEnemies=r,this.dummyEnemies=n,this.heroBullets=i}},{key:"addEnemy",value:function(e,t,r){var n=this.generateRandomPositionAndDirection(this.hero,r),i=n.size,o=n.x,a=n.y,u=n.alfaX,s=n.alfaY,c=new t(this.ctx,i,i,o,a,u,s);e.push(c)}},{key:"addBullet",value:function(e,t){var r=(0,h.getCenterCoordinates)(this.hero),n=c(r,2),i=n[0],o=n[1],a=this.hero,u=0===a.dir.x&&0===a.dir.y?a.gunDir:a.dir,s=new t(this.ctx,i,o,u.x,u.y);e.push(s)}},{key:"generateRandomPositionAndDirection",value:function(e,t){for(var r=void 0,n=void 0,i=10*Math.random()+t;r=Math.random()*this.ctx.canvas.clientWidth,n=Math.random()*this.ctx.canvas.clientHeight,(0,h.isDistanceBetweenCreaturesLowThanSearchable)(e,{x:r,y:n,width:i,height:i}););return{x:r,y:n,alfaX:2*Math.random()-1,alfaY:2*Math.random()-1,size:i}}}]),t}()},{"./controls":1,"./creatures/bullet":2,"./creatures/dummyEnemy":4,"./creatures/hero":5,"./creatures/smartEnemy":6,"./utils":9}],8:[function(e,t,r){"use strict";var n,i=e("./game-arena");n=document.querySelector("canvas"),new i.Game(n).start()},{"./game-arena":7}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function l(e){return[e.x+.5*e.width,e.y+.5*e.height]}function n(e,t){var r=l(e),n=h(r,2),i=n[0],o=n[1],a=l(t),u=h(a,2),s=u[0],c=u[1];return Math.pow(Math.pow(i-s,2)+Math.pow(o-c,2),.5)}r.getCenterCoordinates=l,r.getDistanceBetweenCreatures=n,r.ifCreaturesTouchEachOther=function(e,t){var r=l(e),n=h(r,2),i=n[0],o=n[1],a=l(t),u=h(a,2),s=u[0],c=u[1];return Math.abs(s-i)<(e.width+t.width-2)/2&&Math.abs(c-o)<(e.height+t.height-2)/2},r.isDistanceBetweenCreaturesLowThanSearchable=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:i;return n(e,t)<r};var i=200},{}]},{},[8]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJmcm9udGVuZC9qcy9jb250cm9scy5qcyIsImZyb250ZW5kL2pzL2NyZWF0dXJlcy9idWxsZXQuanMiLCJmcm9udGVuZC9qcy9jcmVhdHVyZXMvY3JlYXR1cmUuanMiLCJmcm9udGVuZC9qcy9jcmVhdHVyZXMvZHVtbXlFbmVteS5qcyIsImZyb250ZW5kL2pzL2NyZWF0dXJlcy9oZXJvLmpzIiwiZnJvbnRlbmQvanMvY3JlYXR1cmVzL3NtYXJ0RW5lbXkuanMiLCJmcm9udGVuZC9qcy9nYW1lLWFyZW5hLmpzIiwiZnJvbnRlbmQvanMvbWFpbi5qcyIsImZyb250ZW5kL2pzL3V0aWxzLmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsImFkZEhlcm9Db250cm9scyIsImhlcm8iLCJjcmVhdGVCdWxsZXQiLCJkaXIiLCJndW5EaXIiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImtleUNvZGUiLCJ1cGRhdGVTcHJpdGVEaXJlY3Rpb24iLCJ5IiwieCIsInJlbW92ZUhlcm9Db250cm9scyIsIm1vdmVUb0Fub3RoZXJTaWRlSWZHb0JleW9uY2VDYW52YXMiLCJjdHgiLCJpdGVtIiwiRklFTERfV0lEVEgiLCJjYW52YXMiLCJjbGllbnRXaWR0aCIsIkZJRUxEX0hFSUdIVCIsImNsaWVudEhlaWdodCIsIl9jcmVhdHVyZSIsIkJ1bGxldCIsImFsZmFYIiwiYWxmYVkiLCJ3aWR0aCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImhlaWdodCIsInNwZWVkIiwiY29sb3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsIlNJWkUiLCJDcmVhdHVyZSIsIl9jb250cm9scyIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiQkFTRV9EVU1NWV9TSVpFIiwiRHVtbXlFbmVteSIsImltZyIsInF1ZXJ5U2VsZWN0b3IiLCJIZXJvIiwiX3RoaXMiLCJzcHJpdGUiLCJiYXNlWCIsImJhc2VZIiwiZGVsdGFYIiwiZGVsdGFZIiwic2V0SW50ZXJ2YWwiLCJkcmF3SW1hZ2UiLCJ2ZXJ0aWNhbExheWVyIiwiX3V0aWxzIiwiQkFTRV9TTUFSVF9TSVpFIiwiU21hcnRFbmVteSIsInVwZGF0ZURpcmVjdGlvbiIsIl9nZXQiLCJwcm90b3R5cGUiLCJtZXNzYWdlIiwiZm9udCIsInN0cm9rZVRleHQiLCJpc0Rpc3RhbmNlQmV0d2VlbkNyZWF0dXJlc0xvd1RoYW5TZWFyY2hhYmxlIiwiX2dldENlbnRlckNvb3JkaW5hdGVzIiwiZ2V0Q2VudGVyQ29vcmRpbmF0ZXMiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXMyIiwiX3NsaWNlZFRvQXJyYXkiLCJoZXJvWCIsImhlcm9ZIiwiYW5nbGUiLCJNYXRoIiwiYXRhbjIiLCJQSSIsImNvcyIsInNpbiIsInNob3dXYXJuaW5nTWVzc2FnZSIsIl9oZXJvIiwiX2R1bW15RW5lbXkiLCJfc21hcnRFbmVteSIsIl9idWxsZXQiLCJzY29yZSIsIkdhbWUiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiY3VycmVudFRpbWUiLCJnZXRDb250ZXh0IiwiZHVtbXlFbmVtaWVzIiwic21hcnRFbmVtaWVzIiwiaGVyb0J1bGxldHMiLCJ0aW1lcnMiLCJ0aW1lcjEiLCJpbml0aWFsaXplR2FtZSIsInRpbWVyMiIsImFkZEVuZW15IiwidGltZXIzIiwicHVzaCIsImFkZEJ1bGxldCIsInVwZGF0ZVN0YXRlIiwidXBkYXRlU2NvcmUiLCJ2YWx1ZSIsImlubmVySFRNTCIsImNsZWFyUmVjdCIsIm5ld1BvcyIsInVwZGF0ZSIsImhhbmRsZUR1bW15RW5lbWllcyIsImhhbmRsZVNtYXJ0RW5lbWllcyIsImhhbmRsZUhlcm9CdWxsZXRzIiwiaGFuZGxlRW5lbWllc0RlYXRoIiwiaGFuZGxlSGVyb0RlYXRoIiwiX3RoaXMyIiwiZm9yRWFjaCIsImVuZW15IiwiX3RoaXMzIiwicmVkdWNlIiwibmV3QXJyYXkiLCJjdXJyZW50RW5lbXkiLCJpbmRleCIsInNtYXJ0QXJyYXkiLCJzb21lIiwiaWZDcmVhdHVyZXNUb3VjaEVhY2hPdGhlciIsIl90aGlzNCIsImlzSW5zaWRlQ2FudmFzIiwiZmlsdGVyIiwiYnVsbGV0IiwiX3RoaXM1IiwiY29uY2F0IiwiX3RvQ29uc3VtYWJsZUFycmF5Iiwic2V0VGltZW91dCIsIm1hcCIsInRpbWVyIiwiY2xlYXJJbnRlcnZhbCIsImFsZXJ0IiwiX3RoaXM2IiwibmV3U21hcnRFbmVtaWVzIiwibmV3RHVtbXlFbmVtaWVzIiwibmV3QnVsbGV0cyIsImFsbEVuZW1pZXMiLCJlbmVteUFycmF5IiwiY3JlYXR1cmVDb25zdHJ1Y3RvciIsImJhc2VTaXplIiwiX2dlbmVyYXRlUmFuZG9tUG9zaXRpIiwiZ2VuZXJhdGVSYW5kb21Qb3NpdGlvbkFuZERpcmVjdGlvbiIsInNpemUiLCJidWxsZXRBcnJheSIsImJ1bGxldENvbnN0cnVjdG9yIiwiZGlyZWN0aW9uIiwicmFuZG9tIiwiX2dhbWVBcmVuYSIsInN0YXJ0IiwiY3JlYXR1cmUiLCJnZXREaXN0YW5jZUJldHdlZW5DcmVhdHVyZXMiLCJpdGVtMSIsIml0ZW0yIiwieDEiLCJ5MSIsIl9nZXRDZW50ZXJDb29yZGluYXRlczMiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXM0IiwieDIiLCJ5MiIsInBvdyIsIl9nZXRDZW50ZXJDb29yZGluYXRlczUiLCJfZ2V0Q2VudGVyQ29vcmRpbmF0ZXM2IiwiX2dldENlbnRlckNvb3JkaW5hdGVzNyIsIl9nZXRDZW50ZXJDb29yZGluYXRlczgiLCJhYnMiLCJkaXN0IiwiU0FGRV9ESVNUQU5DRSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUFBLElBQUFKLEVBQUFHLEdBQUEsQ0FBQSxJQUFBSixFQUFBSSxHQUFBLENBQUEsSUFBQUUsRUFBQSxtQkFBQUMsU0FBQUEsUUFBQSxJQUFBRixHQUFBQyxFQUFBLE9BQUFBLEVBQUFGLEdBQUEsR0FBQSxHQUFBSSxFQUFBLE9BQUFBLEVBQUFKLEdBQUEsR0FBQSxJQUFBSyxFQUFBLElBQUFDLE1BQUEsdUJBQUFOLEVBQUEsS0FBQSxNQUFBSyxFQUFBRSxLQUFBLG1CQUFBRixFQUFBLElBQUFHLEVBQUFYLEVBQUFHLEdBQUEsQ0FBQVMsUUFBQSxJQUFBYixFQUFBSSxHQUFBLEdBQUFVLEtBQUFGLEVBQUFDLFFBQUEsU0FBQWQsR0FBQSxPQUFBSSxFQUFBSCxFQUFBSSxHQUFBLEdBQUFMLElBQUFBLElBQUFhLEVBQUFBLEVBQUFDLFFBQUFkLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsT0FBQUQsRUFBQUcsR0FBQVMsUUFBQSxJQUFBLElBQUFMLEVBQUEsbUJBQUFELFNBQUFBLFFBQUFILEVBQUEsRUFBQUEsRUFBQUYsRUFBQWEsT0FBQVgsSUFBQUQsRUFBQUQsRUFBQUUsSUFBQSxPQUFBRCxFQUFBLENBQUEsQ0FBQWEsRUFBQSxDQUFBLFNBQUFULEVBQUFVLEVBQUFKLG1FQ0FnQkssZ0JBQVQsU0FBQUMsRUFBQUMsR0FBNkMsSUFBQUMsRUFBQUYsRUFBQUUsSUFBQUMsRUFBQUgsRUFBQUcsT0FFbERDLFNBQUFDLGlCQUFBLFVBQXFDLFNBQUFDLEdBQ25DLE9BQVFBLEVBQVJDLFNBQ0UsS0FBQSxHQUNFUCxFQUFBUSxzQkFBQSxHQUNBTixFQUFBTyxFQUFRTixFQUFBTSxHQUFSLEVBQ0FQLEVBQUFRLEVBQVFQLEVBQUFPLEVBQVIsRUFDQSxNQUVGLEtBQUEsR0FDRVYsRUFBQVEsc0JBQUEsR0FDQU4sRUFBQU8sRUFBUU4sRUFBQU0sRUFBUixFQUNBUCxFQUFBUSxFQUFRUCxFQUFBTyxFQUFSLEVBQ0EsTUFFRixLQUFBLEdBQ0VWLEVBQUFRLHNCQUFBLEdBQ0FOLEVBQUFPLEVBQVFOLEVBQUFNLEVBQVIsRUFDQVAsRUFBQVEsRUFBUVAsRUFBQU8sRUFBUixFQUNBLE1BRUYsS0FBQSxHQUNFVixFQUFBUSxzQkFBQSxHQUNBTixFQUFBUSxFQUFRUCxFQUFBTyxHQUFSLEVBQ0FSLEVBQUFPLEVBQVFOLEVBQUFNLEVBQVIsRUFDQSxNQUVGLEtBQUEsR0FDRVAsRUFBQVEsRUFBQSxFQUNBUixFQUFBTyxFQUFBLEVBQ0EsTUFFRixLQUFBLEdBQ0VSLFVBU1FVLG1CQUFULGVBRVNDLG1DQUFULFNBQUFDLEVBQUFDLEdBQ0wsSUFBSUMsRUFBY0YsRUFBQUcsT0FBbEJDLFlBQ0lDLEVBQWVMLEVBQUFHLE9BQW5CRyxhQUVJTCxFQUFBSixFQUFKSyxFQUNFRCxFQUFBSixFQUFBLEVBQ1NJLEVBQUFKLEVBQUosSUFDTEksRUFBQUosRUFBQUssR0FFRUQsRUFBQUwsRUFBSlMsRUFDRUosRUFBQUwsRUFBQSxFQUNTSyxFQUFBTCxFQUFKLElBQ0xLLEVBQUFMLEVBQUFTLG1qQkN6REpFLEVBQUFoQyxFQUFBLGdCQU1haUMsbUJBQ1gsU0FBQUEsRUFBQVIsRUFBQUgsRUFBQUQsRUFBQWEsRUFBQUMsR0FBZ0csSUFBM0RDLEVBQTJELEVBQUFDLFVBQUE3QixhQUFBOEIsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBSGxHLEdBR3FERSxFQUE2QyxFQUFBRixVQUFBN0IsYUFBQThCLElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUhsRyxHQUdvRUcsRUFBOEIsRUFBQUgsVUFBQTdCLGFBQUE4QixJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FMbEcsR0FLbUZJLEVBQWUsRUFBQUosVUFBQTdCLGFBQUE4QixJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FKbEcsU0FJa0csbUdBQUFLLENBQUFDLEtBQUFWLDBMQUFBVyxDQUFBRCxNQUFBVixFQUFBWSxXQUFBQyxPQUFBQyxlQUFBZCxJQUFBMUIsS0FBQW9DLEtBQUFsQixFQUFBVyxFQUFBRyxFQUFBRSxFQUM3RG5CLEVBQUkwQixFQUFVM0IsRUFBSTJCLEVBRDJDZCxFQUFBQyxFQUFBSyw0VkFEdEVSLEVBQUFpQiw4Q0FReEIsT0FGQU4sS0FBQXJCLEdBQVVxQixLQUFBSCxNQUFhRyxLQUFBN0IsSUFBdkJRLEVBQ0FxQixLQUFBdEIsR0FBVXNCLEtBQUFILE1BQWFHLEtBQUE3QixJQUF2Qk8sRUFDQXNCLDZYQ2RKTyxFQUFBbEQsRUFBQSxpQkFFYWlELG9CQUNYLFNBQUFBLEVBQUF4QixFQUFBVyxFQUFBRyxFQUFBRSxFQUFBbkIsRUFBQUQsRUFBQWEsRUFBQUMsRUFBQUssZ0dBQWtFRSxDQUFBQyxLQUFBTSxHQUNoRU4sS0FBQWxCLElBQUFBLEVBQ0FrQixLQUFBUCxNQUFBQSxFQUNBTyxLQUFBSixPQUFBQSxFQUNBSSxLQUFBRixNQUFBQSxFQUNBRSxLQUFBSCxNQUFBQSxFQUNBRyxLQUFBckIsRUFBQUEsRUFDQXFCLEtBQUF0QixFQUFBQSxFQUNBc0IsS0FBQTdCLElBQVcsQ0FDVFEsRUFEU1ksRUFFVGIsRUFBR2MsOENBUUwsT0FIQVEsS0FBQXJCLEdBQVVxQixLQUFBSCxNQUFhRyxLQUFBN0IsSUFBdkJRLEVBQ0FxQixLQUFBdEIsR0FBVXNCLEtBQUFILE1BQWFHLEtBQUE3QixJQUF2Qk8sR0FDQSxFQUFBNkIsRUFBQTFCLG9DQUFtQ21CLEtBQW5DbEIsSUFBQWtCLE1BQ0FBLG9DQUdLbEIsR0FLTCxPQUhBQSxFQUFBMEIsVUFBZ0JSLEtBQWhCRixNQUNBaEIsRUFBQTJCLFNBQWFULEtBQWJyQixFQUFxQnFCLEtBQXJCdEIsRUFBNkJzQixLQUE3QlAsTUFBeUNPLEtBQXpDSixRQUVBSSx5V0M3QkosSUFBQVgsRUFBQWhDLEVBQUEsY0FLYU0sRUFBQStDLGdCQUFOLEtBRU1DLHVCQUNYLFNBQUFBLEVBQUE3QixFQUFBVyxFQUFBRyxFQUFBakIsRUFBQUQsRUFBQWEsRUFBQUMsR0FBa0YsSUFBOUJLLEVBQThCLEVBQUFILFVBQUE3QixhQUFBOEIsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBTnBGLEVBTXFFSSxFQUFlLEVBQUFKLFVBQUE3QixhQUFBOEIsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBTHBGLE1BS29GLG1HQUFBSyxDQUFBQyxLQUFBVywwTEFBQVYsQ0FBQUQsTUFBQVcsRUFBQVQsV0FBQUMsT0FBQUMsZUFBQU8sSUFBQS9DLEtBQUFvQyxLQUFBbEIsRUFBQVcsRUFBQUcsRUFBQUUsRUFBQW5CLEVBQUFELEVBQUFhLEVBQUFDLEVBQUFLLDRWQURwRFIsRUFBQWlCLDBrQkNQaENqQixFQUFBaEMsRUFBQSxjQUVBLElBS011RCxFQUFNdkMsU0FBQXdDLGNBQVosa0JBRWFDLGlCQUNYLFNBQUFBLEVBQUFoQyxHQUFxSCxJQUFwR1csRUFBb0csRUFBQUMsVUFBQTdCLGFBQUE4QixJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FOdkgsR0FNa0NFLEVBQXFGLEVBQUFGLFVBQUE3QixhQUFBOEIsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBUHZILEdBT21ESSxFQUFvRSxFQUFBSixVQUFBN0IsYUFBQThCLElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUx2SCxRQUtrRWYsRUFBcUQsRUFBQWUsVUFBQTdCLGFBQUE4QixJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBakQsR0FBSWhCLEVBQTZDLEVBQUFnQixVQUFBN0IsYUFBQThCLElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUF6QyxHQUFJSCxFQUFxQyxFQUFBRyxVQUFBN0IsYUFBQThCLElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUE3QixFQUFHRixFQUEwQixFQUFBRSxVQUFBN0IsYUFBQThCLElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUFsQixFQUFHRyxFQUFlLEVBQUFILFVBQUE3QixhQUFBOEIsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBUnZILCtGQVF1SEssQ0FBQUMsS0FBQWMsR0FBQSxJQUFBQyx5TEFBQWQsQ0FBQUQsTUFBQWMsRUFBQVosV0FBQUMsT0FBQUMsZUFBQVUsSUFBQWxELEtBQUFvQyxLQUFBbEIsRUFBQVcsRUFBQUcsRUFBQUUsRUFBQW5CLEVBQUFELEVBQUFhLEVBQUFDLEVBQUFLLElBQUEsT0FFbkhrQixFQUFBM0MsT0FBYyxDQUNaTyxFQURZLEVBRVpELEVBQUcsR0FFTHFDLEVBQUFDLE9BQWMsQ0FDWkMsTUFEWSxFQUVaQyxNQUZZLEVBR1p2QyxFQUhZLEVBSVpELEVBSlksRUFLWmUsTUFMWSxHQU1aRyxPQU5ZLEdBT1p1QixPQVBZLEdBUVpDLE9BQVEsSUFFVkMsWUFBWSxXQUNOTixFQUFBQyxPQUFBdEMsRUFBSixHQUNFcUMsRUFBQUMsT0FBQXRDLEdBQWlCcUMsRUFBQUMsT0FBakJJLE9BRUFMLEVBQUFDLE9BQUF0QyxFQUFnQnFDLEVBQUFDLE9BQWhCRSxPQUpKLEtBaEJtSEgsMFZBRDdGMUIsRUFBQWlCLDRDQTBCakJ4QixHQUFLLElBQUFrQyxFQUFBaEIsS0FBQWdCLE9BR1YsT0FEQWxDLEVBQUF3QyxVQUFBVixFQUFtQkksRUFBbkJyQyxFQUE2QnFDLEVBQTdCdEMsRUFBdUNzQyxFQUF2Q3ZCLE1BQXFEdUIsRUFBckRwQixPQUFvRUksS0FBcEVyQixFQUE0RXFCLEtBQTVFdEIsRUFBb0ZzQixLQUFwRlAsTUFBZ0dPLEtBQWhHSixRQUNBSSxtREFHb0J1QixHQUNwQnZCLEtBQUFnQixPQUFBckMsRUFBZ0JxQixLQUFBZ0IsT0FBQUMsTUFBb0JNLEVBQWdCdkIsS0FBQWdCLE9BQXBERyxpL0JDMUNKOUIsRUFBQWhDLEVBQUEsY0FDQW1FLEVBQUFuRSxFQUFBLFlBSWFNLEVBQUE4RCxnQkFBTixLQUVNQyx1QkFDWCxTQUFBQSxFQUFBNUMsRUFBQVcsRUFBQUcsRUFBQWpCLEVBQUFELEVBQUFhLEVBQUFDLEdBQWtGLElBQTlCSyxFQUE4QixFQUFBSCxVQUFBN0IsYUFBQThCLElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUxwRixHQUtxRUksRUFBZSxFQUFBSixVQUFBN0IsYUFBQThCLElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUpwRixPQUlvRixtR0FBQUssQ0FBQUMsS0FBQTBCLDBMQUFBekIsQ0FBQUQsTUFBQTBCLEVBQUF4QixXQUFBQyxPQUFBQyxlQUFBc0IsSUFBQTlELEtBQUFvQyxLQUFBbEIsRUFBQVcsRUFBQUcsRUFBQUUsRUFBQW5CLEVBQUFELEVBQUFhLEVBQUFDLEVBQUFLLDRWQURwRFIsRUFBQWlCLDRDQUt2QnJDLEdBR0wsT0FGQStCLEtBQUEyQixnQkFBQTFELDRQQUNBMkQsQ0FBQUYsRUFBQUcsVUFBQTNCLFdBQUFDLE9BQUFDLGVBQUFzQixFQUFBRyxXQUFBLFNBQUE3QixNQUFBcEMsS0FBQW9DLE1BQ0FBLGdEQUdpQjhCLEdBQ2pCOUIsS0FBQWxCLElBQUFpRCxLQUFBLGFBQ0EvQixLQUFBbEIsSUFBQWtELFdBQW9CRixHQUFwQixZQUE0QzlCLEtBQUFyQixFQUE1QyxHQUF5RHFCLEtBQUF0QixFQUF6RCwyQ0FHY1QsR0FFZCxJQUFJLEVBQUF1RCxFQUFBUyw2Q0FBQWhFLEVBQUErQixLQURKLEtBQzhFLENBQUEsSUFBQWtDLEdBQ3JELEVBQUFWLEVBQUFXLHNCQURxRGxFLEdBQUFtRSxFQUFBQyxFQUFBSCxFQUFBLEdBQUFJLEVBQUFGLEVBQUEsR0FBQUcsRUFBQUgsRUFBQSxHQUV0RUksRUFBUUMsS0FBQUMsTUFBV0osRUFBUXRDLEtBQW5CckIsRUFBMkI0RCxFQUFRdkMsS0FBbkN0QixHQUE2QytELEtBQTNERSxHQUNBM0MsS0FBQTdCLElBQUFPLEdBQWMrRCxLQUFBRyxJQUFkSixHQUNBeEMsS0FBQTdCLElBQUFRLEdBQWM4RCxLQUFBSSxJQUFkTCxHQUNBeEMsS0FBQThDLHF5QkM5Qk5DLEVBQUExRixFQUFBLG9CQUNBMkYsRUFBQTNGLEVBQUEsMEJBQ0E0RixFQUFBNUYsRUFBQSwwQkFDQWtELEVBQUFsRCxFQUFBLGNBQ0FtRSxFQUFBbkUsRUFBQSxXQUNBNkYsRUFBQTdGLEVBQUEsOElBRUEsSUFBTThGLEVBQVE5RSxTQUFBd0MsY0FBZCxZQUVhdUMsZ0JBQ1gsU0FBQUEsRUFBQW5FLGdHQUFvQmMsQ0FBQUMsS0FBQW9ELEdBQ2xCcEQsS0FBQWYsT0FBQUEsRUFDQWUsS0FBQXFELFVBQWlCQyxLQUFqQkMsTUFDQXZELEtBQUF3RCxZQUFtQkYsS0FBbkJDLE1BRUF2RCxLQUFBZixPQUFBUSxNQUFBLElBQ0FPLEtBQUFmLE9BQUFXLE9BQUEsSUFDQUksS0FBQWxCLElBQVdrQixLQUFBZixPQUFBd0UsV0FBWCxNQUNBekQsS0FBQS9CLEtBQVksSUFBSThFLEVBQUpqQyxLQUFTZCxLQUFyQmxCLEtBQ0FrQixLQUFBMEQsYUFBQSxHQUNBMUQsS0FBQTJELGFBQUEsR0FDQTNELEtBQUE0RCxZQUFBLEdBQ0E1RCxLQUFBNkQsT0FBQSw2Q0FHTSxJQUFBOUMsRUFBQWYsS0FDQThELEVBQVN6QyxZQUFZLFdBQUEsT0FBTU4sRUFBTmdELGtCQUEzQixJQUNNQyxFQUFTM0MsWUFBWSxXQUFBLE9BQU1OLEVBQUFrRCxTQUFjbEQsRUFBZDJDLGFBQWlDVixFQUFqQ3JDLFdBQTZDcUMsRUFBbkR0QyxrQkFBM0IsS0FDTXdELEVBQVM3QyxZQUFZLFdBQUEsT0FBTU4sRUFBQWtELFNBQWNsRCxFQUFkNEMsYUFBaUNWLEVBQWpDdkIsV0FBNkN1QixFQUFuRHhCLGtCQUEzQixLQUNBekIsS0FBQTZELE9BQUFNLEtBQUFMLEVBQUFFLEVBQUFFLElBQ0EsRUFBQTNELEVBQUF2QyxpQkFBZ0JnQyxLQUFoQi9CLEtBQTJCLFdBQUEsT0FBTThDLEVBQUFxRCxVQUFlckQsRUFBZjZDLFlBQWlDVixFQUF2QzVELG1EQUkzQlUsS0FBQXFFLGNBQ0FyRSxLQUFBc0Usb0RBSUF0RSxLQUFBd0QsWUFBbUJ4RCxLQUFBd0QsWUFBbkIsR0FDQSxJQUFNZSxHQUFTdkUsS0FBQXdELFlBQW1CeEQsS0FBcEJxRCxXQUFkLElBQ0FGLEVBQUFxQixVQUFBRCx3Q0FJQXZFLEtBQUFsQixJQUFBMkYsVUFBQSxFQUFBLEVBQXlCekUsS0FBQWxCLElBQUFHLE9BQXpCQyxZQUFzRGMsS0FBQWxCLElBQUFHLE9BQXRERyxjQUNBWSxLQUFBL0IsS0FBQXlHLFNBQUFDLE9BQTBCM0UsS0FBMUJsQixLQUNBa0IsS0FBQTRFLHFCQUNBNUUsS0FBQTZFLHFCQUNBN0UsS0FBQThFLG9CQUNBOUUsS0FBQStFLHFCQUNBL0UsS0FBQWdGLCtEQUdtQixJQUFBQyxFQUFBakYsS0FDbkJBLEtBQUEwRCxhQUFBd0IsUUFBMEIsU0FBQUMsR0FBQSxPQUFTQSxFQUFBVCxTQUFBQyxPQUFzQk0sRUFBL0JuRyxvREFHUCxJQUFBc0csRUFBQXBGLEtBQ25CQSxLQUFBMkQsYUFBb0IzRCxLQUFBMkQsYUFBQTBCLE9BQXlCLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBRTNDLE9BREFGLEVBQUFiLE9BQW9CVSxFQUFwQm5ILE1BQUEwRyxPQUFzQ1MsRUFBdEN0RyxLQUNJd0csRUFBQUksS0FBYyxTQUFBUCxHQUFBLE9BQVMsRUFBQTNELEVBQUFtRSwyQkFBQVIsRUFBVEksT0FHZEUsRUFBQUMsS0FBZ0IsU0FBQVAsR0FBQSxPQUFTLEVBQUEzRCxFQUFBbUUsMkJBQUFSLEVBQUFJLElBQWtESixJQUEzREksTUFDbEJBLEVBQUE5RixPQUFBLElBQ0E4RixFQUFBM0YsUUFBQSxLQUVGMEYsRUFBQW5CLEtBQUFvQixJQU5FRCxHQUhKLGdEQWNrQixJQUFBTSxFQUFBNUYsS0FDZGhCLEVBQWNnQixLQUFBbEIsSUFBQUcsT0FBbEJDLFlBQ0lDLEVBQWVhLEtBQUFsQixJQUFBRyxPQUFuQkcsYUFDSXlHLE9BQUEsRUFDSjdGLEtBQUE0RCxZQUFtQjVELEtBQUE0RCxZQUFBa0MsT0FBd0IsU0FBQUMsR0FLekMsT0FKQUYsRUFBaUJFLEVBQUFwSCxFQUFBSyxHQUFBLEVBQTBCK0csRUFBQXBILEdBQWdCb0gsRUFBQXJILEVBQTFDUyxHQUFqQixFQUFzRjRHLEVBQUFySCxJQUVwRnFILEVBQUFyQixTQUFBQyxPQUF1QmlCLEVBQXZCOUcsS0FFRitHLDhDQUljLElBQUFHLEVBQUFoRyxLQUNWLEdBQUFpRyxPQUFBQyxFQUFjbEcsS0FBZDBELGNBQUF3QyxFQUFvQ2xHLEtBQTFDMkQsZUFDSStCLEtBQWEsU0FBQVAsR0FBQSxPQUFTLEVBQUEzRCxFQUFBbUUsMkJBQTBCSyxFQUExQi9ILEtBQVRrSCxNQUNmZ0IsV0FBVyxXQUNUSCxFQUFBbkMsT0FBQXVDLElBQWdCLFNBQUFDLEdBQUEsT0FBU0MsY0FBVEQsS0FDaEJFLE1BQUEsYUFGRixnREFPaUIsSUFBQUMsRUFBQXhHLEtBQ2J5RyxFQUFOLEdBQ01DLEVBQU4sR0FDTUMsRUFBTixHQUNNQyxFQUFBLEdBQUFYLE9BQUFDLEVBQWlCbEcsS0FBakIyRCxjQUFBdUMsRUFBdUNsRyxLQUE3QzBELGVBRUExRCxLQUFBMkQsYUFBQXVCLFFBQTBCLFNBQUFDLEdBQ25CcUIsRUFBQTVDLFlBQUE4QixLQUFzQixTQUFBSyxHQUFBLE9BQVUsRUFBQXZFLEVBQUFtRSwyQkFBQVIsRUFBVlksTUFDekJVLEVBQUF0QyxLQUFBZ0IsS0FHSm5GLEtBQUEwRCxhQUFBd0IsUUFBMEIsU0FBQUMsR0FDbkJxQixFQUFBNUMsWUFBQThCLEtBQXNCLFNBQUFLLEdBQUEsT0FBVSxFQUFBdkUsRUFBQW1FLDJCQUFBUixFQUFWWSxNQUN6QlcsRUFBQXZDLEtBQUFnQixLQUdKbkYsS0FBQTRELFlBQUFzQixRQUF5QixTQUFBYSxHQUNsQmEsRUFBQWxCLEtBQWdCLFNBQUFQLEdBQUEsT0FBUyxFQUFBM0QsRUFBQW1FLDJCQUFBUixFQUFUWSxNQUNuQlksRUFBQXhDLEtBQUE0QixLQUdKL0YsS0FBQTJELGFBQUE4QyxFQUNBekcsS0FBQTBELGFBQUFnRCxFQUNBMUcsS0FBQTRELFlBQUErQyxtQ0FHT0UsRUFBWUMsRUFBcUJDLEdBQVUsSUFBQUMsRUFDYmhILEtBQUFpSCxtQ0FBd0NqSCxLQUF4Qy9CLEtBRGE4SSxHQUFBRyxFQUFBRixFQUFBRSxLQUFBdkksRUFBQXFJLEVBQUFySSxFQUFBRCxFQUFBc0ksRUFBQXRJLEVBQUFhLEVBQUF5SCxFQUFBekgsTUFBQUMsRUFBQXdILEVBQUF4SCxNQUU1QzJGLEVBQVEsSUFBQTJCLEVBQXdCOUcsS0FBeEJsQixJQUFBb0ksRUFBQUEsRUFBQXZJLEVBQUFELEVBQUFhLEVBQWRDLEdBQ0FxSCxFQUFBMUMsS0FBQWdCLHFDQUdRZ0MsRUFBYUMsR0FBbUIsSUFBQWxGLEdBQ2pCLEVBQUFWLEVBQUFXLHNCQUFxQm5DLEtBREovQixNQUFBbUUsRUFBQUMsRUFBQUgsRUFBQSxHQUFBSSxFQUFBRixFQUFBLEdBQUFHLEVBQUFILEVBQUEsR0FBQW5FLEVBQUErQixLQUFBL0IsS0FHbENvSixFQUFZLElBQUFwSixFQUFBRSxJQUFBUSxHQUFBLElBQW9CVixFQUFBRSxJQUFBTyxFQUFtQlQsRUFBdkNHLE9BQXFESCxFQUF2RUUsSUFDTTRILEVBQVMsSUFBQXFCLEVBQXNCcEgsS0FBdEJsQixJQUFBd0QsRUFBQUMsRUFBOEM4RSxFQUE5QzFJLEVBQTJEMEksRUFBMUUzSSxHQUNBeUksRUFBQWhELEtBQUE0Qiw4REFHaUM5SCxFQUFNOEksR0FJdkMsSUFIQSxJQUFJcEksT0FBQSxFQUNBRCxPQUFBLEVBQ0V3SSxFQUFPLEdBQUF6RSxLQUFBNkUsU0FBYlAsRUFFRXBJLEVBQUk4RCxLQUFBNkUsU0FBZ0J0SCxLQUFBbEIsSUFBQUcsT0FBcEJDLFlBQ0FSLEVBQUkrRCxLQUFBNkUsU0FBZ0J0SCxLQUFBbEIsSUFBQUcsT0FBcEJHLGNBQ08sRUFBQW9DLEVBQUFTLDZDQUFBaEUsRUFBa0QsQ0FBRVUsRUFBRkEsRUFBS0QsRUFBTEEsRUFBUWUsTUFBUnlILEVBQXFCdEgsT0FIaEZzSCxNQVFBLE1BQU8sQ0FBRXZJLEVBQUZBLEVBQUtELEVBQUxBLEVBQVFhLE1BSEQsRUFBQWtELEtBQUE2RSxTQUFkLEVBR3NCOUgsTUFGUixFQUFBaUQsS0FBQTZFLFNBQWQsRUFFNkJKLEtBQTdCQSw2S0NwSkosSUFLUWpJLEVBTFJzSSxFQUFBbEssRUFBQSxnQkFLUTRCLEVBQVNaLFNBQUF3QyxjQUFmLFVBRWEsSUFBSTBHLEVBQUpuRSxLQUFibkUsR0FDQXVJLGdnQkNSSyxTQUFBckYsRUFBQXNGLEdBQ0wsTUFBTyxDQUFDQSxFQUFBOUksRUFBYSxHQUFNOEksRUFBcEJoSSxNQUFvQ2dJLEVBQUEvSSxFQUFhLEdBQU0rSSxFQUE5RDdILFFBR0ssU0FBQThILEVBQUFDLEVBQUFDLEdBQW1ELElBQUExRixFQUN2Q0MsRUFEdUN3RixHQUFBdkYsRUFBQUMsRUFBQUgsRUFBQSxHQUFBMkYsRUFBQXpGLEVBQUEsR0FBQTBGLEVBQUExRixFQUFBLEdBQUEyRixFQUV2QzVGLEVBRnVDeUYsR0FBQUksRUFBQTNGLEVBQUEwRixFQUFBLEdBQUFFLEVBQUFELEVBQUEsR0FBQUUsRUFBQUYsRUFBQSxHQUd4RCxPQUFPdkYsS0FBQTBGLElBQVMxRixLQUFBMEYsSUFBU04sRUFBVEksRUFBQSxHQUF1QnhGLEtBQUEwRixJQUFTTCxFQUFUSSxFQUFoQyxHQUFQLE1BUGMvRixxQkFBQUEsSUFJQXVGLDRCQUFBQSxJQU1BL0IsMEJBQVQsU0FBQWdDLEVBQUFDLEdBQWlELElBQUFRLEVBQ3JDakcsRUFEcUN3RixHQUFBVSxFQUFBaEcsRUFBQStGLEVBQUEsR0FBQVAsRUFBQVEsRUFBQSxHQUFBUCxFQUFBTyxFQUFBLEdBQUFDLEVBRXJDbkcsRUFGcUN5RixHQUFBVyxFQUFBbEcsRUFBQWlHLEVBQUEsR0FBQUwsRUFBQU0sRUFBQSxHQUFBTCxFQUFBSyxFQUFBLEdBR3RELE9BQ0U5RixLQUFBK0YsSUFBU1AsRUFBVEosSUFBcUJGLEVBQUFsSSxNQUFjbUksRUFBZG5JLE1BQUQsR0FBcEIsR0FBMkRnRCxLQUFBK0YsSUFBU04sRUFBVEosSUFBcUJILEVBQUEvSCxPQUFlZ0ksRUFBZmhJLE9BQUQsR0FEakYsS0FPY3FDLDRDQUFULFNBQUEwRixFQUFBQyxHQUF5RixJQUF0QmEsRUFBc0IsRUFBQS9JLFVBQUE3QixhQUFBOEIsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBQWZnSixFQUMvRSxPQUFPaEIsRUFBQUMsRUFBQUMsR0FBUGEsR0FIRixJQUFNQyxFQUFOIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJleHBvcnQgZnVuY3Rpb24gYWRkSGVyb0NvbnRyb2xzKGhlcm8sIGNyZWF0ZUJ1bGxldCkge1xyXG4gIGNvbnN0IHsgZGlyLCBndW5EaXIgfSA9IGhlcm87XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnQgPT4ge1xyXG4gICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XHJcbiAgICAgIGNhc2UgMzg6IHtcclxuICAgICAgICBoZXJvLnVwZGF0ZVNwcml0ZURpcmVjdGlvbigyKTtcclxuICAgICAgICBkaXIueSA9IGd1bkRpci55ID0gLTE7XHJcbiAgICAgICAgZGlyLnggPSBndW5EaXIueCA9IDA7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSAzOToge1xyXG4gICAgICAgIGhlcm8udXBkYXRlU3ByaXRlRGlyZWN0aW9uKDApO1xyXG4gICAgICAgIGRpci55ID0gZ3VuRGlyLnkgPSAwO1xyXG4gICAgICAgIGRpci54ID0gZ3VuRGlyLnggPSAxO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgNDA6IHtcclxuICAgICAgICBoZXJvLnVwZGF0ZVNwcml0ZURpcmVjdGlvbigxKTtcclxuICAgICAgICBkaXIueSA9IGd1bkRpci55ID0gMTtcclxuICAgICAgICBkaXIueCA9IGd1bkRpci54ID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIDM3OiB7XHJcbiAgICAgICAgaGVyby51cGRhdGVTcHJpdGVEaXJlY3Rpb24oMyk7XHJcbiAgICAgICAgZGlyLnggPSBndW5EaXIueCA9IC0xO1xyXG4gICAgICAgIGRpci55ID0gZ3VuRGlyLnkgPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgMTc6IHtcclxuICAgICAgICBkaXIueCA9IDA7XHJcbiAgICAgICAgZGlyLnkgPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgMzI6IHtcclxuICAgICAgICBjcmVhdGVCdWxsZXQoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSGVyb0NvbnRyb2xzKCkgeyB9XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbW92ZVRvQW5vdGhlclNpZGVJZkdvQmV5b25jZUNhbnZhcyhjdHgsIGl0ZW0pIHtcclxuICBsZXQgRklFTERfV0lEVEggPSBjdHguY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gIGxldCBGSUVMRF9IRUlHSFQgPSBjdHguY2FudmFzLmNsaWVudEhlaWdodDtcclxuXHJcbiAgaWYgKGl0ZW0ueCA+IEZJRUxEX1dJRFRIKSB7XHJcbiAgICBpdGVtLnggPSAwO1xyXG4gIH0gZWxzZSBpZiAoaXRlbS54IDwgMCkge1xyXG4gICAgaXRlbS54ID0gRklFTERfV0lEVEg7XHJcbiAgfVxyXG4gIGlmIChpdGVtLnkgPiBGSUVMRF9IRUlHSFQpIHtcclxuICAgIGl0ZW0ueSA9IDA7XHJcbiAgfSBlbHNlIGlmIChpdGVtLnkgPCAwKSB7XHJcbiAgICBpdGVtLnkgPSBGSUVMRF9IRUlHSFQ7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENyZWF0dXJlIH0gZnJvbSBcIi4vY3JlYXR1cmVcIjtcclxuXHJcbmNvbnN0IFNQRUVEID0gMTA7XHJcbmNvbnN0IENPTE9SID0gXCJvcmFuZ2VcIjtcclxuY29uc3QgU0laRSA9IDE2O1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1bGxldCBleHRlbmRzIENyZWF0dXJlIHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHgsIHksIGFsZmFYLCBhbGZhWSwgd2lkdGggPSBTSVpFLCBoZWlnaHQgPSBTSVpFLCBzcGVlZCA9IFNQRUVELCBjb2xvciA9IENPTE9SKSB7XHJcbiAgICBzdXBlcihjdHgsIHdpZHRoLCBoZWlnaHQsIGNvbG9yLCB4IC0gU0laRSAvIDIsIHkgLSBTSVpFIC8gMiwgYWxmYVgsIGFsZmFZLCBzcGVlZCk7XHJcbiAgfVxyXG5cclxuICBuZXdQb3MoKSB7XHJcbiAgICB0aGlzLnggKz0gdGhpcy5zcGVlZCAqIHRoaXMuZGlyLng7XHJcbiAgICB0aGlzLnkgKz0gdGhpcy5zcGVlZCAqIHRoaXMuZGlyLnk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgbW92ZVRvQW5vdGhlclNpZGVJZkdvQmV5b25jZUNhbnZhcyB9IGZyb20gXCIuLi9jb250cm9sc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWF0dXJlIHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLCBoZWlnaHQsIGNvbG9yLCB4LCB5LCBhbGZhWCwgYWxmYVksIHNwZWVkKSB7XHJcbiAgICB0aGlzLmN0eCA9IGN0eDtcclxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgICB0aGlzLmRpciA9IHtcclxuICAgICAgeDogYWxmYVgsXHJcbiAgICAgIHk6IGFsZmFZXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgbmV3UG9zKCkge1xyXG4gICAgdGhpcy54ICs9IHRoaXMuc3BlZWQgKiB0aGlzLmRpci54O1xyXG4gICAgdGhpcy55ICs9IHRoaXMuc3BlZWQgKiB0aGlzLmRpci55O1xyXG4gICAgbW92ZVRvQW5vdGhlclNpZGVJZkdvQmV5b25jZUNhbnZhcyh0aGlzLmN0eCwgdGhpcyk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHVwZGF0ZShjdHgpIHtcclxuICAgIC8vIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAvLyBjdHguYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ3JlYXR1cmUgfSBmcm9tIFwiLi9jcmVhdHVyZVwiO1xyXG5cclxuY29uc3QgU1BFRUQgPSAyO1xyXG5jb25zdCBDT0xPUiA9IFwicmVkXCI7XHJcblxyXG5leHBvcnQgY29uc3QgQkFTRV9EVU1NWV9TSVpFID0gMTg7XHJcblxyXG5leHBvcnQgY2xhc3MgRHVtbXlFbmVteSBleHRlbmRzIENyZWF0dXJlIHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQgPSBTUEVFRCwgY29sb3IgPSBDT0xPUikge1xyXG4gICAgc3VwZXIoY3R4LCB3aWR0aCwgaGVpZ2h0LCBjb2xvciwgeCwgeSwgYWxmYVgsIGFsZmFZLCBzcGVlZCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENyZWF0dXJlIH0gZnJvbSBcIi4vY3JlYXR1cmVcIjtcclxuXHJcbmNvbnN0IFNQRUVEID0gMTtcclxuY29uc3QgSEVJR0hUID0gNTA7XHJcbmNvbnN0IFdJRFRIID0gMzA7XHJcbmNvbnN0IENPTE9SID0gXCJncmVlblwiO1xyXG5cclxuY29uc3QgaW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm8tc3ByaXRlJylcclxuXHJcbmV4cG9ydCBjbGFzcyBIZXJvIGV4dGVuZHMgQ3JlYXR1cmUge1xyXG4gIGNvbnN0cnVjdG9yKGN0eCwgd2lkdGggPSBXSURUSCwgaGVpZ2h0ID0gSEVJR0hULCBjb2xvciA9IENPTE9SLCB4ID0gNTAsIHkgPSA1MCwgYWxmYVggPSAwLCBhbGZhWSA9IDAsIHNwZWVkID0gU1BFRUQpIHtcclxuICAgIHN1cGVyKGN0eCwgd2lkdGgsIGhlaWdodCwgY29sb3IsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQpO1xyXG4gICAgdGhpcy5ndW5EaXIgPSB7XHJcbiAgICAgIHg6IDEsXHJcbiAgICAgIHk6IDBcclxuICAgIH07XHJcbiAgICB0aGlzLnNwcml0ZSA9IHtcclxuICAgICAgYmFzZVg6IDksXHJcbiAgICAgIGJhc2VZOiAyLFxyXG4gICAgICB4OiA5LFxyXG4gICAgICB5OiAyLFxyXG4gICAgICB3aWR0aDogMTYsXHJcbiAgICAgIGhlaWdodDogMjYsXHJcbiAgICAgIGRlbHRhWDogMzIsXHJcbiAgICAgIGRlbHRhWTogMzJcclxuICAgIH1cclxuICAgIHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuc3ByaXRlLnkgPCA5Nikge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnkgKz0gdGhpcy5zcHJpdGUuZGVsdGFZXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUueSA9IHRoaXMuc3ByaXRlLmJhc2VZO1xyXG4gICAgICB9XHJcbiAgICB9LCAyMDApXHJcbiAgfVxyXG5cclxuICB1cGRhdGUoY3R4KSB7XHJcbiAgICBjb25zdCB7IHNwcml0ZSB9ID0gdGhpc1xyXG4gICAgY3R4LmRyYXdJbWFnZShpbWcsIHNwcml0ZS54LCBzcHJpdGUueSwgc3ByaXRlLndpZHRoLCBzcHJpdGUuaGVpZ2h0LCB0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHVwZGF0ZVNwcml0ZURpcmVjdGlvbih2ZXJ0aWNhbExheWVyKSB7XHJcbiAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy5zcHJpdGUuYmFzZVggKyB2ZXJ0aWNhbExheWVyICogdGhpcy5zcHJpdGUuZGVsdGFYXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENyZWF0dXJlIH0gZnJvbSBcIi4vY3JlYXR1cmVcIjtcclxuaW1wb3J0IHsgZ2V0Q2VudGVyQ29vcmRpbmF0ZXMsIGlzRGlzdGFuY2VCZXR3ZWVuQ3JlYXR1cmVzTG93VGhhblNlYXJjaGFibGUgfSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmNvbnN0IFNQRUVEID0gMC4xO1xyXG5jb25zdCBDT0xPUiA9IFwiYmx1ZVwiO1xyXG5leHBvcnQgY29uc3QgQkFTRV9TTUFSVF9TSVpFID0gMTY7XHJcblxyXG5leHBvcnQgY2xhc3MgU21hcnRFbmVteSBleHRlbmRzIENyZWF0dXJlIHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGFsZmFYLCBhbGZhWSwgc3BlZWQgPSBTUEVFRCwgY29sb3IgPSBDT0xPUikge1xyXG4gICAgc3VwZXIoY3R4LCB3aWR0aCwgaGVpZ2h0LCBjb2xvciwgeCwgeSwgYWxmYVgsIGFsZmFZLCBzcGVlZCk7XHJcbiAgfVxyXG5cclxuICBuZXdQb3MoaGVybykge1xyXG4gICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oaGVybyk7XHJcbiAgICBzdXBlci5uZXdQb3MoKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgc2hvd1dhcm5pbmdNZXNzYWdlKG1lc3NhZ2UpIHtcclxuICAgIHRoaXMuY3R4LmZvbnQgPSBcIjEzcHggQXJpYWxcIjtcclxuICAgIHRoaXMuY3R4LnN0cm9rZVRleHQobWVzc2FnZSB8fCBcIkkgc2VlIHlvdVwiLCB0aGlzLnggKyAxMCwgdGhpcy55IC0gNSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVEaXJlY3Rpb24oaGVybykge1xyXG4gICAgY29uc3QgVklTSU9OX0RJU1RBTkNFID0gMjAwO1xyXG4gICAgaWYgKGlzRGlzdGFuY2VCZXR3ZWVuQ3JlYXR1cmVzTG93VGhhblNlYXJjaGFibGUoaGVybywgdGhpcywgVklTSU9OX0RJU1RBTkNFKSkge1xyXG4gICAgICBjb25zdCBbaGVyb1gsIGhlcm9ZXSA9IGdldENlbnRlckNvb3JkaW5hdGVzKGhlcm8pO1xyXG4gICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoaGVyb1ggLSB0aGlzLngsIGhlcm9ZIC0gdGhpcy55KSArIE1hdGguUEk7XHJcbiAgICAgIHRoaXMuZGlyLnkgPSAtTWF0aC5jb3MoYW5nbGUpO1xyXG4gICAgICB0aGlzLmRpci54ID0gLU1hdGguc2luKGFuZ2xlKTtcclxuICAgICAgdGhpcy5zaG93V2FybmluZ01lc3NhZ2UoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSGVybyB9IGZyb20gXCIuL2NyZWF0dXJlcy9oZXJvXCI7XHJcbmltcG9ydCB7IER1bW15RW5lbXksIEJBU0VfRFVNTVlfU0laRSB9IGZyb20gXCIuL2NyZWF0dXJlcy9kdW1teUVuZW15XCI7XHJcbmltcG9ydCB7IFNtYXJ0RW5lbXksIEJBU0VfU01BUlRfU0laRSB9IGZyb20gXCIuL2NyZWF0dXJlcy9zbWFydEVuZW15XCI7XHJcbmltcG9ydCB7IGFkZEhlcm9Db250cm9scyB9IGZyb20gXCIuL2NvbnRyb2xzXCI7XHJcbmltcG9ydCB7IGlzRGlzdGFuY2VCZXR3ZWVuQ3JlYXR1cmVzTG93VGhhblNlYXJjaGFibGUsIGlmQ3JlYXR1cmVzVG91Y2hFYWNoT3RoZXIsIGdldENlbnRlckNvb3JkaW5hdGVzIH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgQnVsbGV0IH0gZnJvbSBcIi4vY3JlYXR1cmVzL2J1bGxldFwiO1xyXG5cclxuY29uc3Qgc2NvcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNjb3JlXCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWUge1xyXG4gIGNvbnN0cnVjdG9yKGNhbnZhcykge1xyXG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IDcwMDtcclxuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IDcwMDtcclxuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgdGhpcy5oZXJvID0gbmV3IEhlcm8odGhpcy5jdHgpO1xyXG4gICAgdGhpcy5kdW1teUVuZW1pZXMgPSBbXTtcclxuICAgIHRoaXMuc21hcnRFbmVtaWVzID0gW107XHJcbiAgICB0aGlzLmhlcm9CdWxsZXRzID0gW107XHJcbiAgICB0aGlzLnRpbWVycyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgc3RhcnQoKSB7XHJcbiAgICBjb25zdCB0aW1lcjEgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmluaXRpYWxpemVHYW1lKCksIDEwKTtcclxuICAgIGNvbnN0IHRpbWVyMiA9IHNldEludGVydmFsKCgpID0+IHRoaXMuYWRkRW5lbXkodGhpcy5kdW1teUVuZW1pZXMsIER1bW15RW5lbXksIEJBU0VfRFVNTVlfU0laRSksIDQwMDApO1xyXG4gICAgY29uc3QgdGltZXIzID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5hZGRFbmVteSh0aGlzLnNtYXJ0RW5lbWllcywgU21hcnRFbmVteSwgQkFTRV9TTUFSVF9TSVpFKSwgNjAwMCk7XHJcbiAgICB0aGlzLnRpbWVycy5wdXNoKHRpbWVyMSwgdGltZXIyLCB0aW1lcjMpO1xyXG4gICAgYWRkSGVyb0NvbnRyb2xzKHRoaXMuaGVybywgKCkgPT4gdGhpcy5hZGRCdWxsZXQodGhpcy5oZXJvQnVsbGV0cywgQnVsbGV0KSk7XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplR2FtZSgpIHtcclxuICAgIHRoaXMudXBkYXRlU3RhdGUoKTtcclxuICAgIHRoaXMudXBkYXRlU2NvcmUoKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVNjb3JlKCkge1xyXG4gICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuY3VycmVudFRpbWUgKyAxMDtcclxuICAgIGNvbnN0IHZhbHVlID0gKHRoaXMuY3VycmVudFRpbWUgLSB0aGlzLnN0YXJ0VGltZSkgLyAxMDAwO1xyXG4gICAgc2NvcmUuaW5uZXJIVE1MID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTdGF0ZSgpIHtcclxuICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmN0eC5jYW52YXMuY2xpZW50V2lkdGgsIHRoaXMuY3R4LmNhbnZhcy5jbGllbnRIZWlnaHQpO1xyXG4gICAgdGhpcy5oZXJvLm5ld1BvcygpLnVwZGF0ZSh0aGlzLmN0eCk7XHJcbiAgICB0aGlzLmhhbmRsZUR1bW15RW5lbWllcygpO1xyXG4gICAgdGhpcy5oYW5kbGVTbWFydEVuZW1pZXMoKTtcclxuICAgIHRoaXMuaGFuZGxlSGVyb0J1bGxldHMoKTtcclxuICAgIHRoaXMuaGFuZGxlRW5lbWllc0RlYXRoKCk7XHJcbiAgICB0aGlzLmhhbmRsZUhlcm9EZWF0aCgpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlRHVtbXlFbmVtaWVzKCkge1xyXG4gICAgdGhpcy5kdW1teUVuZW1pZXMuZm9yRWFjaChlbmVteSA9PiBlbmVteS5uZXdQb3MoKS51cGRhdGUodGhpcy5jdHgpKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVNtYXJ0RW5lbWllcygpIHtcclxuICAgIHRoaXMuc21hcnRFbmVtaWVzID0gdGhpcy5zbWFydEVuZW1pZXMucmVkdWNlKChuZXdBcnJheSwgY3VycmVudEVuZW15LCBpbmRleCwgc21hcnRBcnJheSkgPT4ge1xyXG4gICAgICBjdXJyZW50RW5lbXkubmV3UG9zKHRoaXMuaGVybykudXBkYXRlKHRoaXMuY3R4KTtcclxuICAgICAgaWYgKG5ld0FycmF5LnNvbWUoZW5lbXkgPT4gaWZDcmVhdHVyZXNUb3VjaEVhY2hPdGhlcihlbmVteSwgY3VycmVudEVuZW15KSkpIHtcclxuICAgICAgICByZXR1cm4gbmV3QXJyYXk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHNtYXJ0QXJyYXkuc29tZShlbmVteSA9PiBpZkNyZWF0dXJlc1RvdWNoRWFjaE90aGVyKGVuZW15LCBjdXJyZW50RW5lbXkpICYmIGVuZW15ICE9PSBjdXJyZW50RW5lbXkpKSB7XHJcbiAgICAgICAgY3VycmVudEVuZW15LndpZHRoICo9IDEuNTtcclxuICAgICAgICBjdXJyZW50RW5lbXkuaGVpZ2h0ICo9IDEuNTtcclxuICAgICAgfVxyXG4gICAgICBuZXdBcnJheS5wdXNoKGN1cnJlbnRFbmVteSk7XHJcbiAgICAgIHJldHVybiBuZXdBcnJheTtcclxuICAgIH0sIFtdKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUhlcm9CdWxsZXRzKCkge1xyXG4gICAgbGV0IEZJRUxEX1dJRFRIID0gdGhpcy5jdHguY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgbGV0IEZJRUxEX0hFSUdIVCA9IHRoaXMuY3R4LmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcbiAgICBsZXQgaXNJbnNpZGVDYW52YXM7XHJcbiAgICB0aGlzLmhlcm9CdWxsZXRzID0gdGhpcy5oZXJvQnVsbGV0cy5maWx0ZXIoYnVsbGV0ID0+IHtcclxuICAgICAgaXNJbnNpZGVDYW52YXMgPSBidWxsZXQueCA8IEZJRUxEX1dJRFRIICYmIGJ1bGxldC54ID4gMCAmJiBidWxsZXQueSA8IEZJRUxEX0hFSUdIVCAmJiBidWxsZXQueSA+IDA7XHJcbiAgICAgIGlmIChpc0luc2lkZUNhbnZhcykge1xyXG4gICAgICAgIGJ1bGxldC5uZXdQb3MoKS51cGRhdGUodGhpcy5jdHgpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpc0luc2lkZUNhbnZhcztcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlSGVyb0RlYXRoKCkge1xyXG4gICAgY29uc3QgZW5lbWllcyA9IFsuLi50aGlzLmR1bW15RW5lbWllcywgLi4udGhpcy5zbWFydEVuZW1pZXNdO1xyXG4gICAgaWYgKGVuZW1pZXMuc29tZShlbmVteSA9PiBpZkNyZWF0dXJlc1RvdWNoRWFjaE90aGVyKHRoaXMuaGVybywgZW5lbXkpKSkge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLnRpbWVycy5tYXAodGltZXIgPT4gY2xlYXJJbnRlcnZhbCh0aW1lcikpO1xyXG4gICAgICAgIGFsZXJ0KFwiWW91IGxvc2VcIik7XHJcbiAgICAgIH0sIDUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlRW5lbWllc0RlYXRoKCkge1xyXG4gICAgY29uc3QgbmV3U21hcnRFbmVtaWVzID0gW107XHJcbiAgICBjb25zdCBuZXdEdW1teUVuZW1pZXMgPSBbXTtcclxuICAgIGNvbnN0IG5ld0J1bGxldHMgPSBbXTtcclxuICAgIGNvbnN0IGFsbEVuZW1pZXMgPSBbLi4udGhpcy5zbWFydEVuZW1pZXMsIC4uLnRoaXMuZHVtbXlFbmVtaWVzXVxyXG5cclxuICAgIHRoaXMuc21hcnRFbmVtaWVzLmZvckVhY2goZW5lbXkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMuaGVyb0J1bGxldHMuc29tZShidWxsZXQgPT4gaWZDcmVhdHVyZXNUb3VjaEVhY2hPdGhlcihlbmVteSwgYnVsbGV0KSkpIHtcclxuICAgICAgICBuZXdTbWFydEVuZW1pZXMucHVzaChlbmVteSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHRoaXMuZHVtbXlFbmVtaWVzLmZvckVhY2goZW5lbXkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMuaGVyb0J1bGxldHMuc29tZShidWxsZXQgPT4gaWZDcmVhdHVyZXNUb3VjaEVhY2hPdGhlcihlbmVteSwgYnVsbGV0KSkpIHtcclxuICAgICAgICBuZXdEdW1teUVuZW1pZXMucHVzaChlbmVteSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHRoaXMuaGVyb0J1bGxldHMuZm9yRWFjaChidWxsZXQgPT4ge1xyXG4gICAgICBpZiAoIWFsbEVuZW1pZXMuc29tZShlbmVteSA9PiBpZkNyZWF0dXJlc1RvdWNoRWFjaE90aGVyKGVuZW15LCBidWxsZXQpKSkge1xyXG4gICAgICAgIG5ld0J1bGxldHMucHVzaChidWxsZXQpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICB0aGlzLnNtYXJ0RW5lbWllcyA9IG5ld1NtYXJ0RW5lbWllcztcclxuICAgIHRoaXMuZHVtbXlFbmVtaWVzID0gbmV3RHVtbXlFbmVtaWVzO1xyXG4gICAgdGhpcy5oZXJvQnVsbGV0cyA9IG5ld0J1bGxldHM7XHJcbiAgfVxyXG5cclxuICBhZGRFbmVteShlbmVteUFycmF5LCBjcmVhdHVyZUNvbnN0cnVjdG9yLCBiYXNlU2l6ZSkge1xyXG4gICAgY29uc3QgeyBzaXplLCB4LCB5LCBhbGZhWCwgYWxmYVkgfSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21Qb3NpdGlvbkFuZERpcmVjdGlvbih0aGlzLmhlcm8sIGJhc2VTaXplKTtcclxuICAgIGNvbnN0IGVuZW15ID0gbmV3IGNyZWF0dXJlQ29uc3RydWN0b3IodGhpcy5jdHgsIHNpemUsIHNpemUsIHgsIHksIGFsZmFYLCBhbGZhWSk7XHJcbiAgICBlbmVteUFycmF5LnB1c2goZW5lbXkpO1xyXG4gIH1cclxuXHJcbiAgYWRkQnVsbGV0KGJ1bGxldEFycmF5LCBidWxsZXRDb25zdHJ1Y3Rvcikge1xyXG4gICAgY29uc3QgW2hlcm9YLCBoZXJvWV0gPSBnZXRDZW50ZXJDb29yZGluYXRlcyh0aGlzLmhlcm8pO1xyXG4gICAgY29uc3QgeyBoZXJvIH0gPSB0aGlzO1xyXG4gICAgY29uc3QgZGlyZWN0aW9uID0gaGVyby5kaXIueCA9PT0gMCAmJiBoZXJvLmRpci55ID09PSAwID8gaGVyby5ndW5EaXIgOiBoZXJvLmRpcjtcclxuICAgIGNvbnN0IGJ1bGxldCA9IG5ldyBidWxsZXRDb25zdHJ1Y3Rvcih0aGlzLmN0eCwgaGVyb1gsIGhlcm9ZLCBkaXJlY3Rpb24ueCwgZGlyZWN0aW9uLnkpO1xyXG4gICAgYnVsbGV0QXJyYXkucHVzaChidWxsZXQpO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVSYW5kb21Qb3NpdGlvbkFuZERpcmVjdGlvbihoZXJvLCBiYXNlU2l6ZSkge1xyXG4gICAgbGV0IHg7XHJcbiAgICBsZXQgeTtcclxuICAgIGNvbnN0IHNpemUgPSBNYXRoLnJhbmRvbSgpICogMTAgKyBiYXNlU2l6ZTtcclxuICAgIGRvIHtcclxuICAgICAgeCA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLmN0eC5jYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICAgIHkgPSBNYXRoLnJhbmRvbSgpICogdGhpcy5jdHguY2FudmFzLmNsaWVudEhlaWdodDtcclxuICAgIH0gd2hpbGUgKGlzRGlzdGFuY2VCZXR3ZWVuQ3JlYXR1cmVzTG93VGhhblNlYXJjaGFibGUoaGVybywgeyB4LCB5LCB3aWR0aDogc2l6ZSwgaGVpZ2h0OiBzaXplIH0pKTtcclxuXHJcbiAgICBjb25zdCBhbGZhWCA9IE1hdGgucmFuZG9tKCkgKiAyIC0gMTtcclxuICAgIGNvbnN0IGFsZmFZID0gTWF0aC5yYW5kb20oKSAqIDIgLSAxO1xyXG5cclxuICAgIHJldHVybiB7IHgsIHksIGFsZmFYLCBhbGZhWSwgc2l6ZSB9O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vZ2FtZS1hcmVuYVwiO1xyXG5cclxuaW5pdGlhbGl6ZUdhbWUoKTtcclxuXHJcbmZ1bmN0aW9uIGluaXRpYWxpemVHYW1lKCkge1xyXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJjYW52YXNcIik7XHJcblxyXG4gIGNvbnN0IGdhbWUgPSBuZXcgR2FtZShjYW52YXMpO1xyXG4gIGdhbWUuc3RhcnQoKTtcclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0Q2VudGVyQ29vcmRpbmF0ZXMoY3JlYXR1cmUpIHtcclxuICByZXR1cm4gW2NyZWF0dXJlLnggKyAwLjUgKiBjcmVhdHVyZS53aWR0aCwgY3JlYXR1cmUueSArIDAuNSAqIGNyZWF0dXJlLmhlaWdodF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREaXN0YW5jZUJldHdlZW5DcmVhdHVyZXMoaXRlbTEsIGl0ZW0yKSB7XHJcbiAgY29uc3QgW3gxLCB5MV0gPSBnZXRDZW50ZXJDb29yZGluYXRlcyhpdGVtMSk7XHJcbiAgY29uc3QgW3gyLCB5Ml0gPSBnZXRDZW50ZXJDb29yZGluYXRlcyhpdGVtMik7XHJcbiAgcmV0dXJuIE1hdGgucG93KE1hdGgucG93KHgxIC0geDIsIDIpICsgTWF0aC5wb3coeTEgLSB5MiwgMiksIDAuNSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpZkNyZWF0dXJlc1RvdWNoRWFjaE90aGVyKGl0ZW0xLCBpdGVtMikge1xyXG4gIGNvbnN0IFt4MSwgeTFdID0gZ2V0Q2VudGVyQ29vcmRpbmF0ZXMoaXRlbTEpO1xyXG4gIGNvbnN0IFt4MiwgeTJdID0gZ2V0Q2VudGVyQ29vcmRpbmF0ZXMoaXRlbTIpO1xyXG4gIHJldHVybiAoXHJcbiAgICBNYXRoLmFicyh4MiAtIHgxKSA8IChpdGVtMS53aWR0aCArIGl0ZW0yLndpZHRoIC0gMikgLyAyICYmIE1hdGguYWJzKHkyIC0geTEpIDwgKGl0ZW0xLmhlaWdodCArIGl0ZW0yLmhlaWdodCAtIDIpIC8gMlxyXG4gICk7XHJcbn1cclxuXHJcbmNvbnN0IFNBRkVfRElTVEFOQ0UgPSAyMDA7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNEaXN0YW5jZUJldHdlZW5DcmVhdHVyZXNMb3dUaGFuU2VhcmNoYWJsZShpdGVtMSwgaXRlbTIsIGRpc3QgPSBTQUZFX0RJU1RBTkNFKSB7XHJcbiAgcmV0dXJuIGdldERpc3RhbmNlQmV0d2VlbkNyZWF0dXJlcyhpdGVtMSwgaXRlbTIpIDwgZGlzdDtcclxufVxyXG4iXX0=
